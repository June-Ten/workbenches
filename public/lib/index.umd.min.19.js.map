{"version":3,"sources":["webpack://avueData/./src/components/ExportBox/index.vue","webpack://avueData/src/components/ExportBox/index.vue","webpack://avueData/./src/components/ExportBox/index.vue?6565","webpack://avueData/./src/components/ExportBox/index.vue?6a15","webpack://avueData/./src/assets/images/query-noData.png","webpack://avueData/./src/components/JNPFCustom/index.vue","webpack://avueData/src/components/JNPFCustom/index.vue","webpack://avueData/./src/components/JNPFCustom/index.vue?613d","webpack://avueData/./src/components/JNPFCustom/index.vue?8670","webpack://avueData/./src/components/PrintBrowse/batch.vue?4ec3","webpack://avueData/./node_modules/@vue/babel-helper-vue-jsx-merge-props/dist/helper.js","webpack://avueData/./src/components/PrintBrowse/batch.vue","webpack://avueData/src/components/PrintBrowse/batch.vue","webpack://avueData/./src/components/PrintBrowse/batch.vue?588f","webpack://avueData/./src/components/PrintBrowse/batch.vue?5fa4","webpack://avueData/./src/components/Generator/parser/Parser.vue","webpack://avueData/./src/components/Generator/parser/Parser.vue?6852","webpack://avueData/./src/components/SuperQuery/index.vue","webpack://avueData/./src/api/system/advancedQuery.js","webpack://avueData/src/components/SuperQuery/index.vue","webpack://avueData/./src/components/SuperQuery/index.vue?94e0","webpack://avueData/./src/components/SuperQuery/index.vue?8954","webpack://avueData/./src/components/ColumnDesign/condition/index.vue","webpack://avueData/src/components/ColumnDesign/condition/index.vue","webpack://avueData/./src/components/ColumnDesign/condition/index.vue?b9cb","webpack://avueData/./src/components/ColumnDesign/condition/index.vue?1562","webpack://avueData/src/components/Generator/parser/Parser.vue","webpack://avueData/./src/components/SuperQuery/index.vue?6c20","webpack://avueData/./src/components/Generator/render/render.js","webpack://avueData/./src/components/ColumnDesign/condition/index.vue?e8d3","webpack://avueData/./src/components/SuperQuery/index.vue?b0ff"],"names":["render","_vm","this","_c","_self","staticClass","attrs","visible","on","$event","model","value","type","callback","$$v","expression","_v","slot","isIndeterminate","handleCheckAllChange","checkAll","handleCheckedChange","columns","_l","columnList","item","key","prop","label","_s","$t","downLoad","staticRenderFns","data","btnLoading","methods","init","val","dataType","selectKey","component","module","exports","config","popupType","popupTitle","popupWidth","$emit","loading","_e","ref","formConf","submitForm","dataFormSubmit","name","components","Parser","props","formData","isPreview","id","dataForm","modelId","isAdd","computed","mapGetters","getConfigData","row","getModelInfo","setDataFun","message","duration","catch","fillFormData","form","noShow","loop","onClose","ele","paramList","getDataInterfaceRes","successFun","createModel","_extends","Object","assign","bind","a","b","c","arguments","length","d","prototype","hasOwnProperty","call","apply","normalMerge","toArrayMerge","functionalMerge","mergeJsxProps","reduce","indexOf","Array","e","concat","f","g","h","i","mergeFn","_g","_b","onOpen","$attrs","$listeners","require","pageIndex","staticStyle","batchData","scrollpage","word","print","closeDialog","directives","rawName","index","domProps","mixins","watch","handler","deep","immediate","dom","top","behavior","conditionList","key2","columnOptions","matchLogic","addCondition","addPlan","planList","selectPlan","fullName","stopPropagation","delPlan","close","query","addPlanVisible","dataRule","$set","saveBtnLoading","savePlan","getAdvancedQueryList","moduleId","request","url","method","Delete","Create","Update","logic","groups","fieldValue","field","symbol","jnpfKey","cellKey","Condition","default","staging","fieldOptions","required","trigger","currMenuId","fieldValueType","fieldValueJnpfKey","then","submit","conditionJson","formMethod","getDataType","exist","isOk","matchLog","logicOptions","addItem","delGroup","subItem","fieldNameChange","usedFormItems","symbolChange","getSymbolOptions","disabled","precision","interfaceId","propsValue","relationField","templateJson","total","includes","multiple","input","options","child","placeholder","clearable","separator","filterable","showAllLevels","format","refInFor","ableIds","selectType","hasPage","pageSize","level","delItem","addGroup","switchSymbolOptions","modelType","nowJnpfKey","dialogVisible","baseSymbolOptions","rangeSymbolOptions","selectSymbolOptions","useRangeSymbolList","useSelectSymbolList","useSwitchSymbolList","relationFormSymbolOptions","useRelationFormSymbolList","list","buildOptions","componentList","cur","getDictionaryDataSelector","getData","handleClose","show","childIndex","obj","colFormItem","scheme","listeners","labelWidth","Item","toolTip","rowFormItem","it","header","renderFrom","formConfCopy","classStyle","event","renderFormItem","formBtns","elementList","renderChildren","setValue","buildListeners","outer","inner","_data","func","provide","parameter","formDataConf","setFormData","setShowOrHide","setRequired","setDisabled","onlineUtils","mounted","initRelationData","handleRelationFun","initCss","formCopy","document","style","head","buildCSS","str","cut","newStr","initFormData","buildRelations","relations","realVModel","opType","previousDate","handleRelation","defaultValue","startTime","endTime","handleDefaultRelation","getParamList","initRelationForm","buildRules","rules","isRegExp","onLoad","onLoadFunc","resetForm","checkTableData","res","getFieldOptions","setFieldOptions","comSet","isTreeSelect","beforeSubmit","afterSubmit","onCascaderChange","onCascaderBlur","vModel","dataObject","emitEvents","confClone","forEach","attr","eventKeyList","keys","arg","buildDataObject","__config__","undefined","RegExp","isArray","__vModel__","tableName","isSubTable","clearAttrs","__slot__","__methods__","makeDataObject","class","nativeOn","scopedSlots","conf","deepClone","children","$slots","tag"],"mappings":"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AAoF,eACA,CAAApF,aAAAoF,gBACA,CAAApF,UAAAoF,eACA,CAAApF,aAAAoF,iBAEA,GACA,CAAApF,QAAAoF,iBACA,CAAApF,OAAAoF,eACA,CAAApF,QAAAoF,eACA,CAAApF,QAAAoF,iBACA,CAAApF,OAAAoF,eACA,CAAApF,QAAAoF,gBACA,CAAApF,aAAAoF,eACA,CAAApF,UAAAoF,eACA,CAAApF,aAAAoF,iBAEA,GACA,CAAApF,QAAAoF,eACA,CAAApF,QAAAoF,iBAEA,YACA4E,EADA,CAEA,CAAAhK,QAAAoF,mBACA,CAAApF,WAAAoF,oBACA,CAAApF,UAAAoF,eACA,CAAApF,aAAAoF,kBAEA,gBAAApF,UAAAoF,eAAA,CAAApF,aAAAoF,kBACA,kGACA,GACA,QACA,WACA,SACA,aACA,WACA,aACA,iBACA,YACA,YACA,aACA,cACA,aACA,cACA,aACA,aACA,eACA,eACA,oBAEA,aACA,iCACe,GACfvF,OACAoK,WACAjN,qBACA8J,YAEAhC,eACA9H,WACA8J,mBAAA,WAEA/J,OACAC,WACA8J,mBAAA,WAEAkC,SACAhM,WACA8J,mBAAA,WAEA9J,MACAA,YACA8J,WAEA/B,YACA/H,YACA8J,gBAGAzI,KA3BA,WA4BA,OACA6L,kBACAC,iBACAvF,iBACAiD,yBACAC,eACAsC,oBACAC,qBACAC,sBACAN,sBACAO,qBACAC,sBACAC,sBACAC,4BACAC,8BAGAvK,UACA+H,cADA,WAEA,SACA,kBACA,IAEA9J,eACA,0CACAA,uBACAsE,sCAEA3B,2BAEA,0DAKA3C,eACA,wJAEAuM,YAEA5J,sBACA,QAEA,OADA,qBACA,IAGAqD,OACAtH,OACAuH,QADA,SACA7F,GACA,IACA,uBAGA+F,aACAD,UAGAhG,SACA8J,iBADA,SACA1B,GACA,qEACA,0EACA,4DACA,8DACA,wBAEAoC,MARA,WASA,qBAEA8B,aAXA,SAWAC,GAoBA,OAnBAA,uBACAC,cACA,mBACA,4CACA,8CACAA,aACAC,mDACAD,0BAGA,qCACAA,aACA,OAAA5J,8BACAC,+CACA2J,iDAKA,GAEAE,Q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,EAAOnN,EAAQwM,GACjC,8BACA,wDAGA,SAASiB,eAAejB,GAAxB,WACA,eACA,KAiDA,OAhDA,MAEA/J,uCACA,cACA,iCACA,IACAgK,iBACA,iBACA,SACA,sDACA,gBACA,uCAEAiB,IADA,SACAA,sBACAC,6BACA,kCACAC,aACA,QAIAtO,QACA,CAEA,IADA,SACA,mBACA,+BACAsO,OACA,MAGAtO,UAGAA,EADA,0BACAA,KAEAA,qBAEAuO,kIAAAvO,QAAA,cACA,oCAEAuO,kIAAAvO,WAAA,mBAMAmN,oBAAA,+BAEA,EAGe,0BACf7L,YACAvD,wFAEAyD,OACAN,UACAvC,YACAiK,cAGA5I,KAVA,WAUA,aACA,MACA2N,+EADA,2HAEA,4BAFA,2HAGA,4BAHA,qIAIA,IAJA,uIAKA,IALA,uIAMA,IANA,2IAOA,GAPA,GAkBA,OATA,6BACA,oEACA,6CACA,kEACA,8EACA,uDACA,2BACA,4BAEA,GAEAa,QA/BA,WAgCA,OACAC,2BAGA1M,4PACAC,wEADA,IAEA0M,aAFA,WAGA,8BACA,gBAEAD,UANA,WAOA,+DAGA,OAFA,0CACA,kDACA,CACAhN,uCACAkN,6BACAC,iCACAC,6BACAC,6BACAC,sCAIAC,QAxDA,WAwDA,WACA,wBACA,2BACA,gDAGA9O,SACA+O,iBADA,WACA,WACA,gBACA1C,uBACA,sCACA,oDAGA2C,6BAEAC,QAVA,SAUAC,GACA,oCACAC,4CAEA,+CACA,kCACAC,kBACAA,eACAA,uCACAC,kBAEAC,SArBA,SAqBAC,GACAA,WACA,SACA,eAOA,OANAC,uBACA,IACAlQ,0BACAmQ,SAGA,GAEAC,aAjCA,SAiCAnD,EAAAhL,GAAA,WACA,wDACAgL,uBACA,mBACA,+CACA,+BACA,6CAGAoD,eA1CA,SA0CApD,EAAAqD,GAAA,WACArD,uBACA,mBACA,mHACA,wBACA,sCACA,yCACA,wBACA,oBACA,yPACAC,GADA,IAEAqD,2FACAC,sBAEA,sCACA,iFACA,GACAF,gCAGAA,wBAOA,kFACA,iBACA,yPACApD,GADA,IAEAqD,2FACAC,0BAEA,sCACA,iFACA,GACAF,gCAGAA,uBAKA,0EACA,iBACA,yPACApD,GADA,IAEAqD,2FACAC,6BAEA,sCACA,iFACA,GACAF,gCAGAA,uBAKA,8BACA,sCACA,yCACA,wBACA,oBACA,yPACApD,GADA,IAEAqD,2FACAC,2BAEA,sCACA,iFACA,GACAF,gCAGAA,wBAMA,6BACA,mBACA,sBACApD,kCACA,sBACAA,sCACA,uBACA,SACA,4CACAuD,+IACAvD,mCACA,sBACAuD,gHACAvD,mCAEAA,2JAEA,uBACA,SACA,4CACAuD,+IACAvD,mCACA,sBACAuD,+GACAvD,mCAEAA,qJAIA,iBACA,oBACAA,8BACA,oBACAA,oCACA,qBACA,SACA,wCACAuD,yIACAvD,iCACA,oBACAuD,8GACAvD,iCAEAA,qJAEA,qBACA,SACA,wCACAuD,yIACAvD,iCACA,oBACAuD,6GACAvD,iCAEAA,+IAIA,oCACA,yPACAA,GADA,IAEAqD,2FACAC,mBAEA,sDACA,iGACA,GACAF,gDAGAA,uCAGA,kCACA,yPACApD,GADA,IAEAqD,2FACAC,mBAEA,oDACA,+FACA,GACAF,8CAGAA,sCAIA,6BACA,6CACA,mBACA,sBACApD,yCACA,iCACAA,wBAEAA,mCAEA,sBACAA,2CACA,uBACA,SACAuD,kIACAvD,oCACA,uBACA,SACAuD,iIACAvD,+BAGA,iBACA,oBACAA,qCACA,+BACAA,oBAEAA,+BAEA,oBACAA,yCACA,qBACA,SACAuD,8HACAvD,kCACA,qBACA,SACAuD,6HACAvD,6BAGA,oCACA,yPACAA,GADA,IAEAqD,2FACAC,mBAEA,sDACA,iGACA,GACAF,gDAGAA,uCAGA,kCACA,yPACApD,GADA,IAEAqD,2FACAC,mBAEA,oDACA,+FACA,GACAF,8CAGAA,sCAIA,+CAGAI,eArSA,SAqSA9H,GAAA,WACA,MACA,qBACA,eACA,SACA,IADA,eACAxD,GACA,cACA,6BACA,eACA,YACA,KAIA,IAHA,sIACAuL,MAEA,iBAEA,sBACA,8FACA,CAEA,GADA,8BACA,yBACA,OACArN,kEAEAC,yGACA,aACA,qCAGA,gCACA,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","file":"index.umd.min.19.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center JNPF-dialog-export\",attrs:{\"title\":\"导出数据\",\"close-on-click-modal\":false,\"visible\":_vm.visible,\"lock-scroll\":\"\",\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{attrs:{\"label-position\":\"top\"}},[_c('el-form-item',[_c('el-radio-group',{model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"当前页面数据\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"全部页面数据\")])],1)],1),_c('el-form-item',{staticClass:\"export-line\"},[_c('p',{staticClass:\"export-label\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"列表数据\"),_c('span',[_vm._v(\"请选择导出字段\")])]),_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_c('el-checkbox-group',{on:{\"change\":_vm.handleCheckedChange},model:{value:(_vm.columns),callback:function ($$v) {_vm.columns=$$v},expression:\"columns\"}},_vm._l((_vm.columnList),function(item){return _c('el-checkbox',{key:item.prop,staticClass:\"column-item\",attrs:{\"label\":item.prop,\"title\":item.label}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('p',{staticClass:\"footer-tip\"},[_vm._v(\"提示:系统将导出列表中选中的数据\")]),_c('el-button',{on:{\"click\":function($event){_vm.visible=false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downLoad}},[_vm._v(\"导 出\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"导出数据\" :close-on-click-modal=\"false\" :visible.sync=\"visible\"\r\n    class=\"JNPF-dialog JNPF-dialog_center JNPF-dialog-export\" lock-scroll width=\"600px\">\r\n    <el-form label-position=\"top\">\r\n      <el-form-item>\r\n        <el-radio-group v-model=\"type\">\r\n          <el-radio :label=\"0\">当前页面数据</el-radio>\r\n          <el-radio :label=\"1\">全部页面数据</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item class=\"export-line\">\r\n        <p slot=\"label\" class=\"export-label\">列表数据<span>请选择导出字段</span></p>\r\n        <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\"\r\n          @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n        <el-checkbox-group v-model=\"columns\" @change=\"handleCheckedChange\">\r\n          <el-checkbox v-for=\"item in columnList\" :label=\"item.prop\" :key=\"item.prop\"\r\n            class=\"column-item\" :title=\"item.label\">\r\n            {{item.label}}\r\n          </el-checkbox>\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <p class=\"footer-tip\">提示:系统将导出列表中选中的数据</p>\r\n      <el-button @click=\"visible=false\">{{$t('common.cancelButton')}}</el-button>\r\n      <el-button type=\"primary\" @click=\"downLoad\">导 出</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      btnLoading: false,\r\n      type: 0,\r\n      columns: [],\r\n      checkAll: true,\r\n      isIndeterminate: false,\r\n      columnList: []\r\n    }\r\n  },\r\n  methods: {\r\n    init(columnList) {\r\n      this.visible = true\r\n      this.checkAll = true\r\n      this.isIndeterminate = false\r\n      this.columnList = columnList\r\n      this.columns = columnList.map(o => o.prop)\r\n    },\r\n    handleCheckAllChange(val) {\r\n      this.columns = val ? this.columnList.map(o => o.prop) : [];\r\n      this.isIndeterminate = false;\r\n    },\r\n    handleCheckedChange(value) {\r\n      let checkedCount = value.length;\r\n      this.checkAll = checkedCount === this.columnList.length;\r\n      this.isIndeterminate = checkedCount > 0 && checkedCount < this.columnList.length;\r\n    },\r\n    downLoad() {\r\n      if (!this.columns.length) return this.$message.warning(`请至少选择一个导出字段`)\r\n      this.$emit('download', { dataType: this.type, selectKey: this.columns })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9aa04d50&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"static/img/query-noData.a2c7c515.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[(_vm.config.popupType==='dialog')?[_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":_vm.config.popupTitle,\"close-on-click-modal\":false,\"visible\":_vm.visible,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":_vm.config.popupWidth},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":function($event){return _vm.$emit('close')}}},[(!_vm.loading)?_c('parser',{key:_vm.key,ref:\"dynamicForm\",attrs:{\"form-conf\":_vm.formConf},on:{\"submit\":_vm.submitForm}}):_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.dataFormSubmit}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton')))])],1)],1)]:_vm._e(),(_vm.config.popupType==='drawer')?[_c('el-drawer',{ref:\"drawer\",staticClass:\"JNPF-common-drawer\",attrs:{\"title\":_vm.config.popupTitle,\"visible\":_vm.visible,\"wrapperClosable\":false,\"size\":_vm.config.popupWidth,\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{staticClass:\"JNPF-flex-main\"},[_c('div',{staticClass:\"dynamicForm\"},[(!_vm.loading)?_c('parser',{key:_vm.key,ref:\"dynamicForm\",attrs:{\"form-conf\":_vm.formConf},on:{\"submit\":_vm.submitForm}}):_vm._e()],1),_c('div',{staticClass:\"drawer-footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.dataFormSubmit}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton')))])],1)])])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <template v-if=\"config.popupType==='dialog'\">\r\n      <el-dialog :title=\"config.popupTitle\" :close-on-click-modal=\"false\" :visible.sync=\"visible\"\r\n        class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body :width='config.popupWidth'\r\n        @close=\"$emit('close')\">\r\n        <parser :form-conf=\"formConf\" @submit=\"submitForm\" :key=\"key\" ref=\"dynamicForm\"\r\n          v-if=\"!loading\" />\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n          <el-button type=\"primary\" @click=\"dataFormSubmit\" :loading=\"btnLoading\">\r\n            {{$t('common.confirmButton')}}</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </template>\r\n    <template v-if=\"config.popupType==='drawer'\">\r\n      <el-drawer :title=\"config.popupTitle\" :visible.sync=\"visible\" :wrapperClosable=\"false\"\r\n        ref=\"drawer\" :size='config.popupWidth' append-to-body class=\"JNPF-common-drawer\"\r\n        @close=\"$emit('close')\">\r\n        <div class=\"JNPF-flex-main\">\r\n          <div class=\"dynamicForm\">\r\n            <parser :form-conf=\"formConf\" @submit=\"submitForm\" :key=\"key\" ref=\"dynamicForm\"\r\n              v-if=\"!loading\" />\r\n          </div>\r\n          <div class=\"drawer-footer\">\r\n            <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n            <el-button type=\"primary\" @click=\"dataFormSubmit\" :loading=\"btnLoading\">\r\n              {{$t('common.confirmButton')}}</el-button>\r\n          </div>\r\n        </div>\r\n      </el-drawer>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Parser from '@/components/Generator/parser/Parser'\r\nimport { getConfigData, getModelInfo, createModel } from '@/api/onlineDev/visualDev'\r\nimport { getDataInterfaceRes } from '@/api/systemData/dataInterface'\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: 'popup',\r\n  components: { Parser },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      btnLoading: false,\r\n      loading: false,\r\n      config: {},\r\n      formConf: {},\r\n      formData: {},\r\n      isPreview: false,\r\n      key: +new Date(),\r\n      id: \"\",\r\n      dataForm: {\r\n        id: \"\",\r\n        data: \"\"\r\n      },\r\n      modelId: \"\",\r\n      isAdd: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo']),\r\n  },\r\n  methods: {\r\n    init(config, modelId, id, isPreview = true, row) {\r\n      this.loading = true\r\n      this.config = config\r\n      this.id = id\r\n      this.isPreview = isPreview\r\n      this.modelId = modelId\r\n      this.isAdd = true\r\n      this.$nextTick(() => {\r\n        if (this.config.modelId) this.getConfigData(row)\r\n      })\r\n    },\r\n    getConfigData(row) {\r\n      getConfigData(this.config.modelId).then(res => {\r\n        if (res.code !== 200 || !res.data) {\r\n          this.$message({\r\n            message: res.msg || '请求出错，请重试',\r\n            type: 'error',\r\n            duration: 1500,\r\n          })\r\n          return\r\n        }\r\n        this.formConf = JSON.parse(res.data.formData)\r\n        const setDataFun = (formData) => {\r\n          if (this.config.formOptions.length) {\r\n            for (let k in formData) {\r\n              for (let i = 0; i < this.config.formOptions.length; i++) {\r\n                const ele = this.config.formOptions[i]\r\n                if (ele.currentField == k) {\r\n                  this.formData[ele.field] = formData[k]\r\n                }\r\n              }\r\n            }\r\n          }\r\n          this.fillFormData(this.formConf, this.formData)\r\n          this.$nextTick(() => {\r\n            this.visible = true\r\n            this.loading = false\r\n          })\r\n        }\r\n        if (this.id) {\r\n          getModelInfo(this.modelId, this.id).then(res => {\r\n            let dataForm = res.data\r\n            if (!dataForm.data) return\r\n            const formData = JSON.parse(dataForm.data)\r\n            this.formData = {}\r\n            setDataFun(formData)\r\n          })\r\n        } else {\r\n          const formData = row\r\n          setDataFun(formData)\r\n        }\r\n      }).catch(() => { })\r\n    },\r\n    fillFormData(form, data) {\r\n      const loop = (list, parent) => {\r\n        for (let i = 0; i < list.length; i++) {\r\n          let item = list[i]\r\n          if (item.__vModel__) {\r\n            let val = data.hasOwnProperty(item.__vModel__) ? data[item.__vModel__] : item.__config__.defaultValue\r\n            if (!item.__config__.isSubTable) item.__config__.defaultValue = val\r\n            if (this.isAdd || item.__config__.isSubTable) {//新增时候，默认当前\r\n              if (item.__config__.defaultCurrent) {\r\n                if (item.__config__.jnpfKey === 'datePicker') {\r\n                  let format = item.format\r\n                  let dateStr = this.jnpf.toDate(new Date().getTime(), format)\r\n                  let time = format === 'yyyy' ? '-01-01 00:00:00' : format === 'yyyy-MM' ? '-01 00:00:00' : format === 'yyyy-MM-dd' ?\r\n                    ' 00:00:00' : ''\r\n                  item.__config__.defaultValue = new Date(dateStr + time).getTime()\r\n                }\r\n                if (item.__config__.jnpfKey === 'timePicker') {\r\n                  item.__config__.defaultValue = this.jnpf.toDate(new Date(), item.format)\r\n                }\r\n                if (item.__config__.jnpfKey === 'organizeSelect' && (this.userInfo.organizeIdList instanceof Array && this.userInfo.organizeIdList.length > 0)) {\r\n                  item.__config__.defaultValue = item.multiple == true ? [this.userInfo.organizeIdList] : this.userInfo.organizeIdList\r\n                }\r\n                if (item.__config__.jnpfKey === 'depSelect' && this.userInfo.departmentId) {\r\n                  item.__config__.defaultValue = item.multiple ? [this.userInfo.departmentId] : this.userInfo.departmentId;\r\n                }\r\n                if (item.__config__.jnpfKey === 'posSelect' && (this.userInfo.positionIds instanceof Array && this.userInfo.positionIds.length > 0)) {\r\n                  item.__config__.defaultValue = item.multiple ? this.userInfo.positionIds.map(o => o.id) : this.userInfo.positionIds[0].id\r\n                }\r\n                if (item.__config__.jnpfKey === 'roleSelect' && (this.userInfo.roleIds instanceof Array && this.userInfo.roleIds.length > 0)) {\r\n                  item.__config__.defaultValue = item.multiple ? this.userInfo.roleIds : this.userInfo.roleIds[0];\r\n                }\r\n                if (item.__config__.jnpfKey === 'groupSelect' && (this.userInfo.groupIds instanceof Array && this.userInfo.groupIds.length > 0)) {\r\n                  item.__config__.defaultValue = item.multiple ? this.userInfo.groupIds : this.userInfo.groupIds[0];\r\n                }\r\n                if (['userSelect'].includes(item.__config__.jnpfKey) && this.userInfo.userId) {\r\n                  item.__config__.defaultValue = item.multiple ? [this.userInfo.userId] : this.userInfo.userId;\r\n                }\r\n                if (item.__config__.jnpfKey === 'usersSelect' && this.userInfo.userId) {\r\n                  item.__config__.defaultValue = item.multiple ? [this.userInfo.userId + '--user'] : this.userInfo.userId + '--user';\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (!this.isPreview && this.useFormPermission) {\r\n            let id = item.__config__.isSubTable ? parent.__vModel__ + '-' + item.__vModel__ : item.__vModel__\r\n            let noShow = true\r\n            if (this.formOperates && this.formOperates.length) {\r\n              noShow = !this.formOperates.some(o => o.enCode === id)\r\n            }\r\n            noShow = item.__config__.noShow ? item.__config__.noShow : noShow\r\n            this.$set(item.__config__, 'noShow', noShow)\r\n          }\r\n          if (item.__config__ && item.__config__.children && Array.isArray(item.__config__.children)) {\r\n            loop(item.__config__.children, item)\r\n          }\r\n        }\r\n      }\r\n      loop(form.fields)\r\n      form.formData = data\r\n    },\r\n    submitForm(data, callback) {\r\n      if (!data) return\r\n      this.btnLoading = true\r\n      const successFun = (res, callback) => {\r\n        this.$message({\r\n          message: res.msg,\r\n          type: 'success',\r\n          duration: 1500,\r\n          onClose: () => {\r\n            if (callback && typeof callback === \"function\") callback()\r\n            this.visible = false\r\n            this.btnLoading = false\r\n          }\r\n        })\r\n      }\r\n      if (this.config.customBtn) {\r\n        if (this.config.templateJson && this.config.templateJson.length) {\r\n          this.config.templateJson.forEach((ele) => {\r\n            ele.defaultValue = ele.sourceType == 1 ? data[ele.relationField] || '' : ele.relationField;\r\n          })\r\n        }\r\n        const query = {\r\n          paramList: this.config.templateJson || [],\r\n        }\r\n        getDataInterfaceRes(this.config.interfaceId, query).then(res => {\r\n          successFun(res, callback)\r\n        }).catch(() => { this.btnLoading = false })\r\n      } else {\r\n        const formData = { ...this.formData, ...data }\r\n        this.dataForm.data = JSON.stringify(formData)\r\n        createModel(this.config.modelId, this.dataForm).then(res => {\r\n          successFun(res, callback)\r\n        }).catch(() => { this.btnLoading = false })\r\n      }\r\n    },\r\n    dataFormSubmit() {\r\n      if (this.isPreview) return this.$message({ message: '功能预览不支持数据保存', type: 'warning' })\r\n      this.$refs.dynamicForm && this.$refs.dynamicForm.submitForm()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=13b0a3cc&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.vue?vue&type=style&index=0&id=6c51737c&prod&lang=scss&scoped=true&\"","\"use strict\";function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var normalMerge=[\"attrs\",\"props\",\"domProps\"],toArrayMerge=[\"class\",\"style\",\"directives\"],functionalMerge=[\"on\",\"nativeOn\"],mergeJsxProps=function(a){return a.reduce(function(c,a){for(var b in a)if(!c[b])c[b]=a[b];else if(-1!==normalMerge.indexOf(b))c[b]=_extends({},c[b],a[b]);else if(-1!==toArrayMerge.indexOf(b)){var d=c[b]instanceof Array?c[b]:[c[b]],e=a[b]instanceof Array?a[b]:[a[b]];c[b]=[].concat(d,e)}else if(-1!==functionalMerge.indexOf(b)){for(var f in a[b])if(c[b][f]){var g=c[b][f]instanceof Array?c[b][f]:[c[b][f]],h=a[b][f]instanceof Array?a[b][f]:[a[b][f]];c[b][f]=[].concat(g,h)}else c[b][f]=a[b][f];}else if(\"hook\"===b)for(var i in a[b])c[b][i]=c[b][i]?mergeFn(c[b][i],a[b][i]):a[b][i];else c[b]=a[b];return c},{})},mergeFn=function(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}};module.exports=mergeJsxProps;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',_vm._g(_vm._b({staticClass:\"JNPF-full-dialog\",attrs:{\"close-on-click-modal\":false,\"modal-append-to-body\":false,\"fullscreen\":\"\",\"lock-scroll\":\"\",\"show-close\":false,\"modal\":false,\"append-to-body\":\"\"},on:{\"open\":_vm.onOpen}},'el-dialog',_vm.$attrs,false),_vm.$listeners),[_c('div',{staticClass:\"JNPF-full-dialog-header\"},[_c('div',{staticClass:\"header-title\"},[_c('img',{staticClass:\"header-logo\",attrs:{\"src\":require(\"@/assets/images/jnpf.png\")}}),_c('p',{staticClass:\"header-txt\"},[_vm._v(\"· 打印预览\")])]),_c('div',{staticClass:\"header-page\"},[_c('el-button',{on:{\"click\":function($event){_vm.pageIndex = _vm.pageIndex - 1}}},[_vm._v(\"上一页\")]),_c('el-input-number',{staticClass:\"text-center\",staticStyle:{\"width\":\"60px\"},attrs:{\"controls\":false,\"controls-position\":\"right\",\"min\":1,\"max\":_vm.batchData.length},on:{\"change\":_vm.scrollpage,\"blur\":_vm.scrollpage},model:{value:(_vm.pageIndex),callback:function ($$v) {_vm.pageIndex=$$v},expression:\"pageIndex\"}}),_c('span',{staticClass:\"page-size\"},[_vm._v(\"/ \"+_vm._s(_vm.batchData.length))]),_c('el-button',{on:{\"click\":function($event){_vm.pageIndex = _vm.pageIndex + 1}}},[_vm._v(\"下一页\")])],1),_c('div',{staticClass:\"options\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.word}},[_vm._v(\"下 载\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.print('batch')}}},[_vm._v(\"打 印\")]),_c('el-button',{on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(_vm._s(_vm.$t(\"common.cancelButton\")))])],1)]),_c('div',{ref:\"barcodewrap\"}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"tsPrint\",staticClass:\"main\"},_vm._l((_vm.batchData),function(item,index){return _c('div',{key:index,staticClass:\"print-content\",domProps:{\"innerHTML\":_vm._s(item)}})}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog v-bind=\"$attrs\" :close-on-click-modal=\"false\" :modal-append-to-body=\"false\"\r\n    v-on=\"$listeners\" @open=\"onOpen\" fullscreen lock-scroll class=\"JNPF-full-dialog\"\r\n    :show-close=\"false\" :modal=\"false\" append-to-body>\r\n    <div class=\"JNPF-full-dialog-header\">\r\n      <div class=\"header-title\">\r\n        <img src=\"@/assets/images/jnpf.png\" class=\"header-logo\" />\r\n        <p class=\"header-txt\">· 打印预览</p>\r\n      </div>\r\n      <div class=\"header-page\">\r\n        <el-button @click=\"pageIndex = pageIndex - 1\">上一页</el-button>\r\n        <el-input-number style=\"width: 60px\" class=\"text-center\" v-model=\"pageIndex\"\r\n          @change=\"scrollpage\" @blur=\"scrollpage\" :controls=\"false\" controls-position=\"right\"\r\n          :min=\"1\" :max=\"batchData.length\"></el-input-number>\r\n        <span class=\"page-size\">/ {{ batchData.length }}</span>\r\n        <el-button @click=\"pageIndex = pageIndex + 1\">下一页</el-button>\r\n      </div>\r\n      <div class=\"options\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"word\">下 载</el-button>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"print('batch')\">打 印</el-button>\r\n        <el-button @click=\"closeDialog()\">{{ $t(\"common.cancelButton\") }}</el-button>\r\n      </div>\r\n    </div>\r\n    <div ref=\"barcodewrap\"></div>\r\n    <div class=\"main\" ref=\"tsPrint\" v-loading=\"loading\">\r\n      <div class=\"print-content\" v-html=\"item\" v-for=\"(item, index) in batchData\" :key=\"index\" ></div>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport printOptionApi from \"./printMinxin.js\";\r\nexport default {\r\n  mixins: [printOptionApi],\r\n  data() {\r\n    return {\r\n      pageIndex: 1,\r\n    };\r\n  },\r\n  watch: {\r\n    pageIndex: {\r\n      handler(val) {\r\n        this.scrollpage(val);\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n  },\r\n  methods: {\r\n    scrollpage() {\r\n      let index = this.pageIndex - 1 < 0 ? 0 : this.pageIndex - 1;\r\n      this.$nextTick(() => {\r\n        let dom = this.$refs.tsPrint\r\n        if (dom) {\r\n          dom.scrollTo({\r\n            top: (window.document.body.clientHeight - 10) * index,\r\n            behavior: \"smooth\",\r\n          });\r\n        }\r\n      });\r\n    },\r\n    onOpen() {\r\n      this.initData('batch')\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  overflow: auto !important;\r\n  .print-content {\r\n    background: white;\r\n    padding: 40px 30px;\r\n    margin: 20px auto 0;\r\n    border: 1px solid #ccc;\r\n    height: calc(100% - 10px);\r\n    border-radius: 4px;\r\n    width: 776px;\r\n    height: 100%;\r\n    overflow: auto;\r\n  }\r\n}\r\n.header-page {\r\n  vertical-align: middle;\r\n  min-width: 300px;\r\n  .el-button {\r\n    margin: 0 10px;\r\n  }\r\n  .page-size {\r\n    vertical-align: middle;\r\n    margin-left: 10px;\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n    color: #333;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./batch.vue?vue&type=template&id=6c51737c&scoped=true&\"\nimport script from \"./batch.vue?vue&type=script&lang=js&\"\nexport * from \"./batch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./batch.vue?vue&type=style&index=0&id=6c51737c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c51737c\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./Parser.vue?vue&type=script&lang=js&\"\nexport * from \"./Parser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Parser.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center superQuery-dialog\",attrs:{\"title\":\"高级查询\",\"close-on-click-modal\":false,\"visible\":_vm.visible,\"lock-scroll\":\"\",\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"superQuery-main\"},[(_vm.conditionList.length)?[_c('Condition',{key:_vm.key2,ref:\"base\",attrs:{\"value\":_vm.conditionList,\"columnOptions\":_vm.columnOptions,\"matchLogic\":_vm.matchLogic}})]:_c('div',{staticClass:\"query-noData\"},[_c('img',{staticClass:\"noData-img\",attrs:{\"src\":require(\"@/assets/images/query-noData.png\"),\"alt\":\"\"}}),_c('div',{staticClass:\"noData-txt\"},[_c('span',[_vm._v(\"没有任何查询条件\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":_vm.addCondition}},[_vm._v(\"点击新增\")])],1)])],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div',{staticClass:\"footer-options\"},[_c('el-button',{staticClass:\"add-btn\",on:{\"click\":_vm.addPlan}},[_vm._v(\"保存方案\")]),_c('el-popover',{ref:\"planPopper\",attrs:{\"width\":\"240\",\"trigger\":\"click\",\"popper-class\":\"plan-popper\"}},[_c('el-button',{attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"方案选择\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),(_vm.planList.length)?_c('div',{staticClass:\"plan-list\"},_vm._l((_vm.planList),function(item,i){return _c('div',{key:i,staticClass:\"plan-list-item\",on:{\"click\":function($event){return _vm.selectPlan(item)}}},[_c('el-link',{staticClass:\"plan-list-name\",attrs:{\"type\":\"primary\",\"underline\":false}},[_vm._v(_vm._s(item.fullName)+\" \")]),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delPlan(item.id,i)}}})],1)}),0):_c('div',{staticClass:\"noData-txt\"},[_vm._v(\"暂无数据\")])],1)],1),_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.query()}}},[_vm._v(\"查 询\")])],1),_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":\"保存方案\",\"visible\":_vm.addPlanVisible,\"width\":\"600px\",\"append-to-body\":\"\",\"lock-scroll\":\"\"},on:{\"update:visible\":function($event){_vm.addPlanVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"方案名称\",\"prop\":\"fullName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入保存的方案名称\"},model:{value:(_vm.dataForm.fullName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"fullName\", $$v)},expression:\"dataForm.fullName\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addPlanVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.saveBtnLoading},on:{\"click\":function($event){return _vm.savePlan()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton')))])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request'\r\n\r\n// 获取方案列表\r\nexport function getAdvancedQueryList(moduleId) {\r\n  return request({\r\n    url: `/api/system/AdvancedQuery/${moduleId}/List`,\r\n    method: 'get'\r\n  })\r\n}\r\n// 获取方案详情\r\nexport function getAdvancedQueryInfo(id) {\r\n  return request({\r\n    url: `/api/system/AdvancedQuery/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n// 删除\r\nexport function Delete(id) {\r\n  return request({\r\n    url: `/api/system/AdvancedQuery/${id}`,\r\n    method: 'DELETE'\r\n  })\r\n}\r\n// 新建\r\nexport function Create(data) {\r\n  return request({\r\n    url: '/api/system/AdvancedQuery',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 编辑\r\nexport function Update(data) {\r\n  return request({\r\n    url: `/api/system/AdvancedQuery/${data.id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n","<template>\r\n  <el-dialog title=\"高级查询\" :close-on-click-modal=\"false\" :visible.sync=\"visible\"\r\n    class=\"JNPF-dialog JNPF-dialog_center superQuery-dialog\" lock-scroll width=\"800px\">\r\n    <div class=\"superQuery-main\" v-loading=\"loading\">\r\n      <template v-if=\"conditionList.length\">\r\n        <Condition :value=\"conditionList\" ref=\"base\" :columnOptions=\"columnOptions\"\r\n          :matchLogic=\"matchLogic\" :key=\"key2\">\r\n        </Condition>\r\n      </template>\r\n      <div class=\"query-noData\" v-else>\r\n        <img src=\"@/assets/images/query-noData.png\" alt=\"\" class=\"noData-img\">\r\n        <div class=\"noData-txt\">\r\n          <span>没有任何查询条件</span>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <el-link type=\"primary\" :underline=\"false\" @click=\"addCondition\">点击新增</el-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <div class=\"footer-options\">\r\n        <el-button @click=\"addPlan\" class=\"add-btn\">保存方案</el-button>\r\n        <el-popover width=\"240\" trigger=\"click\" popper-class=\"plan-popper\" ref=\"planPopper\">\r\n          <el-button slot=\"reference\">方案选择<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </el-button>\r\n          <div class=\"plan-list\" v-if=\"planList.length\">\r\n            <div class=\"plan-list-item\" v-for=\"(item,i) in planList\" :key=\"i\"\r\n              @click=\"selectPlan(item)\">\r\n              <el-link type=\"primary\" :underline=\"false\" class=\"plan-list-name\">{{item.fullName}}\r\n              </el-link>\r\n              <i class=\"el-icon-close\" @click.stop=\"delPlan(item.id,i)\"></i>\r\n            </div>\r\n          </div>\r\n          <div class=\"noData-txt\" v-else>暂无数据</div>\r\n        </el-popover>\r\n      </div>\r\n      <el-button @click=\"close\">{{$t('common.cancelButton')}}</el-button>\r\n      <el-button type=\"primary\" :loading=\"btnLoading\" @click=\"query()\">查 询</el-button>\r\n    </span>\r\n    <el-dialog title=\"保存方案\" :visible.sync=\"addPlanVisible\" width=\"600px\" append-to-body lock-scroll\r\n      class=\"JNPF-dialog JNPF-dialog_center\">\r\n      <el-form ref=\"dataForm\" :model=\"dataForm\" :rules=\"dataRule\" label-width=\"80px\">\r\n        <el-form-item label=\"方案名称\" prop=\"fullName\">\r\n          <el-input v-model=\"dataForm.fullName\" placeholder=\"请输入保存的方案名称\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addPlanVisible = false\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" :loading=\"saveBtnLoading\" @click=\"savePlan()\">\r\n          {{$t('common.confirmButton')}}</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\n\r\nimport { getAdvancedQueryList, Delete, Create, Update } from \"@/api/system/advancedQuery\";\r\nimport Condition from \"@/components/ColumnDesign/condition\";\r\nimport { deepClone } from '@/utils';\r\nconst condition = [{\r\n  logic: \"and\",\r\n  groups: [{\r\n    fieldValue: '',\r\n    field: '',\r\n    symbol: '',\r\n    jnpfKey: '',\r\n    cellKey: +new Date()\r\n  }]\r\n}]\r\nexport default {\r\n  components: {\r\n    Condition\r\n  },\r\n  props: {\r\n    columnOptions: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      addPlanVisible: false,\r\n      loading: false,\r\n      btnLoading: false,\r\n      saveBtnLoading: false,\r\n      conditionList: deepClone(condition),\r\n      staging: {},\r\n      key2: +new Date(),\r\n      planList: [],\r\n      fieldOptions: [],\r\n      dataForm: {\r\n        fullName: ''\r\n      },\r\n      dataRule: {\r\n        fullName: [\r\n          { required: true, message: '请输入保存的方案名称', trigger: 'blur' }\r\n        ]\r\n      },\r\n      matchLogic: 'and'\r\n    }\r\n  },\r\n  computed: {\r\n    currMenuId() {\r\n      return this.$route.meta.modelId || ''\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.visible = true\r\n      this.loading = true\r\n      let componentList = JSON.parse(JSON.stringify(this.columnOptions))\r\n      this.fieldOptions = componentList\r\n      this.getAdvancedQueryList()\r\n      this.$nextTick(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    close() {\r\n      this.conditionList = this.staging && this.staging.conditionList || deepClone(condition)\r\n      this.matchLogic = this.staging && this.staging.matchLogic || 'and'\r\n      this.visible = false\r\n    },\r\n    getAdvancedQueryList() {\r\n      if (!this.currMenuId) return\r\n      getAdvancedQueryList(this.currMenuId).then(res => {\r\n        this.planList = res.data.list\r\n      })\r\n    },\r\n    addCondition() {\r\n      let item = {\r\n        logic: \"and\",\r\n        groups: [{\r\n          field: '', symbol: '', jnpfKey: '', fieldValueType: 2, fieldValue: undefined, fieldValueJnpfKey: '', cellKey: +new Date()\r\n        }]\r\n      }\r\n\r\n      this.conditionList.push(item)\r\n    },\r\n    delPlan(id, i) {\r\n      Delete(id).then(res => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: res.msg,\r\n          duration: 1500,\r\n          onClose: () => {\r\n            this.planList.splice(i, 1)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    selectPlan(item) {\r\n      this.conditionList = item.conditionJson ? JSON.parse(item.conditionJson) : []\r\n      this.matchLogic = item.matchLogic\r\n      this.key2 = +new Date()\r\n      this.$refs.planPopper.doClose()\r\n    },\r\n    addPlan() {\r\n      if (!this.exist()) return\r\n      this.addPlanVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].resetFields()\r\n      })\r\n    },\r\n    savePlan() {\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          let boo = this.planList.some(o => o.fullName === this.dataForm.fullName)\r\n          if (!boo) return this.submit()\r\n          let list = this.planList.filter(o => o.fullName === this.dataForm.fullName)\r\n          this.$confirm(`${list[0].fullName}已存在, 是否覆盖方案?`, '', {\r\n            type: 'warning'\r\n          }).then(() => {\r\n            this.submit(list[0].id)\r\n          }).catch(() => { });\r\n        }\r\n      })\r\n    },\r\n    submit(id) {\r\n      this.saveBtnLoading = true\r\n      let query = {\r\n        id: id || '',\r\n        ...this.dataForm,\r\n        matchLogic: this.matchLogic,\r\n        moduleId: this.currMenuId,\r\n        conditionJson: JSON.stringify(this.conditionList)\r\n      }\r\n      const formMethod = query.id ? Update : Create\r\n      formMethod(query).then(res => {\r\n        this.getAdvancedQueryList()\r\n        this.addPlanVisible = false\r\n        this.saveBtnLoading = false\r\n        this.$message({\r\n          message: res.msg,\r\n          type: 'success',\r\n          duration: 1500\r\n        })\r\n      }).catch(() => {\r\n        this.saveBtnLoading = false\r\n      })\r\n    },\r\n    getDataType(jnpfKey) {\r\n      if (!jnpfKey) return ''\r\n      if (['inputNumber', 'datePicker', 'rate', 'slider'].includes(jnpfKey)) {\r\n        return 'number'\r\n      } else if (['uploadFile', 'uploadImg', 'cascader', 'organizeSelect', 'areaSelect'].includes(jnpfKey)) {\r\n        return 'array'\r\n      }\r\n      return ''\r\n    },\r\n    exist(type) {\r\n      const mes = type == 'query' ? '查询' : '保存'\r\n      let item = this.$refs.base && this.$refs.base.getData() || ''\r\n      if (type == 'query' && !item) return true\r\n      if (!item) return this.$message.warning(`请添加${mes}条件`)\r\n      this.conditionList = item.conditionList;\r\n      this.matchLogic = item.matchLogic\r\n      let isOk = true\r\n      for (let i = 0; i < this.conditionList.length; i++) {\r\n        const e = this.conditionList[i];\r\n        for (let j = 0; j < e.groups.length; j++) {\r\n          const child = e.groups[j];\r\n          if (!child.field) {\r\n            this.$message.warning(`${mes}字段不能为空`);\r\n            isOk = false;\r\n            return;\r\n          }\r\n          if (!child.symbol) {\r\n            this.$message.warning(`${mes}符号不能为空`);\r\n            isOk = false;\r\n            return;\r\n          }\r\n          if (!['null', 'notNull'].includes(child.symbol) && !['switch'].includes(child.jnpfKey) && ((!child.fieldValue && child.fieldValue !== 0) || ((typeof child.fieldValue === \"object\" && child.fieldValue.length == 0)) || this.jnpf.isEmpty(child.fieldValue))) {\r\n            this.$message.warning(`数据值不能为空`);\r\n            isOk = false;\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      return isOk\r\n    },\r\n    query() {\r\n      if (!this.exist('query')) return\r\n      let query = {\r\n        matchLogic: this.matchLogic,\r\n        conditionList: this.conditionList\r\n      }\r\n      this.staging = JSON.parse(JSON.stringify(query))\r\n      query = JSON.stringify(query)\r\n      if (!this.conditionList.length) query = \"\"\r\n      this.$emit('superQuery', query)\r\n      this.visible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.superQuery-dialog {\r\n  ::v-deep .el-dialog {\r\n    .el-dialog__body {\r\n      padding: 20px 20px 10px 24px;\r\n    }\r\n    .footer-options {\r\n      float: left;\r\n      .add-btn {\r\n        margin-right: 10px;\r\n      }\r\n    }\r\n  }\r\n  .superQuery-main {\r\n    .query-noData {\r\n      text-align: center;\r\n      padding: 20px 0;\r\n      .noData-img {\r\n        width: 160px;\r\n        margin-bottom: 10px;\r\n      }\r\n      .noData-txt {\r\n        color: #909399;\r\n      }\r\n    }\r\n    .matchLogic {\r\n      margin-bottom: 10px;\r\n      display: flex;\r\n      align-items: center;\r\n      line-height: 32px;\r\n      .el-select {\r\n        width: 220px;\r\n      }\r\n    }\r\n    .condition-list {\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.plan-popper {\r\n  padding: 0 !important;\r\n  .plan-list {\r\n    padding: 6px 0;\r\n    max-height: 182px;\r\n    overflow: auto;\r\n    &-item {\r\n      height: 34px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      color: #606266;\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n      padding: 0 20px;\r\n      &:hover {\r\n        background-color: #f5f7fa;\r\n      }\r\n    }\r\n    .plan-list-name {\r\n      .el-link--inner {\r\n        width: 160px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n    }\r\n    .el-icon-close:hover {\r\n      color: #f56c6c;\r\n    }\r\n  }\r\n  .noData-txt {\r\n    height: 34px;\r\n    color: #999;\r\n    font-size: 14px;\r\n    line-height: 34px;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7b75e4bc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7b75e4bc&prod&lang=scss&scoped=true&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=7b75e4bc&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b75e4bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"condition-pane pd-10\"},[(_vm.conditionList.length)?_c('div',{staticClass:\"mb-10px\"},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"分组匹配逻辑\")]),_c('el-select',{staticStyle:{\"width\":\"150px\",\"margin-left\":\"10px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.matchLog),callback:function ($$v) {_vm.matchLog=$$v},expression:\"matchLog\"}},_vm._l((_vm.logicOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.fullName,\"value\":item.id}})}),1)],1):_vm._e(),_vm._l((_vm.conditionList),function(item,index){return _c('div',{key:index,staticStyle:{\"margin-top\":\"10px\"}},[_c('el-row',{attrs:{\"gutter\":5}},[_c('el-col',{staticClass:\"mb-10\",attrs:{\"span\":7}},[_c('el-col',{staticStyle:{\"line-height\":\"32px\"},attrs:{\"span\":10}},[_vm._v(\"条件逻辑\")]),_c('el-col',{attrs:{\"span\":14}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(item.logic),callback:function ($$v) {_vm.$set(item, \"logic\", $$v)},expression:\"item.logic\"}},_vm._l((_vm.logicOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.fullName,\"value\":item.id}})}),1)],1)],1),_c('el-col',{staticClass:\"mb-10\",attrs:{\"span\":3.5}},[_c('el-button',{attrs:{\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.addItem(index)}}},[_vm._v(\"添加条件\")])],1),_c('el-col',{staticClass:\"mb-10\",attrs:{\"span\":5}},[_c('el-button',{staticClass:\"btn-del\",attrs:{\"icon\":\"icon-ym icon-ym-btn-clearn\"},on:{\"click\":function($event){return _vm.delGroup(index)}}},[_vm._v(\"删除分组\")])],1),_vm._l((item.groups),function(subItem,i){return _c('el-col',{key:index + i,staticClass:\"mb-10\",attrs:{\"span\":24}},[_c('el-row',{attrs:{\"gutter\":5}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filterable\":\"\"},on:{\"change\":function($event){return _vm.fieldNameChange($event, subItem, index,i)}},model:{value:(subItem.field),callback:function ($$v) {_vm.$set(subItem, \"field\", $$v)},expression:\"subItem.field\"}},_vm._l((_vm.usedFormItems),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.fullName,\"value\":item.id}})}),1)],1),_c('el-col',{attrs:{\"span\":7}},[_c('el-select',{staticClass:\"condition-select\",attrs:{\"placeholder\":\"运算符号\",\"filterable\":\"\"},on:{\"change\":function($event){return _vm.symbolChange($event, subItem, index,i)}},model:{value:(subItem.symbol),callback:function ($$v) {_vm.$set(subItem, \"symbol\", $$v)},expression:\"subItem.symbol\"}},_vm._l((_vm.getSymbolOptions(subItem.jnpfKey)),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.fullName,\"value\":item.id}})}),1)],1),_c('el-col',{attrs:{\"span\":8}},[(subItem.jnpfKey === 'inputNumber')?[(subItem.symbol == 'between')?_c('NumRange',{attrs:{\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}}):_c('JnpfInputNumber',{attrs:{\"placeholder\":\"请输入\",\"disabled\":subItem.disabled,\"precision\":subItem.precision},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'autoComplete')?[_c('JnpfAutoComplete',{attrs:{\"placeholder\":\"请选择\",\"interfaceId\":subItem.interfaceId,\"clearable\":\"\",\"disabled\":subItem.disabled,\"propsValue\":subItem.propsValue,\"relationField\":subItem.relationField,\"templateJson\":subItem.templateJson,\"total\":subItem.total},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['radio', 'checkbox', 'select'].includes(subItem.jnpfKey))?[(['null','notNull'].includes(subItem.symbol))?[_c('el-input',{attrs:{\"disabled\":subItem.disabled,\"placeholder\":\"请选择\"},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:_c('el-select',{key:subItem.cellKey,attrs:{\"disabled\":subItem.disabled,\"placeholder\":\"请选择\",\"multiple\":subItem.multiple,\"filterable\":\"\"},on:{\"change\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}},_vm._l((subItem.options),function(child,index){return _c('el-option',{key:index,attrs:{\"disabled\":subItem.disabled,\"label\":child[subItem.props.label],\"value\":child[subItem.props.value]}})}),1)]:(['cascader'].includes(subItem.jnpfKey))?[_c('JnpfCascader',{key:subItem.cellKey,attrs:{\"options\":subItem.options,\"props\":subItem.props,\"multiple\":subItem.multiple,\"placeholder\":subItem.placeholder,\"clearable\":subItem.clearable,\"separator\":subItem.separator,\"filterable\":subItem.filterable,\"disabled\":subItem.disabled,\"show-all-levels\":subItem.showAllLevels},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['treeSelect'].includes(subItem.jnpfKey))?[_c('JnpfTreeSelect',{key:subItem.cellKey,attrs:{\"conditionFilter\":\"\",\"options\":subItem.options,\"props\":subItem.props,\"placeholder\":subItem.placeholder,\"clearable\":subItem.clearable,\"multiple\":subItem.multiple,\"filterable\":subItem.filterable,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'calculate')?[(subItem.symbol == 'between')?_c('NumRange',{attrs:{\"precision\":subItem.precision,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}}):_c('el-input-number',{attrs:{\"placeholder\":\"请输入\",\"precision\":subItem.precision ||0,\"disabled\":subItem.disabled,\"controls\":false,\"controls-position\":\"right\"},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['rate', 'slider'].includes(subItem.jnpfKey))?[(subItem.symbol == 'between')?_c('NumRange',{attrs:{\"precision\":subItem.precision,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}}):_c('el-input-number',{attrs:{\"placeholder\":\"请输入\",\"precision\":0,\"disabled\":subItem.disabled,\"controls-position\":\"right\"},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'switch')?[_c('el-switch',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"active-value\":1,\"disabled\":subItem.disabled,\"inactive-value\":0},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'timePicker')?[(subItem.symbol == 'between')?_c('el-time-picker',{key:\"time1\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":subItem.disabled,\"range-separator\":\"至\",\"placeholder\":\"请选择\",\"clearable\":\"\",\"is-range\":true,\"value-format\":subItem.format,\"format\":subItem.format},on:{\"input\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}}):_c('el-time-picker',{key:\"time2\",staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"disabled\":subItem.disabled,\"value-format\":subItem.format,\"format\":subItem.format},on:{\"input\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['datePicker'].includes(subItem.jnpfKey))?[(subItem.symbol == 'between')?[_c('JnpfDateRangePicker',{key:\"year1\",staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\",\"disabled\":subItem.disabled,\"placeholder\":\"请选择\",\"separator\":\"至\",\"startPlaceholder\":\"开始日期\",\"endPlaceholder\":\"结束日期\",\"format\":subItem.format},on:{\"input\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:_c('JnpfDatePicker',{key:\"year2\",staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\",\"disabled\":subItem.disabled,\"placeholder\":\"请选择\",\"format\":subItem.format},on:{\"input\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['createTime', 'modifyTime'].includes(subItem.jnpfKey))?[(subItem.symbol == 'between')?[_c('el-date-picker',{key:\"year1\",staticStyle:{\"width\":\"100%\"},attrs:{\"clearable\":\"\",\"value-format\":\"timestamp\",\"disabled\":subItem.disabled,\"placeholder\":\"请选择\",\"range-separator\":\"至\",\"type\":\"datetimerange\",\"startPlaceholder\":\"开始日期\",\"endPlaceholder\":\"结束日期\"},on:{\"input\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:_c('el-date-picker',{key:\"year2\",attrs:{\"clearable\":\"\",\"type\":\"datetime\",\"value-format\":\"timestamp\",\"disabled\":subItem.disabled,\"placeholder\":\"请选择\"},on:{\"input\":function($event){return _vm.input()}},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['organizeSelect', 'currOrganize'].includes(subItem.jnpfKey))?[_c('JnpfOrganizeSelect',{ref:\"comselect\",refInFor:true,attrs:{\"disabled\":subItem.disabled,\"placeholder\":\"请选择\",\"clearable\":\"\",\"multiple\":subItem.multiple,\"ableIds\":subItem.ableIds,\"selectType\":subItem.selectType},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['depSelect'].includes(subItem.jnpfKey))?[_c('JnpfDepSelect',{attrs:{\"placeholder\":\"请选择\",\"selectType\":subItem.selectType,\"ableIds\":subItem.ableIds,\"multiple\":subItem.multiple,\"clearable\":\"\",\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'popupTableSelect')?[_c('JnpfPopupTableSelect',{attrs:{\"placeholder\":subItem.placeholder,\"interfaceId\":subItem.interfaceId,\"multiple\":subItem.multiple,\"columnOptions\":subItem.columnOptions,\"propsValue\":subItem.propsValue,\"relationField\":subItem.relationField,\"hasPage\":subItem.hasPage,\"pageSize\":subItem.pageSize,\"popupType\":subItem.popupType,\"popupTitle\":subItem.popupTitle,\"popupWidth\":subItem.popupWidth,\"filterable\":subItem.filterable,\"disabled\":subItem.disabled,\"clearable\":\"\",\"templateJson\":subItem.templateJson},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'relationForm')?[_c('JnpfRelationForm',{attrs:{\"placeholder\":\"请选择\",\"modelId\":subItem.modelId,\"clearable\":\"\",\"multiple\":subItem.multiple,\"columnOptions\":subItem.columnOptions,\"relationField\":subItem.relationField,\"hasPage\":subItem.hasPage,\"pageSize\":subItem.pageSize,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'popupSelect')?[_c('JnpfPopupSelect',{attrs:{\"placeholder\":\"请选择\",\"interfaceId\":subItem.interfaceId,\"clearable\":\"\",\"multiple\":subItem.multiple,\"columnOptions\":subItem.columnOptions,\"propsValue\":subItem.propsValue,\"relationField\":subItem.relationField,\"hasPage\":subItem.hasPage,\"pageSize\":subItem.pageSize,\"popupType\":subItem.popupType,\"templateJson\":item.templateJson,\"popupTitle\":subItem.popupTitle,\"popupWidth\":subItem.popupWidth,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['userSelect'].includes(subItem.jnpfKey))?[_c('JnpfUserSelect',{staticClass:\"item\",attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"disabled\":subItem.disabled,\"selectType\":(subItem.selectType!='all' && subItem.selectType!='custom')?'all':subItem.selectType,\"ableIds\":subItem.ableIds,\"multiple\":subItem.multiple},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['usersSelect'].includes(subItem.jnpfKey))?[_c('jnpf-users-select',{attrs:{\"clearable\":\"\",\"selectType\":subItem.selectType,\"ableIds\":subItem.ableIds,\"multiple\":subItem.multiple,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['createUser', 'modifyUser'].includes(subItem.jnpfKey))?[_c('JnpfUserSelect',{attrs:{\"placeholder\":\"请选择\",\"multiple\":subItem.multiple,\"clearable\":\"\",\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(['posSelect'].includes(subItem.jnpfKey))?[_c('JnpfPosSelect',{staticClass:\"subItem\",attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"selectType\":subItem.selectType,\"ableIds\":subItem.ableIds,\"multiple\":subItem.multiple,\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:([ 'currPosition'].includes(subItem.jnpfKey))?[_c('JnpfPosSelect',{staticClass:\"subItem\",attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"multiple\":subItem.multiple,\"disabled\":subItem.disabled,\"ableIds\":subItem.ableIds,\"selectType\":subItem.selectType},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'areaSelect')?[_c('JnpfAreaSelect',{key:subItem.cellKey,attrs:{\"placeholder\":\"请选择\",\"level\":subItem.level,\"multiple\":subItem.multiple,\"clearable\":\"\",\"disabled\":subItem.disabled},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'groupSelect')?[_c('JnpfGroupSelect',{attrs:{\"multiple\":subItem.multiple,\"placeholder\":\"请选择\",\"clearable\":\"\",\"disabled\":subItem.disabled,\"ableIds\":subItem.ableIds,\"selectType\":subItem.selectType},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:(subItem.jnpfKey === 'roleSelect')?[_c('JnpfRoleSelect',{attrs:{\"multiple\":subItem.multiple,\"placeholder\":\"请选择\",\"clearable\":\"\",\"disabled\":subItem.disabled,\"ableIds\":subItem.ableIds,\"selectType\":subItem.selectType},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]:[_c('el-input',{attrs:{\"disabled\":subItem.disabled,\"placeholder\":\"请输入\"},on:{\"input\":_vm.input},model:{value:(subItem.fieldValue),callback:function ($$v) {_vm.$set(subItem, \"fieldValue\", $$v)},expression:\"subItem.fieldValue\"}})]],2),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":2}},[_c('div',{staticClass:\"icon-ym icon-ym-btn-clearn clearn-color\",staticStyle:{\"width\":\"100%\",\"margin\":\"3px -29px\"},on:{\"click\":function($event){return _vm.delItem(index,i)}}})])],1)],1)})],2)],1)}),[(_vm.type)?_c('div',{staticClass:\"link-text\",on:{\"click\":function($event){return _vm.addGroup()}}},[_c('i',{staticClass:\"icon-ym icon-ym-btn-add add-text\"}),_vm._v(\"添加分组\")]):_c('el-button',{on:{\"click\":_vm.addGroup}},[_vm._v(\"添加分组\")])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"condition-pane pd-10\">\r\n    <div class=\"mb-10px\" v-if=\"conditionList.length\">\r\n      <span style=\"font-size: 14px;\">分组匹配逻辑</span>\r\n      <el-select v-model=\"matchLog\" placeholder=\"请选择\" style=\"width:150px;margin-left: 10px;\">\r\n        <el-option v-for=\"item in logicOptions\" :key=\"item.id\" :label=\"item.fullName\"\r\n          :value=\"item.id\">\r\n        </el-option>\r\n      </el-select>\r\n    </div>\r\n    <div v-for=\"(item, index) in conditionList\" style=\"margin-top: 10px;\" :key=\"index\">\r\n      <el-row :gutter=\"5\">\r\n        <el-col :span=\"7\" class=\"mb-10\">\r\n          <el-col :span=\"10\" style=\"line-height:32px\">条件逻辑</el-col>\r\n          <el-col :span=\"14\">\r\n            <el-select v-model=\"item.logic\" placeholder=\"请选择\">\r\n              <el-option v-for=\"item in logicOptions\" :key=\"item.id\" :label=\"item.fullName\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-col>\r\n        </el-col>\r\n        <el-col :span=\"3.5\" class=\"mb-10\">\r\n          <el-button icon=\"el-icon-plus\" @click=\"addItem(index)\">添加条件</el-button>\r\n        </el-col>\r\n        <el-col :span=\"5\" class=\"mb-10 \">\r\n          <el-button icon=\"icon-ym icon-ym-btn-clearn\" class=\"btn-del\"\r\n            @click=\"delGroup(index)\">删除分组</el-button>\r\n        </el-col>\r\n        <el-col :span=\"24\" v-for=\"(subItem, i) in item.groups\" :key=\"index + i\" class=\"mb-10\">\r\n          <el-row :gutter=\"5\">\r\n            <el-col :span=\"7\">\r\n              <el-select v-model=\"subItem.field\" placeholder=\"请选择\" filterable\r\n                @change=\"fieldNameChange($event, subItem, index,i)\">\r\n                <el-option v-for=\"item in usedFormItems\" :key=\"item.id\" :label=\"item.fullName\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-col>\r\n            <el-col :span=\"7\">\r\n              <el-select v-model=\"subItem.symbol\" placeholder=\"运算符号\" class=\"condition-select\"\r\n                @change=\"symbolChange($event, subItem, index,i)\" filterable>\r\n                <!-- 联动符号下拉框 -->\r\n                <el-option v-for=\"item in getSymbolOptions(subItem.jnpfKey)\" :key=\"item.id\"\r\n                  :label=\"item.fullName\" :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-col>\r\n            <el-col :span=\"8\">\r\n              <template v-if=\"subItem.jnpfKey === 'inputNumber'\">\r\n                <NumRange v-model=\"subItem.fieldValue\" :disabled=\"subItem.disabled\"\r\n                  v-if=\"subItem.symbol == 'between'\"></NumRange>\r\n                <JnpfInputNumber v-else v-model=\"subItem.fieldValue\" placeholder=\"请输入\"\r\n                  :disabled=\"subItem.disabled\" :precision=\"subItem.precision\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'autoComplete'\">\r\n                <JnpfAutoComplete v-model=\"subItem.fieldValue\" placeholder=\"请选择\"\r\n                  :interfaceId=\"subItem.interfaceId\" clearable :disabled=\"subItem.disabled\"\r\n                  :propsValue=\"subItem.propsValue\" :relationField=\"subItem.relationField\"\r\n                  :templateJson=\"subItem.templateJson\" :total=\"subItem.total\" />\r\n              </template>\r\n              <template v-else-if=\"['radio', 'checkbox', 'select'].includes(subItem.jnpfKey)\">\r\n                <template v-if=\"['null','notNull'].includes(subItem.symbol)\">\r\n                  <el-input :disabled=\"subItem.disabled\" v-model=\"subItem.fieldValue\"\r\n                    placeholder=\"请选择\"></el-input>\r\n                </template>\r\n                <el-select v-else :disabled=\"subItem.disabled\" v-model=\"subItem.fieldValue\"\r\n                  :key=\"subItem.cellKey\" placeholder=\"请选择\" :multiple=\"subItem.multiple\" filterable\r\n                  @change=\"input()\">\r\n                  <el-option v-for=\"(child, index) in subItem.options\" :key=\"index\"\r\n                    :disabled=\"subItem.disabled\" :label=\"child[subItem.props.label]\"\r\n                    :value=\"child[subItem.props.value]\"></el-option>\r\n                </el-select>\r\n              </template>\r\n              <template v-else-if=\"['cascader'].includes(subItem.jnpfKey)\">\r\n                <JnpfCascader v-model=\"subItem.fieldValue\" :options=\"subItem.options\"\r\n                  :props=\"subItem.props\" :multiple=\"subItem.multiple\"\r\n                  :placeholder=\"subItem.placeholder\" :clearable=\"subItem.clearable\"\r\n                  :separator=\"subItem.separator\" :filterable=\"subItem.filterable\"\r\n                  :disabled=\"subItem.disabled\" :show-all-levels=\"subItem.showAllLevels\"\r\n                  :key='subItem.cellKey' />\r\n              </template>\r\n              <template v-else-if=\"['treeSelect'].includes(subItem.jnpfKey)\">\r\n                <JnpfTreeSelect v-model=\"subItem.fieldValue\" conditionFilter\r\n                  :options=\"subItem.options\" :props=\"subItem.props\" :key=\"subItem.cellKey\"\r\n                  :placeholder=\"subItem.placeholder\" :clearable=\"subItem.clearable\"\r\n                  :multiple=\"subItem.multiple\" :filterable=\"subItem.filterable\"\r\n                  :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'calculate'\">\r\n                <NumRange v-model=\"subItem.fieldValue\" v-if=\"subItem.symbol == 'between'\"\r\n                  :precision=\"subItem.precision\" :disabled=\"subItem.disabled\"></NumRange>\r\n                <el-input-number v-else v-model=\"subItem.fieldValue\" placeholder=\"请输入\"\r\n                  :precision=\"subItem.precision ||0\" :disabled=\"subItem.disabled\" :controls=\"false\"\r\n                  controls-position=\"right\" />\r\n              </template>\r\n              <template v-else-if=\"['rate', 'slider'].includes(subItem.jnpfKey)\">\r\n                <NumRange v-model=\"subItem.fieldValue\" v-if=\"subItem.symbol == 'between'\"\r\n                  :precision=\"subItem.precision\" :disabled=\"subItem.disabled\"></NumRange>\r\n                <el-input-number v-else v-model=\"subItem.fieldValue\" placeholder=\"请输入\"\r\n                  :precision=\"0\" :disabled=\" subItem.disabled\" controls-position=\"right\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'switch'\">\r\n                <el-switch v-model=\"subItem.fieldValue\" :active-value=\"1\"\r\n                  :disabled=\"subItem.disabled\" :inactive-value=\"0\" style=\"margin-top: 5px;\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'timePicker'\">\r\n                <el-time-picker v-if=\"subItem.symbol == 'between'\" :disabled=\"subItem.disabled\"\r\n                  v-model=\"subItem.fieldValue\" key=\"time1\" style=\"width: 100%;\" range-separator=\"至\"\r\n                  placeholder=\"请选择\" clearable :is-range=\"true\" @input=\"input()\"\r\n                  :value-format=\"subItem.format\" :format=\"subItem.format\">\r\n                </el-time-picker>\r\n                <el-time-picker v-else v-model=\"subItem.fieldValue\" key=\"time2\" @input=\"input()\"\r\n                  placeholder=\"请选择\" clearable :disabled=\"subItem.disabled\" style=\"width: 100%;\"\r\n                  :value-format=\"subItem.format\" :format=\"subItem.format\">\r\n                </el-time-picker>\r\n              </template>\r\n              <template v-else-if=\"['datePicker'].includes(subItem.jnpfKey)\">\r\n                <template v-if=\"subItem.symbol == 'between'\">\r\n                  <JnpfDateRangePicker v-model=\"subItem.fieldValue\" clearable\r\n                    :disabled=\"subItem.disabled\" key=\"year1\" placeholder=\"请选择\" separator=\"至\"\r\n                    @input=\"input()\" startPlaceholder=\"开始日期\" endPlaceholder=\"结束日期\"\r\n                    style=\"width: 100%;\" :format=\"subItem.format\" />\r\n                </template>\r\n                <JnpfDatePicker v-else v-model=\"subItem.fieldValue\" clearable\r\n                  :disabled=\"subItem.disabled\" key=\"year2\" placeholder=\"请选择\" @input=\"input()\"\r\n                  style=\"width: 100%;\" :format=\"subItem.format\">\r\n                </JnpfDatePicker>\r\n              </template>\r\n              <template v-else-if=\"['createTime', 'modifyTime'].includes(subItem.jnpfKey)\">\r\n                <template v-if=\"subItem.symbol == 'between'\">\r\n                  <el-date-picker v-model=\"subItem.fieldValue\" clearable value-format=\"timestamp\"\r\n                    :disabled=\"subItem.disabled\" key=\"year1\" placeholder=\"请选择\" range-separator=\"至\"\r\n                    type=\"datetimerange\" @input=\"input()\" startPlaceholder=\"开始日期\"\r\n                    endPlaceholder=\"结束日期\" style=\"width: 100%;\" />\r\n                </template>\r\n                <el-date-picker v-else v-model=\"subItem.fieldValue\" clearable type=\"datetime\"\r\n                  value-format=\"timestamp\" :disabled=\"subItem.disabled\" key=\"year2\"\r\n                  placeholder=\"请选择\" @input=\"input()\">\r\n                </el-date-picker>\r\n              </template>\r\n              <template v-else-if=\"['organizeSelect', 'currOrganize'].includes(subItem.jnpfKey)\">\r\n                <JnpfOrganizeSelect v-model=\"subItem.fieldValue\" :disabled=\"subItem.disabled\"\r\n                  placeholder=\"请选择\" ref=\"comselect\" clearable :multiple=\"subItem.multiple\"\r\n                  :ableIds='subItem.ableIds' :selectType=\"subItem.selectType\" />\r\n              </template>\r\n              <template v-else-if=\"['depSelect'].includes(subItem.jnpfKey)\">\r\n                <JnpfDepSelect v-model=\"subItem.fieldValue\" placeholder=\"请选择\"\r\n                  :selectType=\"subItem.selectType\" :ableIds=\"subItem.ableIds\"\r\n                  :multiple=\"subItem.multiple\" clearable :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'popupTableSelect'\">\r\n                <JnpfPopupTableSelect v-model=\"subItem.fieldValue\"\r\n                  :placeholder=\"subItem.placeholder\" :interfaceId=\"subItem.interfaceId\"\r\n                  :multiple=\"subItem.multiple\" :columnOptions=\"subItem.columnOptions\"\r\n                  :propsValue=\"subItem.propsValue\" :relationField=\"subItem.relationField\"\r\n                  :hasPage=\"subItem.hasPage\" :pageSize=\"subItem.pageSize\"\r\n                  :popupType=\"subItem.popupType\" :popupTitle=\"subItem.popupTitle\"\r\n                  :popupWidth=\"subItem.popupWidth\" :filterable=\"subItem.filterable\"\r\n                  :disabled=\"subItem.disabled\" clearable :templateJson=\"subItem.templateJson\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'relationForm'\">\r\n                <JnpfRelationForm v-model=\"subItem.fieldValue\" placeholder=\"请选择\"\r\n                  :modelId=\"subItem.modelId\" clearable :multiple=\"subItem.multiple\"\r\n                  :columnOptions=\"subItem.columnOptions\" :relationField=\"subItem.relationField\"\r\n                  :hasPage=\"subItem.hasPage\" :pageSize=\"subItem.pageSize\"\r\n                  :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'popupSelect'\">\r\n                <JnpfPopupSelect v-model=\"subItem.fieldValue\" placeholder=\"请选择\"\r\n                  :interfaceId=\"subItem.interfaceId\" clearable :multiple=\"subItem.multiple\"\r\n                  :columnOptions=\"subItem.columnOptions\" :propsValue=\"subItem.propsValue\"\r\n                  :relationField=\"subItem.relationField\" :hasPage=\"subItem.hasPage\"\r\n                  :pageSize=\"subItem.pageSize\" :popupType=\"subItem.popupType\"\r\n                  :templateJson=\"item.templateJson\" :popupTitle=\"subItem.popupTitle\"\r\n                  :popupWidth=\"subItem.popupWidth\" :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"['userSelect'].includes(subItem.jnpfKey)\">\r\n                <JnpfUserSelect v-model=\"subItem.fieldValue\" class=\"item\" placeholder=\"请选择\"\r\n                  clearable :disabled=\"subItem.disabled\"\r\n                  :selectType=\"(subItem.selectType!='all' && subItem.selectType!='custom')?'all':subItem.selectType\"\r\n                  :ableIds=\"subItem.ableIds\" :multiple=\"subItem.multiple\" />\r\n              </template>\r\n              <template v-else-if=\"['usersSelect'].includes(subItem.jnpfKey)\">\r\n                <jnpf-users-select v-model=\"subItem.fieldValue\" clearable\r\n                  :selectType=\"subItem.selectType\" :ableIds=\"subItem.ableIds\"\r\n                  :multiple=\"subItem.multiple\" :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"['createUser', 'modifyUser'].includes(subItem.jnpfKey)\">\r\n                <JnpfUserSelect v-model=\"subItem.fieldValue\" placeholder=\"请选择\"\r\n                  :multiple=\"subItem.multiple\" clearable :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"['posSelect'].includes(subItem.jnpfKey)\">\r\n                <JnpfPosSelect v-model=\"subItem.fieldValue\" placeholder=\"请选择\" clearable\r\n                  class=\"subItem\" :selectType=\"subItem.selectType\" :ableIds=\"subItem.ableIds\"\r\n                  :multiple=\"subItem.multiple\" :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"[ 'currPosition'].includes(subItem.jnpfKey)\">\r\n                <JnpfPosSelect v-model=\"subItem.fieldValue\" placeholder=\"请选择\" clearable\r\n                  class=\"subItem\" :multiple=\"subItem.multiple\" :disabled=\"subItem.disabled\"\r\n                  :ableIds=\"subItem.ableIds\" :selectType=\"subItem.selectType\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'areaSelect'\">\r\n                <JnpfAreaSelect v-model=\"subItem.fieldValue\" placeholder=\"请选择\"\r\n                  :level=\"subItem.level\" :multiple=\"subItem.multiple\" clearable\r\n                  :key=\"subItem.cellKey\" :disabled=\"subItem.disabled\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'groupSelect'\">\r\n                <JnpfGroupSelect v-model=\"subItem.fieldValue\" :multiple=\"subItem.multiple\"\r\n                  placeholder=\"请选择\" clearable :disabled=\"subItem.disabled\"\r\n                  :ableIds=\"subItem.ableIds\" :selectType=\"subItem.selectType\" />\r\n              </template>\r\n              <template v-else-if=\"subItem.jnpfKey === 'roleSelect'\">\r\n                <JnpfRoleSelect v-model=\"subItem.fieldValue\" :multiple=\"subItem.multiple\"\r\n                  placeholder=\"请选择\" clearable :disabled=\"subItem.disabled\"\r\n                  :ableIds=\"subItem.ableIds\" :selectType=\"subItem.selectType\" />\r\n              </template>\r\n              <!-- 其他情况 -->\r\n              <template v-else>\r\n                <el-input v-model=\"subItem.fieldValue\" :disabled=\"subItem.disabled\"\r\n                  placeholder=\"请输入\" @input=\"input\"></el-input>\r\n              </template>\r\n            </el-col>\r\n            <el-col :span=\"2\" style=\"text-align:right\">\r\n              <div class=\"icon-ym icon-ym-btn-clearn clearn-color\" @click=\"delItem(index,i)\"\r\n                style=\"width:100%; margin: 3px -29px;\" />\r\n            </el-col>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <template>\r\n      <div class=\"link-text\" @click=\"addGroup()\" v-if=\"type\"><i\r\n          class=\"icon-ym icon-ym-btn-add add-text\"></i>添加分组</div>\r\n      <el-button @click=\"addGroup\" v-else>添加分组</el-button>\r\n    </template>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { getDictionaryDataSelector } from '@/api/systemData/dictionary';\r\nimport { getDataInterfaceRes } from '@/api/systemData/dataInterface';\r\nimport { dyOptionsList } from '@/components/Generator/generator/comConfig'\r\nconst logicOptions = [\r\n  { id: 'and', fullName: 'and' },\r\n  { id: 'or', fullName: 'or' },\r\n];\r\nconst baseSymbolOptions = [\r\n  { id: '==', fullName: '等于' },\r\n  { id: '<>', fullName: '不等于' },\r\n  { id: 'like', fullName: '包含' },\r\n  { id: 'notLike', fullName: '不包含' },\r\n  { id: 'null', fullName: '为空' },\r\n  { id: 'notNull', fullName: '不为空' },\r\n];\r\nconst rangeSymbolOptions = [\r\n  { id: '>=', fullName: '大于等于' },\r\n  { id: '>', fullName: '大于' },\r\n  { id: '==', fullName: '等于' },\r\n  { id: '<=', fullName: '小于等于' },\r\n  { id: '<', fullName: '小于' },\r\n  { id: '<>', fullName: '不等于' },\r\n  { id: 'between', fullName: '介于' },\r\n  { id: 'null', fullName: '为空' },\r\n  { id: 'notNull', fullName: '不为空' },\r\n];\r\nconst switchSymbolOptions = [\r\n  { id: '==', fullName: '等于' },\r\n  { id: '<>', fullName: '不等于' },\r\n];\r\nconst selectSymbolOptions = [\r\n  ...switchSymbolOptions,\r\n  { id: 'in', fullName: '包含任意一个' },\r\n  { id: 'notIn', fullName: '不包含任意一个' },\r\n  { id: 'null', fullName: '为空' },\r\n  { id: 'notNull', fullName: '不为空' },\r\n];\r\nconst relationFormSymbolOptions = [...switchSymbolOptions, { id: 'null', fullName: '为空' }, { id: 'notNull', fullName: '不为空' }];\r\nconst useRangeSymbolList = ['calculate', 'inputNumber', 'rate', 'slider', 'datePicker', 'timePicker', 'createTime', 'modifyTime'];\r\nconst useSelectSymbolList = [\r\n  'radio',\r\n  'checkbox',\r\n  'select',\r\n  'treeSelect',\r\n  'cascader',\r\n  'areaSelect',\r\n  'organizeSelect',\r\n  'depSelect',\r\n  'posSelect',\r\n  'userSelect',\r\n  'usersSelect',\r\n  'roleSelect',\r\n  'groupSelect',\r\n  'createUser',\r\n  'modifyUser',\r\n  'currOrganize',\r\n  'currPosition',\r\n  'popupTableSelect',\r\n];\r\nconst useSwitchSymbolList = ['switch'];\r\nconst useRelationFormSymbolList = ['relationForm', 'popupSelect'];\r\nexport default {\r\n  props: {\r\n    modelType: {\r\n      type: [String, Number],\r\n      default: ''\r\n    },\r\n    columnOptions: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    value: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    options: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    type: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    matchLogic: {\r\n      type: String,\r\n      default: \"and\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      nowJnpfKey: undefined,\r\n      dialogVisible: false,\r\n      conditionList: [],\r\n      matchLog: this.matchLogic,\r\n      logicOptions,\r\n      baseSymbolOptions,\r\n      rangeSymbolOptions,\r\n      selectSymbolOptions,\r\n      switchSymbolOptions,\r\n      useRangeSymbolList,\r\n      useSelectSymbolList,\r\n      useSwitchSymbolList,\r\n      relationFormSymbolOptions,\r\n      useRelationFormSymbolList\r\n    };\r\n  },\r\n  computed: {\r\n    usedFormItems() {\r\n      let list = [];\r\n      const loop = (data, parent) => {\r\n        if (!data) return;\r\n        if (\r\n          data.__config__ &&\r\n          ![\"table\"].includes(data.__config__.jnpfKey) &&\r\n          data.__config__.children &&\r\n          Array.isArray(data.__config__.children)\r\n        ) {\r\n          loop(data.__config__.children, data);\r\n        }\r\n        if (Array.isArray(data)) data.forEach(d => loop(d, parent));\r\n        if (\r\n          //下拉树形,关联表单 关联表单属性 弹窗选择 弹窗选择属性 下拉表格\r\n          //不支持控件：开关、文件上传、图片上传、颜色选择、评分、滑块、富文本、链接、\r\n          //按钮、文本、提示、二维码、条形码、用户组件、设计子表。\r\n          data.__vModel__ &&\r\n          !['relationFormAttr', 'popupAttr', 'uploadFile', 'uploadImg', 'colorPicker', 'editor', 'link', 'button', 'text', 'alert', 'table'].includes(data.__config__.jnpfKey)\r\n        )\r\n          list.push(data);\r\n      };\r\n      loop(this.columnOptions);\r\n      const formItems = list;\r\n      this.buildOptions(formItems)\r\n      return formItems;\r\n    }\r\n  },\r\n  watch: {\r\n    value: {\r\n      handler(val) {\r\n        if (val) {\r\n          this.conditionList = val;\r\n        }\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    getSymbolOptions(jnpfKey) {\r\n      if (this.useSwitchSymbolList.includes(jnpfKey)) return this.switchSymbolOptions;\r\n      if (this.useRelationFormSymbolList.includes(jnpfKey)) return this.relationFormSymbolOptions;\r\n      if (this.useRangeSymbolList.includes(jnpfKey)) return this.rangeSymbolOptions;\r\n      if (this.useSelectSymbolList.includes(jnpfKey)) return this.selectSymbolOptions;\r\n      return this.baseSymbolOptions;\r\n    },\r\n    input() {\r\n      this.$forceUpdate();\r\n    },\r\n    buildOptions(componentList) {\r\n      componentList.forEach(cur => {\r\n        cur.disabled = false;\r\n        const config = cur.__config__;\r\n        if (dyOptionsList.includes(config.jnpfKey)) {\r\n          if (config.dataType === 'dictionary' && config.dictionaryType) {\r\n            cur.options = [];\r\n            getDictionaryDataSelector(config.dictionaryType).then(res => {\r\n              cur.options = res.data.list;\r\n            });\r\n          }\r\n          if (config.dataType === 'dynamic' && config.propsUrl) {\r\n            cur.options = [];\r\n            const query = { paramList: config.templateJson || [] };\r\n            getDataInterfaceRes(config.propsUrl, query).then(res => {\r\n              cur.options = Array.isArray(res.data) ? res.data : [];\r\n            });\r\n          }\r\n        }\r\n      });\r\n      return componentList;\r\n    },\r\n    getData() {\r\n      return {\r\n        matchLogic: JSON.parse(JSON.stringify(this.matchLog)),\r\n        conditionList: JSON.parse(JSON.stringify(this.conditionList)),\r\n      };\r\n    },\r\n    handleClose() {\r\n      this.dialogVisible = false;\r\n    },\r\n    show(data) {\r\n      this.dialogVisible = true;\r\n      if (data != null) {\r\n        this.init(data);\r\n      }\r\n    },\r\n    addGroup() {\r\n      let item = {\r\n        logic: \"and\",\r\n        groups: [{\r\n          field: '',\r\n          symbol: '',\r\n          jnpfKey: '',\r\n          fieldValueType: 2,\r\n          fieldValue: undefined,\r\n          fieldValueJnpfKey: '',\r\n          cellKey: +new Date(),\r\n        }]\r\n      }\r\n      this.conditionList.push(item)\r\n    },\r\n    addItem(index) {\r\n      this.conditionList[index].groups.push({\r\n        field: '',\r\n        symbol: '',\r\n        jnpfKey: '',\r\n        fieldValueType: 2,\r\n        fieldValue: undefined,\r\n        fieldValueJnpfKey: '',\r\n        cellKey: +new Date(),\r\n      })\r\n    },\r\n    delGroup(index) {\r\n      this.conditionList.splice(index, 1)\r\n    },\r\n    delItem(index, childIndex) {\r\n      this.conditionList[index].groups.splice(childIndex, 1)\r\n    },\r\n    fieldNameChange(val, item, i, childIndex) {\r\n      item.cellKey = +new Date()\r\n      let obj = this.usedFormItems.filter(o => o.id == val)[0];\r\n      item.fieldName = obj.__config__.label;\r\n      item.jnpfKey = obj.__config__.jnpfKey;\r\n      obj.jnpfKey = obj.__config__.jnpfKey;\r\n\r\n      item = { ...item, ...obj };\r\n      if (item.jnpfKey != this.nowJnpfKey) {\r\n        item.symbol = undefined;\r\n      }\r\n\r\n      item.disabled = ['null', 'notNull'].includes(item.symbol);\r\n      item.multiple = ['in', 'notIn'].includes(item.symbol);\r\n      // 清空数据\r\n      item.symbol = undefined;\r\n      item.fieldValue = undefined;\r\n      if (item.jnpfKey == 'switch') item.fieldValue = 0\r\n      this.$set(this.conditionList[i].groups, childIndex, item);\r\n      this.nowJnpfKey = item.jnpfKey;\r\n    },\r\n    // 比较符号改变事件\r\n    symbolChange(val, item, i, childIndex) {\r\n      item.symbol = val\r\n      item.cellKey = +new Date()\r\n      item.disabled = ['null', 'notNull'].includes(val)\r\n      item.multiple = [\"in\", \"notIn\"].includes(val);\r\n      if (item.jnpfKey == 'cascader') {\r\n        item.props.multiple = false\r\n        if ([\"in\", \"notIn\"].includes(val)) item.props.multiple = true\r\n      }\r\n      item.fieldValue = undefined\r\n      if (item.jnpfKey == 'switch') item.fieldValue = 0\r\n      if ([\"in\", \"notIn\"].includes(val)) item.fieldValue = []\r\n      this.$set(this.conditionList[i].groups, childIndex, item);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.clearn-color {\r\n  color: #ff3a3a !important;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n}\r\n.btn-del {\r\n  ::v-deep .icon-ym {\r\n    font-size: 12px !important;\r\n  }\r\n}\r\n.fieldValue {\r\n  ::v-deep .el-input__inner,\r\n  .el-date-editor.el-input {\r\n    width: 100%;\r\n  }\r\n}\r\n.wrap {\r\n  padding: 0 4px;\r\n}\r\n\r\n.title {\r\n  font-size: 15px;\r\n  color: black;\r\n  font-weight: 400;\r\n}\r\n.el-select {\r\n  width: 100%;\r\n}\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n.el-input-number {\r\n  width: 100%;\r\n}\r\n.el-icon-delete {\r\n  line-height: 32px;\r\n}\r\n.numRange {\r\n  max-width: inherit;\r\n}\r\n::v-deep .JNPF-selectTree {\r\n  width: 100%;\r\n}\r\n\r\n::v-deep .popupSelect-container {\r\n  width: 100%;\r\n}\r\n.condition-list-header {\r\n  ::v-deep .el-col {\r\n    padding: 0 4px;\r\n  }\r\n}\r\n\r\n.link-text {\r\n  color: #1890ff;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n  display: block;\r\n  .add-text {\r\n    font-size: 14px;\r\n    margin-right: 4px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7623557b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7623557b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7623557b\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { deepClone } from '@/utils'\r\nimport { getDateDay, getLaterData, getBeforeData, getBeforeTime, getLaterTime } from '@/components/Generator/utils/index.js'\r\nimport jnpf from '@/utils/jnpf'\r\nimport render from '@/components/Generator/render/render.js'\r\nimport { dyOptionsList } from '@/components/Generator/generator/comConfig'\r\nimport { getDataInterfaceRes } from '@/api/systemData/dataInterface'\r\nimport { mapGetters } from \"vuex\"\r\n\r\nconst formClass = 'form-' + jnpf.idGenerator()\r\n\r\nconst layouts = {\r\n  colFormItem(h, scheme) {\r\n    const config = scheme.__config__\r\n    const listeners = buildListeners.call(this, scheme)\r\n    let labelWidth = config.labelWidth ? `${config.labelWidth}px` : null\r\n    if (config.showLabel === false) labelWidth = '0'\r\n    const Item = config.jnpfKey === 'cascader'\r\n      ? <JnpfCascader props={{ props: scheme.props }} v-model={this[this.formConf.formModel][scheme.__vModel__]} placeholder={scheme.placeholder} options={scheme.options}\r\n        disabled={scheme.disabled} show-all-levels={scheme.showAllLevels} separator={scheme.separator}\r\n        style={scheme.style} clearable={scheme.clearable} filterable={scheme.filterable} multiple={scheme.multiple}\r\n        onChange={val => this.onCascaderChange(val, scheme.on)} onBlur={val => this.onCascaderBlur(val, scheme.on)}\r\n        key={scheme.__config__.renderKey}></JnpfCascader>\r\n      : <render formData={this[this.formConf.formModel]} conf={scheme} {...{ on: listeners }} ref={config.jnpfKey === 'table' ? scheme.__vModel__ : undefined}\r\n        key={scheme.__config__.renderKey} relations={config.jnpfKey === 'table' ? this.relations : undefined} />\r\n    const visibility = !config.visibility || (Array.isArray(config.visibility) && config.visibility.includes('pc'))\r\n    if (visibility && !config.noShow) {\r\n      let toolTip = <el-col span={config.span} class={config.className}>\r\n        <jnpf-form-tip-item label-width={labelWidth} prop={scheme.__vModel__} key={config.renderKey} tip-label={config.label && config.showLabel ? config.tipLabel : \"\"}\r\n          label={config.showLabel ? config.label : ''}>\r\n          {Item}\r\n        </jnpf-form-tip-item>\r\n      </el-col>\r\n      if (config.jnpfKey === 'alert') {\r\n        toolTip = <el-col span={config.span} class={config.className}>\r\n          <jnpf-form-tip-item label-width={labelWidth} prop={scheme.__vModel__} key={config.renderKey} tip-label={config.label && config.showLabel ? config.tipLabel : \"\"}\r\n            label={config.showLabel ? config.label : ''}>\r\n            <div style=\"word-break: break-all\">\r\n              {Item}\r\n            </div>\r\n          </jnpf-form-tip-item>\r\n        </el-col>\r\n      }\r\n      if (config.jnpfKey === 'table') {\r\n        toolTip = <el-col span={config.span} class={config.className}>\r\n          <el-form-item label-width={labelWidth} prop={scheme.__vModel__} key={config.renderKey}\r\n            label={config.showLabel ? config.label : ''}>\r\n            {Item}\r\n          </el-form-item >\r\n        </el-col>\r\n      }\r\n      return (\r\n        toolTip\r\n      )\r\n    }\r\n  },\r\n  rowFormItem(h, scheme) {\r\n    const listeners = buildListeners.call(this, scheme)\r\n    const config = scheme.__config__\r\n    const visibility = !config.visibility || (Array.isArray(config.visibility) && config.visibility.includes('pc'))\r\n    if (!visibility || config.noShow) return\r\n    if (scheme.__config__.jnpfKey === 'tab') {\r\n      return (\r\n        <el-col span={scheme.__config__.span} class=\"mb-10\">\r\n          <el-tabs type={scheme.type} tab-position={scheme.tabPosition} vModel={scheme.__config__.active} {...{ on: listeners }}>\r\n            {\r\n              scheme.__config__.children.map((item, i) => {\r\n                let child = renderChildren.call(this, h, item)\r\n                return (\r\n                  <el-tab-pane name={item.name} label={item.title} >\r\n                    <el-row>\r\n                      {child}\r\n                    </el-row>\r\n                  </el-tab-pane>\r\n                )\r\n              })\r\n            }\r\n          </el-tabs>\r\n        </el-col>\r\n      )\r\n    }\r\n    if (scheme.__config__.jnpfKey === 'collapse') {\r\n      return (\r\n        <el-col span={scheme.__config__.span} class=\"mb-20\">\r\n          <el-collapse vModel={scheme.__config__.active} accordion={scheme.accordion} {...{ on: listeners }}>\r\n            {\r\n              scheme.__config__.children.map((item, i) => {\r\n                let child = renderChildren.call(this, h, item)\r\n                return (\r\n                  <el-collapse-item key={item.name} title={item.title} name={item.name} >\r\n                    <el-row>\r\n                      {child}\r\n                    </el-row>\r\n                  </el-collapse-item>\r\n                )\r\n              })\r\n            }\r\n          </el-collapse>\r\n        </el-col>\r\n      )\r\n    }\r\n    if (scheme.__config__.jnpfKey === 'tableGrid') {\r\n      return (\r\n        <el-col span={scheme.__config__.span} >\r\n          <el-row gutter={scheme.__config__.gutter}>\r\n            <table class=\"table-grid-box\"\r\n              style={{ '--borderType': scheme.__config__.borderType, '--borderColor': scheme.__config__.borderColor, '--borderWidth': scheme.__config__.borderWidth + 'px' }}>\r\n              <tbody>\r\n                {\r\n                  scheme.__config__.children.map((item) => {\r\n                    return (\r\n                      <tr>\r\n                        {\r\n                          item.__config__.children.map((it, colIndex) => {\r\n                            let child = renderChildren.call(this, h, it)\r\n                            return !it.__config__.merged ? (\r\n                              <td colspan={it.__config__.colspan || 1} rowspan={it.__config__.rowspan || 1} style={{ '--backgroundColor': it.__config__.backgroundColor }}>\r\n                                <el-col>\r\n                                  <el-row gutter={scheme.__config__.gutter} >\r\n                                    {child}\r\n                                  </el-row>\r\n                                </el-col>\r\n                              </td>\r\n                            ) : ''\r\n                          })\r\n                        }\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </el-row>\r\n        </el-col>\r\n      )\r\n    }\r\n    let child = renderChildren.apply(this, arguments)\r\n    if (scheme.__config__.jnpfKey === 'table') {\r\n      if (!scheme.__config__.noShow) this.tableRefs[scheme.__vModel__] = scheme\r\n      const param = { ...scheme, config: scheme }\r\n      return layouts.colFormItem.call(this, h, param)\r\n    }\r\n    if (scheme.__config__.jnpfKey === 'card') {\r\n      let toolTip = scheme.header\r\n      if (scheme.__config__.tipLabel) {\r\n        toolTip = <span slot=\"label\">{scheme.header}\r\n          <el-tooltip placement=\"top\" content={scheme.__config__.tipLabel}>\r\n            <a class='el-icon-question tooltip-question' style='margin-left:4px'></a>\r\n          </el-tooltip>\r\n        </span >\r\n      }\r\n      let header = ''\r\n      if (scheme.header) {\r\n        header = <div slot=\"header\" ><span>{toolTip}</span></div>\r\n      }\r\n      return (\r\n        <el-col span={scheme.__config__.span} class=\"item-card\">\r\n          <el-card shadow={scheme.shadow} header={scheme.header} class=\"mb-20\">\r\n            {header}\r\n            {child}\r\n          </el-card>\r\n        </el-col>\r\n      )\r\n    }\r\n    if (scheme.__config__.jnpfKey === 'row') {\r\n      if (scheme.type === 'flex') {\r\n        child = <el-row type={scheme.type} justify={scheme.justify} align={scheme.align}>\r\n          {child}\r\n        </el-row>\r\n      }\r\n      return (\r\n        <el-col span={scheme.__config__.span}>\r\n          <el-row gutter={scheme.gutter}>\r\n            {child}\r\n          </el-row>\r\n        </el-col>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderFrom(h) {\r\n  const { formConfCopy } = this\r\n  let classStyle = [formClass]\r\n  if (formConfCopy.formStyle) classStyle.push(formConfCopy.formStyle)\r\n  if (formConfCopy.className) classStyle = [...classStyle, ...formConfCopy.className]\r\n  return (\r\n    <el-row gutter={formConfCopy.gutter} class={classStyle}>\r\n      <el-form\r\n        size={formConfCopy.size}\r\n        label-position={formConfCopy.labelPosition}\r\n        disabled={formConfCopy.disabled}\r\n        label-width={`${formConfCopy.labelWidth}px`}\r\n        ref={formConfCopy.formRef}\r\n        // model不能直接赋值 https://github.com/vuejs/jsx/issues/49#issuecomment-472013664\r\n        props={{ model: this[formConfCopy.formModel] }}\r\n        rules={this[formConfCopy.formRules]}\r\n        nativeOnSubmit={event => { event.preventDefault() }}\r\n      >\r\n        {renderFormItem.call(this, h, formConfCopy.fields)}\r\n        {\r\n          // {formConfCopy.formBtns && formBtns.call(this, h)}\r\n        }\r\n      </el-form>\r\n    </el-row>\r\n  )\r\n}\r\n\r\nfunction formBtns(h) {\r\n  return <el-col>\r\n    <el-form-item size=\"large\">\r\n      <el-button type=\"primary\" onClick={this.submitForm}>提交</el-button>\r\n      <el-button onClick={this.resetForm}>重置</el-button>\r\n    </el-form-item>\r\n  </el-col>\r\n}\r\n\r\nfunction renderFormItem(h, elementList) {\r\n  return elementList.map(scheme => {\r\n    const config = scheme.__config__\r\n    const layout = layouts[config.layout]\r\n\r\n    if (layout) {\r\n      return layout.call(this, h, scheme)\r\n    }\r\n    throw new Error(`没有与${config.layout}匹配的layout`)\r\n  })\r\n}\r\n\r\nfunction renderChildren(h, scheme) {\r\n  const config = scheme.__config__\r\n  if (!Array.isArray(config.children)) return null\r\n  return renderFormItem.call(this, h, config.children)\r\n}\r\n\r\nfunction setValue(event, config, scheme) {\r\n  this.$set(config, 'defaultValue', event)\r\n  this.$set(this[this.formConf.formModel], scheme.__vModel__, event)\r\n}\r\n\r\nfunction buildListeners(scheme) {\r\n  const config = scheme.__config__\r\n  const listeners = {}\r\n  if (scheme.on) {\r\n    // 响应 组件事件\r\n    Object.keys(scheme.on).forEach(key => {\r\n      const str = scheme.on[key];\r\n      const func = this.jnpf.getScriptFunc.call(this, str);\r\n      if (!func) return\r\n      listeners[key] = params => {\r\n        if (key === 'change') {\r\n          let data = ''\r\n          if (['select', 'radio', 'checkbox'].includes(config.jnpfKey)) {\r\n            const options = scheme.options\r\n            if (scheme.multiple || config.jnpfKey === 'checkbox') {\r\n              let _data = []\r\n              outer: for (let i = 0; i < params[0].length; i++) {\r\n                inner: for (let j = 0; j < options.length; j++) {\r\n                  if (params[0][i] === options[j][scheme.props.value]) {\r\n                    _data.push(options[j])\r\n                    break inner\r\n                  }\r\n                }\r\n              }\r\n              data = _data\r\n            } else {\r\n              let _data = {}\r\n              for (let i = 0; i < options.length; i++) {\r\n                if (params[0] === options[i][scheme.props.value]) {\r\n                  _data = options[i]\r\n                  break\r\n                }\r\n              }\r\n              data = _data\r\n            }\r\n          } else if (config.jnpfKey === 'inputNumber') {\r\n            data = params[0]\r\n          } else {\r\n            data = params.length > 1 ? params[1] : params[0]\r\n          }\r\n          func.call(this, { data, ...this.parameter })\r\n          this.handleRelation(scheme.__vModel__)\r\n        } else {\r\n          func.call(this, { data: params[0], ...this.parameter })\r\n        }\r\n      }\r\n    })\r\n  }\r\n  // 响应 render.js 中的 vModel $emit('input', val)\r\n  listeners.input = event => setValue.call(this, event, config, scheme)\r\n\r\n  return listeners\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    render\r\n  },\r\n  props: {\r\n    formConf: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    const data = {\r\n      formConfCopy: deepClone(this.formConf),\r\n      [this.formConf.formModel]: {},\r\n      [this.formConf.formRules]: {},\r\n      options: {},\r\n      tableRefs: {},\r\n      relations: {},\r\n      isTableValid: false\r\n    }\r\n    this.initCss(data.formConfCopy)\r\n    this.initFormData(data.formConfCopy.fields, data[this.formConf.formModel])\r\n    this.initRelationForm(data.formConfCopy.fields)\r\n    this.buildRules(data.formConfCopy.fields, data[this.formConf.formRules])\r\n    this.buildOptions(data.formConfCopy.fields, data.options, data[this.formConf.formModel])\r\n    this.buildRelations(data.formConfCopy.fields, data.relations)\r\n    this.$nextTick(() => {\r\n      this.onLoad(data.formConfCopy)\r\n    })\r\n    return data\r\n  },\r\n  provide() {\r\n    return {\r\n      parameter: this.parameter\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo']),\r\n    formDataConf() {\r\n      const name = this.formConf.formModel\r\n      return this[name]\r\n    },\r\n    parameter() {\r\n      const oldFormData = this.formConfCopy.formData ? this.formConfCopy.formData : {}\r\n      this[this.formConf.formModel].id = oldFormData.id || ''\r\n      this[this.formConf.formModel].flowId = oldFormData.flowId || ''\r\n      return {\r\n        formData: this[this.formConf.formModel],\r\n        setFormData: this.setFormData,\r\n        setShowOrHide: this.setShowOrHide,\r\n        setRequired: this.setRequired,\r\n        setDisabled: this.setDisabled,\r\n        onlineUtils: this.jnpf.onlineUtils,\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initRelationData()\r\n    this.$nextTick(() => {\r\n      this.$refs[this.formConf.formRef].clearValidate()\r\n    })\r\n  },\r\n  methods: {\r\n    initRelationData() {\r\n      const handleRelationFun = (list) => {\r\n        list.forEach(cur => {\r\n          this.handleDefaultRelation(cur.__vModel__)\r\n          if (cur.__config__.children) handleRelationFun(cur.__config__.children)\r\n        })\r\n      }\r\n      handleRelationFun(this.formConfCopy.fields)\r\n    },\r\n    initCss(formCopy) {\r\n      if (document.getElementById('styleId')) {\r\n        document.getElementById('styleId').remove()\r\n      }\r\n      let head = document.getElementsByTagName('head')[0]\r\n      let style = document.createElement('style')\r\n      style.type = 'text/css'\r\n      style.id = 'styleId'\r\n      style.innerText = this.buildCSS(formCopy.classJson)\r\n      head.appendChild(style)\r\n    },\r\n    buildCSS(str) {\r\n      str = str.trim();\r\n      let newStr = '';\r\n      let cut = str.split('}');\r\n      cut.forEach(item => {\r\n        if (item) {\r\n          item = '.' + formClass + ' ' + item + '}';\r\n          newStr += item;\r\n        }\r\n      });\r\n      return newStr;\r\n    },\r\n    initFormData(componentList, formData) {\r\n      this.$store.commit('generator/UPDATE_RELATION_DATA', {})\r\n      componentList.forEach(cur => {\r\n        const config = cur.__config__\r\n        if (cur.__vModel__) formData[cur.__vModel__] = config.defaultValue\r\n        if (cur.__config__.jnpfKey == 'table') return\r\n        if (config.children) this.initFormData(config.children, formData)\r\n      })\r\n    },\r\n    buildRelations(componentList, relations) {\r\n      componentList.forEach(cur => {\r\n        const config = cur.__config__\r\n        if (dyOptionsList.indexOf(config.jnpfKey) > -1) {\r\n          if (config.dataType === 'dynamic') {\r\n            if (config.templateJson && config.templateJson.length) {\r\n              for (let i = 0; i < config.templateJson.length; i++) {\r\n                const e = config.templateJson[i];\r\n                if (e.relationField) {\r\n                  let item = {\r\n                    ...cur,\r\n                    realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n                    opType: 'setOptions'\r\n                  }\r\n                  if (relations.hasOwnProperty(e.relationField)) {\r\n                    let boo = relations[e.relationField].some(o => o.realVModel === cur.realVModel)\r\n                    if (!boo) {\r\n                      relations[e.relationField].push(item)\r\n                    }\r\n                  } else {\r\n                    relations[e.relationField] = [item]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (config.jnpfKey === 'userSelect' && ['dep', 'pos', 'role', 'group'].includes(cur.selectType)) {\r\n          if (cur.relationField) {\r\n            let item = {\r\n              ...cur,\r\n              realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n              opType: 'setUserOptions'\r\n            }\r\n            if (relations.hasOwnProperty(cur.relationField)) {\r\n              let boo = relations[cur.relationField].some(o => o.realVModel === cur.realVModel)\r\n              if (!boo) {\r\n                relations[cur.relationField].push(item)\r\n              }\r\n            } else {\r\n              relations[cur.relationField] = [item]\r\n            }\r\n\r\n          }\r\n        }\r\n        if (config.jnpfKey === 'areaSelect' && ['address', 'cities'].includes(cur.selectType)) {\r\n          if (cur.relationField) {\r\n            let item = {\r\n              ...cur,\r\n              realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n              opType: 'setAddressOptions'\r\n            }\r\n            if (relations.hasOwnProperty(cur.relationField)) {\r\n              let boo = relations[cur.relationField].some(o => o.realVModel === cur.realVModel)\r\n              if (!boo) {\r\n                relations[cur.relationField].push(item)\r\n              }\r\n            } else {\r\n              relations[cur.relationField] = [item]\r\n            }\r\n\r\n          }\r\n        }\r\n        if (config.jnpfKey === 'popupSelect') {\r\n          if (cur.templateJson && cur.templateJson.length) {\r\n            for (let i = 0; i < cur.templateJson.length; i++) {\r\n              const e = cur.templateJson[i];\r\n              if (e.relationField) {\r\n                let item = {\r\n                  ...cur,\r\n                  realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n                  opType: 'setPopupOptions'\r\n                }\r\n                if (relations.hasOwnProperty(e.relationField)) {\r\n                  let boo = relations[e.relationField].some(o => o.realVModel === cur.realVModel)\r\n                  if (!boo) {\r\n                    relations[e.relationField].push(item)\r\n                  }\r\n                } else {\r\n                  relations[e.relationField] = [item]\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (config.jnpfKey === 'datePicker') {\r\n          if (config.startTimeRule) {\r\n            if (config.startTimeType == 1) {\r\n              cur.startTime = config.startTimeValue\r\n            } else if (config.startTimeType == 3) {\r\n              cur.startTime = new Date().getTime()\r\n            } else if (config.startTimeType == 4) {\r\n              let previousDate = '';\r\n              if (config.startTimeTarget == 1 || config.startTimeTarget == 2) {\r\n                previousDate = getDateDay(config.startTimeTarget, config.startTimeType, config.startTimeValue)\r\n                cur.startTime = new Date(previousDate).getTime()\r\n              } else if (config.startTimeTarget == 3) {\r\n                previousDate = getBeforeData(config.startTimeValue)\r\n                cur.startTime = new Date(previousDate).getTime()\r\n              } else {\r\n                cur.startTime = getBeforeTime(config.startTimeTarget, config.startTimeValue).getTime()\r\n              }\r\n            } else if (config.startTimeType == 5) {\r\n              let previousDate = '';\r\n              if (config.startTimeTarget == 1 || config.startTimeTarget == 2) {\r\n                previousDate = getDateDay(config.startTimeTarget, config.startTimeType, config.startTimeValue)\r\n                cur.startTime = new Date(previousDate).getTime()\r\n              } else if (config.startTimeTarget == 3) {\r\n                previousDate = getLaterData(config.startTimeValue)\r\n                cur.startTime = new Date(previousDate).getTime()\r\n              } else {\r\n                cur.startTime = getLaterTime(config.startTimeTarget, config.startTimeValue).getTime()\r\n              }\r\n            }\r\n          }\r\n          if (config.endTimeRule) {\r\n            if (config.endTimeType == 1) {\r\n              cur.endTime = config.endTimeValue\r\n            } else if (config.endTimeType == 3) {\r\n              cur.endTime = new Date().getTime()\r\n            } else if (config.endTimeType == 4) {\r\n              let previousDate = '';\r\n              if (config.endTimeTarget == 1 || config.endTimeTarget == 2) {\r\n                previousDate = getDateDay(config.endTimeTarget, config.endTimeType, config.endTimeValue)\r\n                cur.endTime = new Date(previousDate).getTime()\r\n              } else if (config.endTimeTarget == 3) {\r\n                previousDate = getBeforeData(config.endTimeValue)\r\n                cur.endTime = new Date(previousDate).getTime()\r\n              } else {\r\n                cur.endTime = getBeforeTime(config.endTimeTarget, config.endTimeValue).getTime()\r\n              }\r\n            } else if (config.endTimeType == 5) {\r\n              let previousDate = '';\r\n              if (config.endTimeTarget == 1 || config.endTimeTarget == 2) {\r\n                previousDate = getDateDay(config.endTimeTarget, config.endTimeType, config.endTimeValue)\r\n                cur.endTime = new Date(previousDate).getTime()\r\n              } else if (config.endTimeTarget == 3) {\r\n                previousDate = getLaterData(config.endTimeValue)\r\n                cur.endTime = new Date(previousDate).getTime()\r\n              } else {\r\n                cur.endTime = getLaterTime(config.endTimeTarget, config.endTimeValue).getTime()\r\n              }\r\n            }\r\n          }\r\n          if (cur.__config__.startRelationField) {\r\n            let item = {\r\n              ...cur,\r\n              realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n              opType: 'setDate'\r\n            }\r\n            if (relations.hasOwnProperty(cur.__config__.startRelationField)) {\r\n              let boo = relations[cur.__config__.startRelationField].some(o => o.realVModel === cur.realVModel)\r\n              if (!boo) {\r\n                relations[cur.__config__.startRelationField].push(item)\r\n              }\r\n            } else {\r\n              relations[cur.__config__.startRelationField] = [item]\r\n            }\r\n          }\r\n          if (cur.__config__.endRelationField) {\r\n            let item = {\r\n              ...cur,\r\n              realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n              opType: 'setDate'\r\n            }\r\n            if (relations.hasOwnProperty(cur.__config__.endRelationField)) {\r\n              let boo = relations[cur.__config__.endRelationField].some(o => o.realVModel === cur.realVModel)\r\n              if (!boo) {\r\n                relations[cur.__config__.endRelationField].push(item)\r\n              }\r\n            } else {\r\n              relations[cur.__config__.endRelationField] = [item]\r\n            }\r\n          }\r\n        }\r\n        if (config.jnpfKey === 'timePicker') {\r\n          let format = cur.format === 'HH:mm' ? 'HH:mm:00' : cur.format\r\n          if (config.startTimeRule) {\r\n            if (config.startTimeType == 1) {\r\n              cur.startTime = config.startTimeValue || '00:00:00'\r\n              if (cur.startTime.split(':').length == 3) {\r\n                cur.startTime = cur.startTime\r\n              } else {\r\n                cur.startTime = cur.startTime + ':00'\r\n              }\r\n            } else if (config.startTimeType == 3) {\r\n              cur.startTime = this.jnpf.toDate(new Date(), format)\r\n            } else if (config.startTimeType == 4) {\r\n              let previousDate = '';\r\n              previousDate = getBeforeTime(config.startTimeTarget, config.startTimeValue)\r\n              cur.startTime = this.jnpf.toDate(previousDate, format)\r\n            } else if (config.startTimeType == 5) {\r\n              let previousDate = '';\r\n              previousDate = getLaterTime(config.startTimeTarget, config.startTimeValue)\r\n              cur.startTime = this.jnpf.toDate(previousDate, format)\r\n            }\r\n          }\r\n          if (config.endTimeRule) {\r\n            if (config.endTimeType == 1) {\r\n              cur.endTime = config.endTimeValue || '23:59:59'\r\n              if (cur.endTime.split(':').length == 3) {\r\n                cur.endTime = cur.endTime\r\n              } else {\r\n                cur.endTime = cur.endTime + ':00'\r\n              }\r\n            } else if (config.endTimeType == 3) {\r\n              cur.endTime = this.jnpf.toDate(new Date(), format)\r\n            } else if (config.endTimeType == 4) {\r\n              let previousDate = '';\r\n              previousDate = getBeforeTime(config.endTimeTarget, config.endTimeValue)\r\n              cur.endTime = this.jnpf.toDate(previousDate, format)\r\n            } else if (config.endTimeType == 5) {\r\n              let previousDate = '';\r\n              previousDate = getLaterTime(config.endTimeTarget, config.endTimeValue)\r\n              cur.endTime = this.jnpf.toDate(previousDate, format)\r\n            }\r\n          }\r\n          if (cur.__config__.startRelationField) {\r\n            let item = {\r\n              ...cur,\r\n              realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n              opType: 'setTime'\r\n            }\r\n            if (relations.hasOwnProperty(cur.__config__.startRelationField)) {\r\n              let boo = relations[cur.__config__.startRelationField].some(o => o.realVModel === cur.realVModel)\r\n              if (!boo) {\r\n                relations[cur.__config__.startRelationField].push(item)\r\n              }\r\n            } else {\r\n              relations[cur.__config__.startRelationField] = [item]\r\n            }\r\n          }\r\n          if (cur.__config__.endRelationField) {\r\n            let item = {\r\n              ...cur,\r\n              realVModel: cur.__config__.isSubTable ? cur.__config__.parentVModel + '-' + cur.__vModel__ : cur.__vModel__,\r\n              opType: 'setTime'\r\n            }\r\n            if (relations.hasOwnProperty(cur.__config__.endRelationField)) {\r\n              let boo = relations[cur.__config__.endRelationField].some(o => o.realVModel === cur.realVModel)\r\n              if (!boo) {\r\n                relations[cur.__config__.endRelationField].push(item)\r\n              }\r\n            } else {\r\n              relations[cur.__config__.endRelationField] = [item]\r\n            }\r\n          }\r\n        }\r\n        if (config.children) this.buildRelations(config.children, relations)\r\n      })\r\n    },\r\n    handleRelation(field) {\r\n      if (!field) return\r\n      const currRelations = this.relations\r\n      for (let key in currRelations) {\r\n        if (key === field) {\r\n          for (let i = 0; i < currRelations[key].length; i++) {\r\n            const e = currRelations[key][i];\r\n            let vModel = e.realVModel || e.__vModel__\r\n            const config = e.__config__\r\n            const jnpfKey = config.jnpfKey\r\n            let defaultValue = ''\r\n            if (['checkbox', 'cascader'].includes(jnpfKey) || (['select', 'treeSelect', 'popupSelect', 'popupTableSelect', 'userSelect'].includes(jnpfKey) && e.multiple)) {\r\n              defaultValue = []\r\n            }\r\n            if (vModel.includes('-')) {\r\n              // 子表字段\r\n              const tableVModel = vModel.split('-')[0]\r\n              this.$refs[tableVModel] && this.$refs[tableVModel].$children[0] && this.$refs[tableVModel].$children[0].handleRelationForParent(e, defaultValue)\r\n            } else {\r\n              this.setFormData(e.__vModel__, defaultValue)\r\n              if (e.opType === 'setOptions') {\r\n                let query = {\r\n                  paramList: this.getParamList(config.templateJson, this[this.formConf.formModel])\r\n                }\r\n                getDataInterfaceRes(config.propsUrl, query).then(res => {\r\n                  let realData = res.data\r\n                  this.setFieldOptions(e.__vModel__, realData)\r\n                })\r\n              }\r\n              if (e.opType === 'setUserOptions') {\r\n                let value = this[this.formConf.formModel][e.relationField] || []\r\n                this.comSet('ableRelationIds', e.__vModel__, Array.isArray(value) ? value : [value])\r\n              }\r\n              if (e.opType === 'setAddressOptions') {\r\n                let value = this[this.formConf.formModel][e.relationField] || []\r\n                this.comSet('ableAddressIds', e.__vModel__, Array.isArray(value) ? value : [value])\r\n              }\r\n              if (e.opType === 'setPopupOptions') { }\r\n\r\n              if (e.opType === 'setDate') {\r\n                let startTime = ''\r\n                let endTime = ''\r\n                if (e.__config__.startTimeType == 2) {\r\n                  startTime = this[this.formConf.formModel][e.__config__.startRelationField] || 0\r\n                } else {\r\n                  startTime = e.startTime\r\n                }\r\n                if (e.__config__.endTimeType == 2) {\r\n                  endTime = this[this.formConf.formModel][e.__config__.endRelationField] || 0\r\n                } else {\r\n                  endTime = e.endTime\r\n                }\r\n                this.comSet('startTime', e.__vModel__, startTime)\r\n                this.comSet('endTime', e.__vModel__, endTime)\r\n              }\r\n              if (e.opType === 'setTime') {\r\n                let startTime = ''\r\n                let endTime = ''\r\n                if (e.__config__.startTimeType == 2) {\r\n                  startTime = this[this.formConf.formModel][e.__config__.startRelationField] || '00:00:00'\r\n                  if (startTime && (startTime.split(':').length == 3)) {\r\n                    startTime = startTime\r\n                  } else {\r\n                    startTime = startTime + ':00'\r\n                  }\r\n                } else {\r\n                  startTime = e.startTime\r\n                }\r\n                if (e.__config__.endTimeType == 2) {\r\n                  endTime = this[this.formConf.formModel][e.__config__.endRelationField] || '23:59:59'\r\n                  if (endTime && (endTime.split(':').length == 3)) {\r\n                    endTime = endTime\r\n                  } else {\r\n                    endTime = endTime + ':00'\r\n                  }\r\n                } else {\r\n                  endTime = e.endTime\r\n                }\r\n                this.comSet('startTime', e.__vModel__, startTime)\r\n                this.comSet('endTime', e.__vModel__, endTime)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handleDefaultRelation(field) {\r\n      if (!field) return\r\n      const currRelations = this.relations\r\n      for (let key in currRelations) {\r\n        if (key === field) {\r\n          for (let i = 0; i < currRelations[key].length; i++) {\r\n            const e = currRelations[key][i];\r\n            let vModel = e.realVModel || e.__vModel__\r\n            const config = e.__config__\r\n            if (vModel.includes('-')) {\r\n              const tableVModel = vModel.split('-')[0]\r\n              this.$refs[tableVModel] && this.$refs[tableVModel].$children[0] && this.$refs[tableVModel].$children[0].handleRelationForParent(e, '', true)\r\n            } else {\r\n              if (e.opType === 'setUserOptions') {\r\n                let value = this[this.formConf.formModel][e.relationField] || []\r\n                this.comSet('ableRelationIds', e.__vModel__, Array.isArray(value) ? value : [value])\r\n              }\r\n              if (e.opType === 'setAddressOptions') {\r\n                let value = this[this.formConf.formModel][e.relationField] || []\r\n                this.comSet('ableAddressIds', e.__vModel__, Array.isArray(value) ? value : [value])\r\n              }\r\n              if (e.opType === 'setDate') {\r\n                let startTime = ''\r\n                let endTime = ''\r\n                if (e.__config__.startTimeType == 2) {\r\n                  startTime = this[this.formConf.formModel][e.__config__.startRelationField] || 0\r\n                } else {\r\n                  startTime = e.startTime\r\n                }\r\n                if (e.__config__.endTimeType == 2) {\r\n                  endTime = this[this.formConf.formModel][e.__config__.endRelationField] || 0\r\n                } else {\r\n                  endTime = e.endTime\r\n                }\r\n                this.comSet('startTime', e.__vModel__, startTime)\r\n                this.comSet('endTime', e.__vModel__, endTime)\r\n              }\r\n              if (e.opType === 'setTime') {\r\n                let startTime = ''\r\n                let endTime = ''\r\n                if (e.__config__.startTimeType == 2) {\r\n                  startTime = this[this.formConf.formModel][e.__config__.startRelationField] || '00:00:00'\r\n                } else {\r\n                  startTime = e.startTime\r\n                }\r\n                if (e.__config__.endTimeType == 2) {\r\n                  endTime = this[this.formConf.formModel][e.__config__.endRelationField] || '23:59:59'\r\n                  if (endTime && (endTime.split(':').length == 3)) {\r\n                    endTime = endTime\r\n                  } else {\r\n                    endTime = endTime + ':00'\r\n                  }\r\n                } else {\r\n                  endTime = e.endTime\r\n                }\r\n                if (startTime) {\r\n                  if (startTime.split(':').length == 3) {\r\n                    startTime = startTime\r\n                  } else {\r\n                    startTime = startTime + ':00'\r\n                  }\r\n                }\r\n                if (endTime) {\r\n                  if (endTime.split(':').length == 3) {\r\n                    endTime = endTime\r\n                  } else {\r\n                    endTime = endTime + ':00'\r\n                  }\r\n                }\r\n                this.comSet('startTime', e.__vModel__, startTime)\r\n                this.comSet('endTime', e.__vModel__, endTime)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    getParamList(templateJson, formData) {\r\n      for (let i = 0; i < templateJson.length; i++) {\r\n        if (templateJson[i].relationField) {\r\n          templateJson[i].defaultValue = formData[templateJson[i].relationField] || ''\r\n        }\r\n      }\r\n      return templateJson\r\n    },\r\n    initRelationForm(componentList) {\r\n      componentList.forEach(cur => {\r\n        const config = cur.__config__\r\n        if (config.jnpfKey == 'relationFormAttr' || config.jnpfKey == 'popupAttr') {\r\n          const relationKey = cur.relationField.split(\"_jnpfTable_\")[0]\r\n          componentList.forEach(item => {\r\n            const noVisibility = Array.isArray(item.__config__.visibility) && !item.__config__.visibility.includes('pc')\r\n            if ((relationKey == item.__vModel__) && (noVisibility || !!item.__config__.noShow) && !cur.__vModel__) {\r\n              cur.__config__.noShow = true\r\n            }\r\n          })\r\n        }\r\n        if (cur.__config__.children && cur.__config__.children.length) this.initRelationForm(cur.__config__.children)\r\n      })\r\n    },\r\n    buildOptions(componentList, data, formData) {\r\n      componentList.forEach(cur => {\r\n        const config = cur.__config__\r\n        if (dyOptionsList.indexOf(config.jnpfKey) > -1) {\r\n          if (config.dataType === 'dictionary' && config.dictionaryType) {\r\n            cur.options = []\r\n            this.$store.dispatch('base/getDicDataSelector', config.dictionaryType).then(res => {\r\n              cur.options = res\r\n              data[cur.__vModel__ + 'Options'] = cur.options\r\n            })\r\n          } else if (config.dataType === 'dynamic' && config.propsUrl) {\r\n            cur.options = []\r\n            let query = {\r\n              paramList: config.templateJson ? this.getParamList(config.templateJson, formData) : [],\r\n            }\r\n            getDataInterfaceRes(config.propsUrl, query).then(res => {\r\n              cur.options = Array.isArray(res.data) ? res.data : []\r\n              data[cur.__vModel__ + 'Options'] = cur.options\r\n            })\r\n          } else {\r\n            data[cur.__vModel__ + 'Options'] = cur.options\r\n          }\r\n        }\r\n        if (config.children && config.jnpfKey !== 'table') this.buildOptions(config.children, data, formData)\r\n      })\r\n    },\r\n    buildRules(componentList, rules) {\r\n      componentList.forEach(cur => {\r\n        const config = JSON.parse(JSON.stringify(cur.__config__))\r\n        if (!Array.isArray(config.regList)) config.regList = []\r\n        if (config.required) {\r\n          const required = { required: config.required, message: cur.placeholder }\r\n          if (Array.isArray(config.defaultValue)) {\r\n            required.type = 'array'\r\n            required.message = `请至少选择一个${config.label}`\r\n          }\r\n          required.message === undefined && (required.message = `${config.label}不能为空`)\r\n          config.regList.push(required)\r\n        }\r\n        rules[cur.__vModel__] = config.regList.map(item => {\r\n          item.pattern && this.isRegExp(item.pattern) && (item.pattern = eval(item.pattern))\r\n          item.trigger = config.trigger || 'blur'\r\n          return item\r\n        })\r\n        if (config.children && config.jnpfKey !== 'table') this.buildRules(config.children, rules)\r\n      })\r\n    },\r\n    isRegExp(val) {\r\n      try {\r\n        return Object.prototype.toString.call(eval(val)) === '[object RegExp]'\r\n      } catch {\r\n        return false\r\n      }\r\n    },\r\n    onLoad(formConfCopy) {\r\n      if (!formConfCopy || !formConfCopy.funcs || !formConfCopy.funcs.onLoad) return\r\n      const onLoadFunc = this.jnpf.getScriptFunc.call(this, formConfCopy.funcs.onLoad)\r\n      if (!onLoadFunc) return\r\n      onLoadFunc(this.parameter)\r\n    },\r\n    resetForm() {\r\n      this.$store.commit('generator/UPDATE_RELATION_DATA', {})\r\n      this.formConfCopy = deepClone(this.formConf)\r\n      this.$refs[this.formConf.formRef].resetFields()\r\n      Object.keys(this.tableRefs).forEach(vModel => {\r\n        this.$refs[vModel] && this.$refs[vModel].$children && this.$refs[vModel].$children[0].resetTable()\r\n      })\r\n    },\r\n    checkTableData() {\r\n      let valid = true\r\n      Object.keys(this.tableRefs).forEach(vModel => {\r\n        if (this.$refs[vModel] && this.$refs[vModel].$children) {\r\n          const res = this.$refs[vModel].$children[0].submit()  // 返回false或表单数据\r\n          res ? (this[this.formConf.formModel][vModel] = res) : (valid = false)\r\n        }\r\n      })\r\n      return valid\r\n    },\r\n    getFieldOptions(prop) {\r\n      if (!prop) return []\r\n      const isChildTable = prop.indexOf('.') > -1\r\n      if (isChildTable) {\r\n        const list = prop.split('.')\r\n        if (this.$refs[list[0]] && this.$refs[list[0]].$children[0]) {\r\n          let res = this.$refs[list[0]].$children[0].getTableFieldOptions(list[1])\r\n          return res\r\n        } else {\r\n          return []\r\n        }\r\n      } else {\r\n        return this.options[prop + 'Options'] || []\r\n      }\r\n    },\r\n    setFormData(prop, value) {\r\n      if (!prop || this[this.formConf.formModel][prop] === value) return;\r\n      const isChildTable = prop.indexOf('.') > -1\r\n      if (isChildTable) {\r\n        const list = prop.split('.')\r\n        if (this.$refs[list[0]] && this.$refs[list[0]].$children[0]) {\r\n          this.$refs[list[0]].$children[0].setTableFormData(list[1], value)\r\n        }\r\n      } else {\r\n        this.comSet('defaultValue', prop, value)\r\n        this[this.formConf.formModel][prop] = value\r\n      }\r\n      this.handleRelation(prop)\r\n    },\r\n    setShowOrHide(prop, value) {\r\n      const newVal = !!value\r\n      const isChildTable = prop.indexOf('.') > -1\r\n      if (!isChildTable) {\r\n        this.comSet('noShow', prop, !newVal)\r\n      } else {\r\n        const list = prop.split('.')\r\n        if (this.$refs[list[0]] && this.$refs[list[0]].$children[0]) {\r\n          this.$refs[list[0]].$children[0].setTableShowOrHide(list[1], !newVal)\r\n        }\r\n      }\r\n    },\r\n    setRequired(prop, value) {\r\n      const newVal = !!value\r\n      const isChildTable = prop.indexOf('.') > -1\r\n      if (!isChildTable) {\r\n        this.comSet('required', prop, newVal)\r\n        this.buildRules(this.formConfCopy.fields, this[this.formConf.formRules])\r\n      }\r\n    },\r\n    setDisabled(prop, value) {\r\n      const newVal = !!value\r\n      const isChildTable = prop.indexOf('.') > -1\r\n      if (!isChildTable) {\r\n        this.comSet('disabled', prop, newVal)\r\n      }\r\n    },\r\n    setFieldOptions(prop, value) {\r\n      const newVal = Array.isArray(value) ? value : []\r\n      const isChildTable = prop.indexOf('.') > -1\r\n      if (!isChildTable) {\r\n        this.comSet('options', prop, newVal)\r\n      }\r\n    },\r\n    comSet(field, prop, value) {\r\n      if (!prop) return\r\n      const loop = list => {\r\n        for (let i = 0; i < list.length; i++) {\r\n          let item = list[i]\r\n          if (item.__vModel__ && item.__vModel__ === prop) {\r\n            switch (field) {\r\n              case 'disabled':\r\n                this.$set(item, field, value)\r\n                break;\r\n              case 'ableRelationIds':\r\n                this.$set(item, field, value)\r\n                break;\r\n              case 'ableAddressIds':\r\n                this.$set(item, field, value)\r\n                break;\r\n              case 'startTime':\r\n                this.$set(item, field, value)\r\n                break;\r\n              case 'endTime':\r\n                this.$set(item, field, value)\r\n                break;\r\n              case 'options':\r\n                if (dyOptionsList.indexOf(item.__config__.jnpfKey) > -1) {\r\n                  let isTreeSelect = item.__config__.jnpfKey === 'treeSelect' || item.__config__.jnpfKey === 'cascader'\r\n                  isTreeSelect ? item.options = value : item.options = value\r\n                }\r\n                break;\r\n              default:\r\n                this.$set(item.__config__, field, value)\r\n                break;\r\n            }\r\n            item.__config__.renderKey = +new Date() + item.__vModel__\r\n            break;\r\n          }\r\n          if (item.__config__ && item.__config__.jnpfKey !== 'table' && item.__config__.children && Array.isArray(item.__config__.children)) {\r\n            loop(item.__config__.children)\r\n          }\r\n        }\r\n      }\r\n      loop(this.formConfCopy.fields)\r\n    },\r\n    beforeSubmit() {\r\n      if (!this.formConfCopy || !this.formConfCopy.funcs || !this.formConfCopy.funcs.beforeSubmit) return Promise.resolve()\r\n      const func = this.jnpf.getScriptFunc.call(this, this.formConfCopy.funcs.beforeSubmit)\r\n      if (!func) return Promise.resolve()\r\n      return func(this.parameter)\r\n    },\r\n    afterSubmit() {\r\n      if (!this.formConfCopy || !this.formConfCopy.funcs || !this.formConfCopy.funcs.afterSubmit) return\r\n      const func = this.jnpf.getScriptFunc.call(this, this.formConfCopy.funcs.afterSubmit)\r\n      if (!func) return\r\n      func(this.parameter)\r\n    },\r\n    submitForm(type) {\r\n      this.isTableValid = this.checkTableData()\r\n      try {\r\n        this.beforeSubmit().then(() => {\r\n          this.submit(type)\r\n        })\r\n      } catch (e) {\r\n        this.submit(type)\r\n      }\r\n    },\r\n    submit(type) {\r\n      this.$refs[this.formConf.formRef].validate(valid => {\r\n        if (!valid) return false\r\n        if (!this.isTableValid) return false\r\n        // 触发submit事件\r\n        this.$emit('submit', this[this.formConf.formModel], this.afterSubmit, type)\r\n        return true\r\n      })\r\n    },\r\n    onCascaderChange(data, on) {\r\n      if (!on || !on.change) return\r\n      const func = this.jnpf.getScriptFunc.call(this, on.change)\r\n      if (!func) return\r\n      func.call(this, { data, ...this.parameter })\r\n    },\r\n    onCascaderBlur(data, on) {\r\n      if (!on || !on.blur) return\r\n      const func = this.jnpf.getScriptFunc.call(this, on.blur)\r\n      if (!func) return\r\n      func.call(this, { data, ...this.parameter })\r\n    }\r\n  },\r\n  render(h) {\r\n    return renderFrom.call(this, h)\r\n  }\r\n}\r\n</script>","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=7b75e4bc&prod&lang=scss&\"","import { deepClone } from '@/utils'\r\n\r\nfunction vModel(dataObject, defaultValue) {\r\n  dataObject.props.value = defaultValue\r\n  dataObject.on.input = val => {\r\n    this.$emit('input', val)\r\n  }\r\n}\r\n\r\nfunction emitEvents(confClone) {\r\n  ['on', 'nativeOn'].forEach(attr => {\r\n    const eventKeyList = Object.keys(confClone[attr] || {})\r\n    eventKeyList.forEach(key => {\r\n      const val = confClone[attr][key]\r\n      if (typeof key === 'string') {\r\n        confClone[attr][key] = (...arg) => this.$emit(key, arg)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction buildDataObject(confClone, dataObject, formData) {\r\n  const jnpfKey = confClone.__config__.jnpfKey\r\n  Object.keys(confClone).forEach(key => {\r\n    const val = confClone[key]\r\n    if (key === '__vModel__') {\r\n      vModel.call(this, dataObject, confClone.__config__.defaultValue)\r\n    } else if (key === 'props') {\r\n      dataObject[key][key] = val\r\n    } else if (dataObject[key] !== undefined) {\r\n      if (dataObject[key] === null ||\r\n        dataObject[key] instanceof RegExp || ['boolean', 'string', 'number', 'function'].includes(typeof dataObject[key])) {\r\n        dataObject[key] = val\r\n      } else if (Array.isArray(dataObject[key])) {\r\n        dataObject[key] = [...dataObject[key], ...val]\r\n      } else {\r\n        dataObject[key] = { ...dataObject[key], ...val }\r\n      }\r\n    } else {\r\n      dataObject.attrs[key] = val\r\n    }\r\n  })\r\n  if (['calculate', 'table', 'barcode', 'qrcode', 'popupSelect', 'popupTableSelect', 'autoComplete'].includes(jnpfKey)) {\r\n    dataObject.attrs['formData'] = formData\r\n  }\r\n  if (['table'].includes(jnpfKey)) {\r\n    dataObject.attrs['relations'] = this.relations\r\n    dataObject.attrs['vModel'] = confClone.__vModel__\r\n  }\r\n  if (['popupAttr', 'calculate', 'relationFormAttr'].includes(jnpfKey)) {\r\n    dataObject.attrs['defaultValue'] = confClone.__config__.defaultValue\r\n  }\r\n  if (['relationForm', 'popupSelect'].includes(jnpfKey)) {\r\n    dataObject.attrs['field'] = confClone.__config__.tableName ? confClone.__vModel__ + '_jnpfTable_' + confClone.__config__.tableName + (confClone.__config__.isSubTable ? '0' : \"1\") : confClone.__vModel__\r\n  }\r\n  // 清理属性\r\n  clearAttrs(dataObject)\r\n}\r\n\r\nfunction clearAttrs(dataObject) {\r\n  delete dataObject.attrs.__config__\r\n  delete dataObject.attrs.__slot__\r\n  delete dataObject.attrs.__methods__\r\n}\r\n\r\nfunction makeDataObject() {\r\n  return {\r\n    class: {},\r\n    attrs: {},\r\n    props: {},\r\n    domProps: {},\r\n    nativeOn: {},\r\n    on: {},\r\n    style: {},\r\n    directives: [],\r\n    scopedSlots: {},\r\n    slot: null,\r\n    key: null,\r\n    ref: null,\r\n    refInFor: true\r\n  }\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    conf: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    formData: {\r\n      type: Object,\r\n      default: () => { }\r\n    },\r\n    relations: Object,\r\n  },\r\n  render(h) {\r\n    const dataObject = makeDataObject()\r\n    const confClone = deepClone(this.conf)\r\n    const children = this.$slots.default || []\r\n\r\n    // 将字符串类型的事件，发送为消息\r\n    emitEvents.call(this, confClone)\r\n\r\n    // 将json表单配置转化为vue render可以识别的 “数据对象（dataObject）”\r\n    buildDataObject.call(this, confClone, dataObject, this.formData)\r\n\r\n    return h(this.conf.__config__.tag, dataObject, children)\r\n  }\r\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7623557b&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7b75e4bc&prod&lang=scss&scoped=true&\""],"sourceRoot":""}