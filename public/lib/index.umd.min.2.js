(("undefined"!==typeof self?self:this)["webpackJsonpavueData"]=("undefined"!==typeof self?self:this)["webpackJsonpavueData"]||[]).push([[2],{"0287":function(e,t,i){"use strict";i.r(t);i("ac1f"),i("841c");var a,n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"popupSelect-container"},[t("div",{staticClass:"el-select",on:{click:function(t){return t.stopPropagation(),e.openDialog.apply(null,arguments)}}},[e.multiple?t("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%",cursor:"pointer"}},[e.collapseTags&&e.tagsList.length?t("span",[t("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,type:"info","disable-transitions":""},on:{close:function(t){return e.deleteTag(t,0)}}},[t("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.tagsList[0].fullName))])]),e.tagsList.length>1?t("el-tag",{attrs:{closable:!1,type:"info","disable-transitions":""}},[t("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.tagsList.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():t("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.tagsList,(function(i,a){return t("el-tag",{key:i.id,attrs:{size:e.collapseTagSize,closable:!e.selectDisabled,type:"info","disable-transitions":""},on:{close:function(t){return e.deleteTag(t,a)}}},[t("span",{staticClass:"el-select__tags-text"},[e._v(e._s(i.fullName))])])})),1)],1):e._e(),t("el-input",{ref:"reference",attrs:{type:"text",placeholder:e.currentPlaceholder,disabled:e.selectDisabled,readonly:"","validate-event":!1,tabindex:e.multiple?"-1":null},nativeOn:{mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.innerValue,callback:function(t){e.innerValue=t},expression:"innerValue"}},[t("template",{slot:"suffix"},[t("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-arrow-up"]}),e.showClose?t("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2)],1),t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center transfer-dialog",attrs:{title:"候选人员","close-on-click-modal":!1,visible:e.visible,"lock-scroll":"","append-to-body":"",width:"800px","modal-append-to-body":!1},on:{"update:visible":function(t){e.visible=t},close:e.onClose}},[t("div",{staticClass:"transfer__body"},[t("div",{staticClass:"transfer-pane"},[t("div",{staticClass:"transfer-pane__tools"},[t("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入关键词查询",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search.apply(null,arguments)}},model:{value:e.listQuery.keyword,callback:function(t){e.$set(e.listQuery,"keyword",t)},expression:"listQuery.keyword"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1),t("div",{staticClass:"transfer-pane__body left-pane"},[t("div",{staticClass:"custom-title"},[e._v("全部数据")]),t("div",{ref:"candidate",staticClass:"single-list"},[e.list.length?e._l(e.list,(function(i,a){return t("div",{key:a,staticClass:"selected-item-user",on:{click:function(t){return e.handleNodeClick(i)}}},[t("div",{staticClass:"selected-item-main"},[t("el-avatar",{staticClass:"selected-item-headIcon",attrs:{size:36,src:e.define.comUrl+i.headIcon}}),t("div",{staticClass:"selected-item-text"},[t("p",{staticClass:"name"},[e._v(e._s(i.fullName))]),t("p",{staticClass:"organize",attrs:{title:i.organize}},[e._v(e._s(i.organize))])])],1)])})):t("el-empty",{attrs:{description:"暂无数据","image-size":120}})],2)])]),t("div",{staticClass:"transfer-pane"},[t("div",{staticClass:"transfer-pane__tools"},[t("span",[e._v("已选")]),t("el-button",{staticClass:"removeAllBtn",attrs:{type:"text"},on:{click:e.removeAll}},[e._v("清空列表")])],1),t("div",{staticClass:"transfer-pane__body shadow right-pane"},[e.selectedData.length?e._l(e.selectedData,(function(i,a){return t("div",{key:a,staticClass:"selected-item-user"},[t("div",{staticClass:"selected-item-main"},[t("el-avatar",{staticClass:"selected-item-headIcon",attrs:{size:36,src:e.define.comUrl+i.headIcon}}),t("div",{staticClass:"selected-item-text"},[t("p",{staticClass:"name"},[e._v(e._s(i.fullName)+" "),t("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.removeData(a)}}})]),t("p",{staticClass:"organize",attrs:{title:i.organize}},[e._v(e._s(i.organize))])])],1)])})):t("el-empty",{attrs:{description:"暂无数据","image-size":120}})],2)])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.$t("common.confirmButton")))])],1)])],1)},s=[],o=i("ade3"),r=i("2909"),l=i("5530"),c=(i("e9c4"),i("d81d"),i("99af"),i("d3b7"),i("14d9"),i("a434"),i("4de4"),i("e200")),d=i("b3f4"),u=i("2f7b"),f={name:"CandidateUser",inject:{elForm:{default:""},elFormItem:{default:""}},props:{value:{type:[String,Array],default:""},placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},collapseTags:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},taskId:{type:String,default:""},nodeId:{type:String,default:""},formData:{type:Object,default:function(){return{}}},size:String},data:function(){return{visible:!1,innerValue:"",loading:!1,listQuery:{keyword:"",currentPage:1,pageSize:20},total:0,list:[],listLoading:!0,selectedData:[],tagsList:[],inputHovering:!1,inputWidth:0,initialInputHeight:0,finish:!1}},watch:{value:function(e){this.setDefault()},selectDisabled:function(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))}},computed:{showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value,t=this.clearable&&!this.selectDisabled&&this.inputHovering&&e;return t},currentPlaceholder:function(){return this.multiple&&Array.isArray(this.value)&&this.value.length?"":this.placeholder},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},created:function(){this.setDefault()},mounted:function(){var e=this;Object(u["a"])(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var i={medium:36,small:32,mini:28},a=t.$el.querySelector("input");this.initialInputHeight=a.getBoundingClientRect().height||i[this.selectSize]}this.multiple&&this.resetInputHeight(),this.$nextTick((function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)})),this.setDefault()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(u["b"])(this.$el,this.handleResize)},methods:(a={onClose:function(){},clear:function(){this.disabled||(this.innerValue="",this.selectedData=[],this.$emit("input",""),this.$emit("change","",""))},openDialog:function(){var e=this;this.disabled||(this.visible=!0,this.finish=!1,this.listQuery.keyword="",this.$nextTick((function(){e.bindScroll(),e.search(),e.setDefault()})))},confirm:function(){if(this.multiple){this.innerValue="",this.tagsList=JSON.parse(JSON.stringify(this.selectedData));var e=this.selectedData.map((function(e){return e.id}));this.$emit("input",e),this.$emit("change",e,this.selectedData)}else{if(!this.selectedData.length)return this.innerValue="",this.$emit("input",""),this.$emit("change","",{}),void(this.visible=!1);this.innerValue=this.selectedData[0].fullName;var t=this.selectedData.map((function(e){return e.id}));this.$emit("input",t[0]),this.$emit("change",t[0],this.selectedData[0])}this.visible=!1},bindScroll:function(){var e=this,t=e.$refs.candidate;t.addEventListener("scroll",(function(){t.scrollHeight-t.clientHeight-t.scrollTop<=200&&!e.listLoading&&!e.finish&&(e.listQuery.currentPage+=1,e.initData())}))},search:function(){this.listQuery.currentPage=1,this.listQuery.pageSize=20,this.list=[],this.finish=!1,this.initData()},initData:function(){var e=this;this.listLoading=!0;var t=Object(l["a"])(Object(l["a"])(Object(l["a"])({},this.listQuery),this.formData),{},{nodeCode:this.nodeId});Object(c["f"])(this.taskId||0,t).then((function(t){t.data.list.length<e.listQuery.pageSize&&(e.finish=!0),e.list=[].concat(Object(r["a"])(e.list),Object(r["a"])(t.data.list)),e.total=t.data.pagination.total,e.listLoading=!1}))},handleNodeClick:function(e){var t=this.selectedData.some((function(t){return t.id===e.id}));t||(this.multiple?this.selectedData.push(e):this.selectedData=[e])},removeAll:function(){this.selectedData=[]},removeData:function(e){this.selectedData.splice(e,1)},setDefault:function(){var e=this;if(!this.value||!this.value.length)return this.innerValue="",this.selectedData=[],void(this.tagsList=[]);var t=this.multiple?this.value:[this.value];Object(d["q"])(t).then((function(t){e.selectedData=t.data.list,e.multiple?(e.innerValue="",e.tagsList=JSON.parse(JSON.stringify(e.selectedData))):e.innerValue=e.selectedData.length?e.selectedData[0].fullName:"",e.$nextTick((function(){e.multiple&&e.resetInputHeight()}))}))},deleteTag:function(e,t){this.selectedData.splice(t,1),this.confirm(),e.stopPropagation()},handleClearClick:function(e){this.selectedData=[],this.confirm(),e.stopPropagation()},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags||this.$nextTick((function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,i=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0],a=e.$refs.tags,n=a?Math.round(a.getBoundingClientRect().height):0,s=e.initialInputHeight||40;i.style.height=0===e.selectedData.length?s+"px":Math.max(a?n+(n>s?6:0):0,s)+"px"}}))}},Object(o["a"])(a,"resetInputWidth",(function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width})),Object(o["a"])(a,"handleResize",(function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()})),a)},p=f,m=i("2877"),h=Object(m["a"])(p,n,s,!1,null,null,null);t["default"]=h.exports},"0723":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:e.setting.title,"close-on-click-modal":!1,visible:e.visible,"lock-scroll":"","append-to-body":"",width:"1000px","destroy-on-close":""},on:{"update:visible":function(t){e.visible=t}}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main"},[t(e.currentView,{ref:"form",tag:"component",attrs:{config:e.setting},on:{setLoad:e.setLoad,setCandidateLoad:e.setCandidateLoad,setPageLoad:e.setPageLoad}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))])],1)])},n=[],s=(i("ac1f"),i("5319"),i("e200")),o={data:function(){return{currentView:"",setting:{},flowFormInfo:{},flowTaskInfo:{},visible:!1,loading:!1,btnLoading:!1}},methods:{init:function(e){this.loading=!0,this.setting=e,this.visible=!0,this.getBeforeInfo(e)},getBeforeInfo:function(e){var t=this;Object(s["h"])(e.id,{taskNodeId:e.taskNodeId,flowId:e.flowId}).then((function(a){t.flowFormInfo=a.data.flowFormInfo,t.flowTaskInfo=a.data.flowTaskInfo,e.fullName=t.flowTaskInfo.fullName,t.flowUrgent=t.flowTaskInfo.flowUrgent||1,e.type=t.flowTaskInfo.type,e.formData=a.data.formData||{},e.draftData=a.data.draftData||null;var n=2==t.flowFormInfo.formType?"workFlow/workFlowForm/dynamicForm":t.flowFormInfo.urlAddress?t.flowFormInfo.urlAddress.replace(/\s*/g,""):"workFlow/workFlowForm/".concat(t.flowFormInfo.enCode);if(t.currentView=function(e){return Promise.all([i.e(4),i.e(5),i.e(3),i.e(0),i.e(8)]).then(function(){var t=[i("4b3b")("./".concat(n))];e.apply(null,t)}.bind(this)).catch(i.oe)},e.formConf=a.data.flowFormInfo.propertyJson,1!=e.opType&&(e.readonly=!0),e.formOperates=a.data.formOperates||[],0==e.opType)for(var s=0;s<e.formOperates.length;s++)e.formOperates[s].write=!1;t.setting=e})).catch((function(){t.loading=!1}))},setPageLoad:function(e){this.loading=!!e},setCandidateLoad:function(e){this.candidateLoading=!!e},setLoad:function(e){this.btnLoading=!!e}}},r=o,l=(i("3f6a"),i("2877")),c=Object(l["a"])(r,a,n,!1,null,"4ba418dd",null);t["default"]=c.exports},1729:function(e,t,i){"use strict";i("3361")},"19e4":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"el-zoom-in-center"}},[t("div",{staticClass:"JNPF-preview-main order-form"},[t("div",{staticClass:"JNPF-common-page-header"},[t("el-page-header",{attrs:{content:e.title},on:{back:e.goBack}}),t("div",{staticClass:"options"},[t("el-button",{on:{click:function(t){return e.goBack()}}},[e._v(e._s(e.$t("common.cancelButton")))])],1)],1),t("div",{staticClass:"main"},[t("JNPF-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,hasNO:!1}},[t("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),t("el-table-column",{attrs:{prop:"fullName",label:"事件名称","show-overflow-tooltip":"",width:"150"}}),t("el-table-column",{attrs:{prop:"interfaceName",label:"接口名称","show-overflow-tooltip":"",width:"150"}}),t("el-table-column",{attrs:{prop:"interfaceCode",label:"接口编码",width:"150"}}),t("el-table-column",{attrs:{prop:"creatorTime",label:"执行时间",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("toDate")(t.row.creatorTime,"yyyy-MM-dd HH:mm:ss")))]}}])}),t("el-table-column",{attrs:{label:"执行结果","min-width":"200",prop:"result"}})],1)],1)])])},n=[],s=i("e200"),o={components:{},data:function(){return{title:"",taskNodeId:"",listLoading:!1,list:[]}},methods:{goBack:function(){this.$emit("close")},init:function(e,t){this.taskNodeId=e||"",this.title=t+"审批节点名称",this.initData()},initData:function(){var e=this;this.listLoading=!0,Object(s["s"])(this.taskNodeId).then((function(t){e.list=t.data.list||[],e.listLoading=!1}))}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,null,null);t["default"]=c.exports},"1dbd":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",e._g(e._b({staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1,"append-to-body":"",title:"加签",width:"600px"},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[t("el-form",{ref:"hasFreeApproverForm",attrs:{rules:e.rules,model:e.hasFreeApproverForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"加签人员",prop:"freeApproverUserId"}},[t("JnpfUserSelect",{attrs:{placeholder:"请选择加签人员"},model:{value:e.hasFreeApproverForm.freeApproverUserId,callback:function(t){e.$set(e.hasFreeApproverForm,"freeApproverUserId",t)},expression:"hasFreeApproverForm.freeApproverUserId"}})],1),t("el-form-item",{attrs:{label:"加签类型"}},[t("el-radio-group",{model:{value:e.hasFreeApproverForm.freeApproverType,callback:function(t){e.$set(e.hasFreeApproverForm,"freeApproverType",t)},expression:"hasFreeApproverForm.freeApproverType"}},[t("el-radio-button",{attrs:{label:1}},[e._v("审批前")]),t("el-radio-button",{attrs:{label:2}},[e._v("审批后")])],1),1==e.hasFreeApproverForm.freeApproverType?t("div",[e._v("加签后，流程先经过加签审批人，再由我审批")]):t("div",[e._v("审批后加签，即表示同意该申请并增加审批人员")])],1),e.branchList.length&&2===e.hasFreeApproverForm.freeApproverType?t("el-form-item",{attrs:{label:"分支选择",prop:"branchList"}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择审批分支",clearable:"",filterable:""},on:{change:e.onBranchChange},model:{value:e.hasFreeApproverForm.branchList,callback:function(t){e.$set(e.hasFreeApproverForm,"branchList",t)},expression:"hasFreeApproverForm.branchList"}},e._l(e.branchList,(function(e){return t("el-option",{key:e.nodeId,attrs:{label:e.nodeName,value:e.nodeId}})})),1)],1):e._e(),2==e.hasFreeApproverForm.freeApproverType?t("div",e._l(e.hasFreeApproverForm.candidateList,(function(i,a){return t("el-form-item",{key:a,attrs:{label:i.nodeName+i.label,prop:"candidateList."+a+".value",rules:i.rules}},[i.hasCandidates?t("candidate-user-select",{attrs:{multiple:"",placeholder:"请选择"+i.label,taskId:e.taskId,formData:e.formData,nodeId:i.nodeId},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}}):t("JnpfUserSelect",{attrs:{multiple:"",placeholder:"请选择"+i.label,title:"候选人员"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})],1)})),1):e._e(),e.properties&&e.properties.hasOpinion?t("el-form-item",{attrs:{label:"加签原因",prop:"handleOpinion"}},[t("el-input",{attrs:{placeholder:"请输入加签原因",type:"textarea",rows:4},model:{value:e.hasFreeApproverForm.handleOpinion,callback:function(t){e.$set(e.hasFreeApproverForm,"handleOpinion",t)},expression:"hasFreeApproverForm.handleOpinion"}})],1):e._e(),e.properties&&e.properties.hasOpinion?t("el-form-item",{attrs:{label:"加签附件",prop:"fileList"}},[t("JnpfUploadFile",{attrs:{limit:3},model:{value:e.hasFreeApproverForm.fileList,callback:function(t){e.$set(e.hasFreeApproverForm,"fileList",t)},expression:"hasFreeApproverForm.fileList"}})],1):e._e(),e.properties&&e.properties.hasSign?t("el-form-item",{attrs:{label:"手写签名",required:""}},[t("div",{staticClass:"sign-main"},[e.signImg?t("img",{staticClass:"sign-img",attrs:{src:e.signImg,alt:""}}):e._e(),t("div",{staticClass:"sign-style",on:{click:e.addSign}},[t("i",{staticClass:"icon-ym icon-ym-signature add-sign"}),e.signImg?e._e():t("span",{staticClass:"sign-title"},[e._v("手写签名")])])])]):e._e()],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.close}},[e._v(e._s(e.formConf.cancelButtonText||"取 消"))]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.dataFormSubmit()}}},[e._v(" "+e._s(e.$t("common.confirmButton")))])],1),e.signVisible?t("SignImgDialog",{ref:"SignImg",attrs:{lineWidth:3,userInfo:e.userInfo,isDefault:1},on:{close:e.signDialog}}):e._e()],1)},n=[],s=i("2909"),o=i("5530"),r=(i("4de4"),i("d3b7"),i("d81d"),i("14d9"),i("99af"),i("e200")),l=i("a84c"),c=i("0287"),d=i("5880"),u={components:{CandidateUserSelect:c["default"],SignImgDialog:l["default"]},props:["taskId","formData","properties"],data:function(){return{key:+new Date,formConf:{},currentView:"",hasFreeApproverForm:{freeApproverUserId:"",freeApproverType:1,handleOpinion:"",fileList:[],branchList:[],candidateList:[]},branchList:[],candidateType:1,btnLoading:!1,freeApproverUserId:"",rules:{freeApproverUserId:[{required:!0,message:"加签人员不能为空",trigger:"change"}],branchList:[{required:!0,message:"选择分支不能为空",trigger:"click"}]},signImg:"",signVisible:!1}},computed:Object(o["a"])({},Object(d["mapGetters"])(["userInfo"])),methods:{onOpen:function(){var e=this;this.signImg="",this.properties&&this.properties.hasSign&&(this.signImg=this.userInfo.signImg),Object(r["g"])(this.taskId,this.formData).then((function(t){var i=t.data;if(e.candidateType=i.type,e.candidateLoading=!1,e.branchList=[],1==i.type){e.branchList=t.data.list.filter((function(e){return e.isBranchFlow}));var a=t.data.list.filter((function(e){return!e.isBranchFlow&&e.isCandidates}));e.hasFreeApproverForm.candidateList=a.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{isDefault:!0,label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]})})),e.$nextTick((function(){e.$refs["hasFreeApproverForm"].resetFields()}))}else if(2==i.type){var n=t.data.list.filter((function(e){return e.isCandidates}));e.hasFreeApproverForm.candidateList=n.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]})})),e.$nextTick((function(){e.$refs["hasFreeApproverForm"].resetFields()}))}}))},onClose:function(){this.$emit("update:visible",!1)},close:function(e){this.$emit("update:visible",!1)},onBranchChange:function(e){var t=this.hasFreeApproverForm.candidateList.filter((function(e){return e.isDefault}));if(!e.length)return this.hasFreeApproverForm.candidateList=t;for(var i=[],a=0;a<e.length;a++)e:for(var n=0;n<this.branchList.length;n++){var r=this.branchList[n];if(e[a]===r.nodeId&&r.isCandidates){i.push(Object(o["a"])(Object(o["a"])({},r),{},{label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]}));break e}}this.hasFreeApproverForm.candidateList=[].concat(Object(s["a"])(t),i)},dataFormSubmit:function(){var e=this;this.$refs["hasFreeApproverForm"].validate((function(t){if(t){e.btnLoading=!0;var i={handleOpinion:e.hasFreeApproverForm.handleOpinion,fileList:e.hasFreeApproverForm.fileList,freeApproverType:e.hasFreeApproverForm.freeApproverType,freeApproverUserId:e.hasFreeApproverForm.freeApproverUserId,branchList:e.hasFreeApproverForm.branchList,formData:e.formData.formData};if(e.hasFreeApproverForm.candidateList.length){for(var a={},n=0;n<e.hasFreeApproverForm.candidateList.length;n++)a[e.hasFreeApproverForm.candidateList[n].nodeId]=e.hasFreeApproverForm.candidateList[n].value;i.candidateList=a}e.signImg&&(i.signImg=e.signImg),Object(r["j"])(e.taskId,i).then((function(t){e.$message({type:"success",message:t.msg,duration:1e3,onClose:function(){e.btnLoading=!1,e.$emit("close",!0)}})})).catch((function(){e.btnLoading=!1}))}}))},addSign:function(){var e=this;this.signVisible=!0,this.$nextTick((function(){e.$refs.SignImg.init()}))},signDialog:function(e){this.signVisible=!1,e&&(this.signImg=e)}}},f=u,p=(i("c1b6"),i("2877")),m=Object(p["a"])(f,a,n,!1,null,"12eac2b4",null);t["default"]=m.exports},"202b":function(e,t,i){},"226a":function(e,t,i){"use strict";i.r(t);i("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"JNPF-preview-main flow-form-main"},[t("div",{staticClass:"JNPF-common-page-header"},[e.setting.fromForm?t("div",[e._v(e._s(e.title))]):t("el-page-header",{on:{back:e.goBack}},[t("template",{slot:"content"},[t("div",{staticClass:"JNPF-page-header-content"},[e._v(e._s(e.title))])])],2),!e.loading||e.title?[t("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:"-1"==e.setting.opType,expression:"setting.opType=='-1'"}],attrs:{placement:"bottom",trigger:"click"},on:{command:e.handleFlowUrgent}},[t("div",{staticClass:"flow-urgent-value",staticStyle:{cursor:"pointer"}},[t("span",{staticClass:"color-box",style:{"background-color":e.flowUrgentList[e.selectState].color}}),t("span",{style:{color:e.flowUrgentList[e.selectState].color}},[e._v(" "+e._s(e.flowUrgentList[e.selectState].name))])]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.flowUrgentList,(function(i,a){return t("el-dropdown-item",{key:a,attrs:{command:i.state}},[t("span",{staticClass:"color-box",style:{"background-color":i.color}}),e._v(" "+e._s(i.name)+" ")])})),1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"-1"!==e.setting.opType,expression:"setting.opType!=='-1'"}],staticClass:"flow-urgent-value"},[t("span",{staticClass:"color-box",style:{"background-color":e.flowUrgentList[e.selectState].color}}),t("span",{style:{color:e.flowUrgentList[e.selectState].color}},[e._v(e._s(e.flowUrgentList[e.selectState].name))])])]:e._e(),e.subFlowVisible?e._e():t("div",{staticClass:"options"},[e.moreBtnList.length?t("el-dropdown",{staticClass:"dropdown",attrs:{placement:"bottom"},on:{command:e.handleMore}},[t("el-button",{staticStyle:{width:"70px"},attrs:{disabled:e.allBtnDisabled}},[e._v(" 更 多"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.moreBtnList,(function(i,a){return t("el-dropdown-item",{key:a,staticClass:"dropdown-item",attrs:{command:i.key}},[e._v(e._s(i.label))])})),1)],1):e._e(),"-1"==e.setting.opType?t("el-button",{attrs:{type:"primary",loading:e.candidateLoading,disabled:e.allBtnDisabled},on:{click:function(t){return e.eventLauncher("submit")}}},[e._v(" "+e._s(e.properties.submitBtnText||"提 交"))]):e._e(),1==e.setting.opType&&e.properties.hasAuditBtn?t("el-button",{attrs:{type:"primary",loading:e.candidateLoading},on:{click:function(t){return e.eventLauncher("audit")}}},[e._v(e._s(e.properties.auditBtnText||"通 过")+" ")]):e._e(),0!=e.setting.opType||1!=e.setting.status||!e.properties.hasPressBtn&&void 0!==e.properties.hasPressBtn?e._e():t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.press()}}},[e._v(" "+e._s(e.properties.pressBtnText||"催 办"))]),2==e.setting.opType&&e.properties.hasRevokeBtn?t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.actionLauncher("recall")}}},[e._v(e._s(e.properties.revokeBtnText||"撤 回"))]):e._e(),4!=e.setting.opType||1!=e.setting.status||e.noOperateAuth?e._e():t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.actionLauncher("cancel")}}},[e._v(" 终 止")]),e.setting.hideCancelBtn?e._e():t("el-button",{attrs:{disabled:e.allBtnDisabled},on:{click:function(t){return e.goBack()}}},[e._v(" "+e._s(e.$t("common.cancelButton"))+" ")])],1)],2),0!=e.setting.opType&&4!=e.setting.opType||"0"!==e.activeTab||e.subFlowVisible?e._e():t("div",{staticClass:"approve-result"},[t("div",{staticClass:"approve-result-img",class:e._f("flowStatus")(e.flowTaskInfo.status)})]),t("el-tabs",{staticClass:"JNPF-el_tabs",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},["4"==e.setting.opType||e.subFlowVisible?e._e():t("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"info-content",attrs:{label:"表单信息"}},[t("div",{staticClass:"info-left"},[e.subFlowVisible?[t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.activeClick},model:{value:e.subFlowTab,callback:function(t){e.subFlowTab=t},expression:"subFlowTab"}},e._l(e.subFlowInfoList,(function(e,i){return t("el-tab-pane",{key:i,attrs:{label:e.flowTaskInfo.fullName,name:e.flowTaskInfo.id}},[t("Process",{attrs:{conf:e.flowTemplateInfo.flowTemplateJson}})],1)})),1)]:[e.flowTemplateJson.nodeId?t("ProcessT",{attrs:{conf:e.flowTemplateJson,id:"Process"},on:{subFlow:e.subFlow}}):e._e()]],2),t("div",{staticClass:"info-right"},[t(e.currentView,{ref:"form",tag:"component",attrs:{config:e.setting},on:{close:e.goBack,eventReceiver:e.eventReceiver,setLoad:e.setLoad,setCandidateLoad:e.setCandidateLoad,setPageLoad:e.setPageLoad}})],1)]),t("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{label:"流程信息"}},[e.subFlowVisible?[t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.activeClick},model:{value:e.subFlowTab,callback:function(t){e.subFlowTab=t},expression:"subFlowTab"}},e._l(e.subFlowInfoList,(function(e,i){return t("el-tab-pane",{key:i,attrs:{label:e.flowTaskInfo.fullName,name:e.flowTaskInfo.id}},[t("Process",{attrs:{conf:e.flowTemplateInfo.flowTemplateJson}})],1)})),1)]:[e.flowTemplateJson.nodeId?t("Process",{attrs:{conf:e.flowTemplateJson,id:"Process"},on:{subFlow:e.subFlow}}):e._e()]],2),"-1"!=e.setting.opType?t("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{label:"流转记录"}},[t("recordList",{attrs:{list:e.flowTaskOperatorRecordList,endTime:e.endTime,flowId:e.setting.flowId,opType:e.setting.opType},on:{handelNodeLog:e.handelNodeLog}})],1):e._e(),"-1"!=e.setting.opType&&e.isSummary?t("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{label:"审批汇总",name:"recordSummary"}},[t("RecordSummary",{ref:"recordSummary",attrs:{id:e.setting.id,summaryType:e.summaryType}})],1):e._e(),"-1"!=e.setting.opType&&e.isComment?t("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{label:"流程评论",name:"comment"}},[t("Comment",{ref:"comment",attrs:{id:e.setting.id}})],1):e._e()],1),t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"audit"===e.eventType?"审批通过":"审批退回","close-on-click-modal":!1,visible:e.visible,"lock-scroll":"","append-to-body":"","before-close":e.beforeClose,width:"600px"},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"candidateForm",attrs:{model:e.candidateForm,"label-width":e.candidateForm.candidateList.length||e.branchList.length?"130px":"80px"}},["audit"===e.eventType?[e.branchList.length?t("el-form-item",{attrs:{label:"分支选择",prop:"branchList",rules:[{required:!0,message:"分支不能为空",trigger:"change"}]}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择审批分支",clearable:""},on:{change:e.onBranchChange},model:{value:e.candidateForm.branchList,callback:function(t){e.$set(e.candidateForm,"branchList",t)},expression:"candidateForm.branchList"}},e._l(e.branchList,(function(e){return t("el-option",{key:e.nodeId,attrs:{label:e.nodeName,value:e.nodeId}})})),1)],1):e._e(),e._l(e.candidateForm.candidateList,(function(i,a){return t("el-form-item",{key:a,attrs:{label:i.nodeName+i.label,prop:"candidateList."+a+".value",rules:i.rules}},[i.hasCandidates?t("candidate-user-select",{attrs:{multiple:"",placeholder:"请选择"+i.label,taskId:e.setting.taskId,formData:e.formData,nodeId:i.nodeId},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}}):t("JnpfUserSelect",{attrs:{multiple:"",placeholder:"请选择"+i.label,title:"候选人员"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})],1)}))]:e._e(),e.properties.rejectType&&"audit"!==e.eventType&&e.showReject?[t("el-form-item",{attrs:{label:"退回节点",prop:"rejectStep"}},[t("el-select",{attrs:{placeholder:"请选择退回节点",disabled:"2"!==e.properties.rejectStep},model:{value:e.candidateForm.rejectStep,callback:function(t){e.$set(e.candidateForm,"rejectStep",t)},expression:"candidateForm.rejectStep"}},e._l(e.rejectList,(function(e){return t("el-option",{key:e.nodeCode,attrs:{label:e.nodeName,value:e.nodeCode}})})),1)],1),3==e.properties.rejectType?[t("el-form-item",{attrs:{prop:"rejectRadio"}},[t("el-radio-group",{staticClass:"form-item-content",model:{value:e.candidateForm.rejectType,callback:function(t){e.$set(e.candidateForm,"rejectType",t)},expression:"candidateForm.rejectType"}},[t("el-radio",{attrs:{label:1}},[e._v("重新审批 "),t("el-tooltip",{attrs:{content:"若流程为A->B->C,C退回至A，则C->A->B->C",placement:"top"}},[t("i",{staticClass:"el-icon-question tooltip-question"})])],1),t("el-radio",{attrs:{label:2}},[e._v("直接提交给我 "),t("el-tooltip",{attrs:{content:"若流程为A->B->C,C退回至A，则C->A->C",placement:"top"}},[t("i",{staticClass:"el-icon-question tooltip-question"})])],1)],1)],1)]:e._e()]:e._e(),e.properties.hasOpinion?[t("el-form-item",{attrs:{label:"审批意见",prop:"handleOpinion"}},[t("el-input",{attrs:{placeholder:"请输入审批意见",type:"textarea",rows:4},model:{value:e.candidateForm.handleOpinion,callback:function(t){e.$set(e.candidateForm,"handleOpinion",t)},expression:"candidateForm.handleOpinion"}}),t("CommonWordsDialog",{ref:"commonWordsDialog",on:{change:e.common}})],1),t("el-form-item",{attrs:{label:"审批附件",prop:"fileList"}},[t("JnpfUploadFile",{attrs:{limit:3},model:{value:e.candidateForm.fileList,callback:function(t){e.$set(e.candidateForm,"fileList",t)},expression:"candidateForm.fileList"}})],1)]:e._e(),e.properties.hasSign?t("el-form-item",{attrs:{label:"手写签名",required:""}},[t("div",{staticClass:"sign-main"},[e.signImg?t("img",{staticClass:"sign-img",attrs:{src:e.signImg,alt:""}}):e._e(),t("div",{staticClass:"sign-style",on:{click:e.addSign}},[t("i",{staticClass:"icon-ym icon-ym-signature add-sign"}),e.signImg?e._e():t("span",{staticClass:"sign-title"},[e._v("手写签名")])])])]):e._e(),e.properties.isCustomCopy?t("el-form-item",{attrs:{label:"抄送人员"}},[t("JnpfUserSelect",{attrs:{placeholder:"请选择",multiple:""},model:{value:e.copyIds,callback:function(t){e.copyIds=t},expression:"copyIds"}})],1):e._e()],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.approvalBtnLoading},on:{click:function(t){return e.handleApproval()}}},[e._v(" "+e._s(e.$t("common.confirmButton"))+" ")])],1)],1),t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:100==e.flowTaskInfo.completion?"复活":"变更","close-on-click-modal":!1,visible:e.resurgenceVisible,"lock-scroll":"","append-to-body":"",width:"600px"},on:{"update:visible":function(t){e.resurgenceVisible=t}}},[t("el-form",{ref:"resurgenceForm",attrs:{"label-width":"80px",model:e.resurgenceForm,rules:e.resurgenceRules}},[t("el-form-item",{attrs:{label:100==e.flowTaskInfo.completion?"复活节点":"变更节点",prop:"taskNodeId"}},[t("el-select",{attrs:{placeholder:100==e.flowTaskInfo.completion?"请选择复活节点":"请选择变更节点"},model:{value:e.resurgenceForm.taskNodeId,callback:function(t){e.$set(e.resurgenceForm,"taskNodeId",t)},expression:"resurgenceForm.taskNodeId"}},e._l(e.resurgenceNodeList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.nodeName,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:100==e.flowTaskInfo.completion?"复活意见":"变更意见",prop:"handleOpinion"}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("el-input",{attrs:{type:"textarea",placeholder:"请填写意见",rows:4},model:{value:e.resurgenceForm.handleOpinion,callback:function(t){e.$set(e.resurgenceForm,"handleOpinion",t)},expression:"resurgenceForm.handleOpinion"}})],1)],1)],1),t("el-form-item",{attrs:{label:100==e.flowTaskInfo.completion?"复活附件":"变更附件",prop:"fileList"}},[t("JnpfUploadFile",{attrs:{limit:3},model:{value:e.resurgenceForm.fileList,callback:function(t){e.$set(e.resurgenceForm,"fileList",t)},expression:"resurgenceForm.fileList"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.resurgenceVisible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.resurgenceBtnLoading},on:{click:function(t){return e.handleResurgence()}}},[e._v(" "+e._s(e.$t("common.confirmButton"))+" ")])],1)],1),t("print-browse",{attrs:{visible:e.printBrowseVisible,id:e.printTemplateId,formId:e.setting.id,fullName:e.setting.fullName},on:{"update:visible":function(t){e.printBrowseVisible=t}}}),t("candidate-form",{attrs:{visible:e.candidateVisible,candidateList:e.candidateList,branchList:e.branchList,taskId:e.setting.taskId,formData:e.formData,isCustomCopy:e.properties.isCustomCopy},on:{"update:visible":function(t){e.candidateVisible=t},submitCandidate:e.submitCandidate}}),t("error-form",{attrs:{visible:e.errorVisible,nodeList:e.errorNodeList},on:{"update:visible":function(t){e.errorVisible=t},submit:e.handleError}}),e.actionVisible?t("actionDialog",{ref:"actionDialog",attrs:{assignNodeList:e.assignNodeList},on:{submit:e.actionReceiver}}):e._e(),e.suspendVisible?t("SuspendDialog",{ref:"suspendDialog",on:{submit:e.suspendReceiver}}):e._e(),t("HasFreeApprover",{attrs:{visible:e.hasFreeApproverVisible,taskId:e.setting.taskId,formData:e.formData,properties:e.properties},on:{"update:visible":function(t){e.hasFreeApproverVisible=t},close:e.approverDialog}}),e.signVisible?t("SignImgDialog",{ref:"SignImg",attrs:{lineWidth:3,userInfo:e.userInfo,isDefault:1},on:{close:e.signDialog}}):e._e(),e.flowBoxVisible?t("FlowBox",{ref:"FlowBox",on:{close:function(t){e.flowBoxVisible=!1}}}):e._e(),e.printDialogVisible?t("PrintDialog",{ref:"printDialog",on:{change:e.printBrowseHandle}}):e._e(),e.logVisible?t("EventLog",{ref:"EventLog",on:{close:function(t){e.logVisible=!1}}}):e._e()],1)},n=[],s=i("2909"),o=i("5530"),r=(i("caad"),i("c740"),i("14d9"),i("4de4"),i("d3b7"),i("ac1f"),i("5319"),i("159b"),i("d81d"),i("99af"),i("a15b"),i("f41a")),l=i("a84c"),c=i("19e4"),d=i("e200"),u=i("7361"),f=i("826a4"),p=i("ce76"),m=i("5130"),h=i("95ee"),g=i("a7bd"),b=i("4b16"),v=i("0287"),w=i("94ab"),y=i("63fe"),F=i("6637"),k=i("9e6f"),L=i("1dbd"),T=i("ad29"),I=i("4085"),_=i("5880"),C={name:"FlowBox",components:{PrintDialog:r["default"],SignImgDialog:l["default"],HasFreeApprover:L["default"],recordList:p["default"],Process:w["default"],ProcessT:y["default"],PrintBrowse:F["default"],Comment:m["default"],RecordSummary:h["default"],CandidateForm:g["default"],CandidateUserSelect:v["default"],ErrorForm:b["default"],ActionDialog:k["default"],SuspendDialog:T["default"],CommonWordsDialog:I["default"],EventLog:c["default"]},data:function(){return{printTemplateId:"",printDialogVisible:!1,subFlowTab:"",resurgenceVisible:!1,actionVisible:!1,resurgenceForm:{taskNodeId:"",handleOpinion:"",fileList:[]},resurgenceRules:{taskNodeId:[{required:!0,message:"请选择节点",trigger:"change"}]},logVisible:!1,previewVisible:!1,assignNodeList:[],resurgenceNodeList:[],currentView:"",previewTitle:"",formData:{},setting:{},monitorList:[{fullName:"1",flowName:"1",startTime:"1",userName:"1",thisStep:"1"},{fullName:"1",flowName:"1",startTime:"1",userName:"1",thisStep:"1"}],flowFormInfo:{},flowTemplateInfo:{},flowTaskInfo:{},flowTaskNodeList:[],flowTemplateJson:{},flowTaskOperatorRecordList:[],properties:{},endTime:0,suspendVisible:!1,visible:!1,handleId:"",activeTab:"0",isComment:!1,isSummary:!1,summaryType:0,loading:!1,btnLoading:!1,approvalBtnLoading:!1,resurgenceBtnLoading:!1,candidateLoading:!1,candidateVisible:!1,hasFreeApproverVisible:!1,signVisible:!1,candidateType:1,branchList:[],candidateList:[],candidateForm:{branchList:[],candidateList:[],fileList:[],handleOpinion:"",rejectStep:"",rejectType:1},printBrowseVisible:!1,rejectList:[],showReject:!1,eventType:"",signImg:"",copyIds:[],fullName:"",thisStep:"",allBtnDisabled:!1,flowUrgent:1,flowUrgentList:[{name:"普通",color:"#409EFF",state:1},{name:"重要",color:"#E6A23C",state:2},{name:"紧急",color:"#F56C6C",state:3}],errorVisible:!1,errorNodeList:[],isValidate:!1,moreBtnList:[],subFlowVisible:!1,flowBoxVisible:!1,subFlowInfoList:[],commonWordsVisible:!1,noOperateAuth:!0}},computed:Object(o["a"])({title:function(){return[2,3,4].includes(this.setting.opType)?this.fullName:this.thisStep?this.fullName+"/"+this.thisStep:this.fullName},selectState:function(){var e=this,t=this.flowUrgentList.findIndex((function(t){return e.flowUrgent===t.state}));return t}},Object(_["mapGetters"])(["userInfo"])),watch:{activeTab:function(e){"comment"===e?(this.$refs.comment&&this.$refs.comment.init(),this.moreBtnList.push({label:"评 论",key:"comment"})):this.moreBtnList=this.moreBtnList.filter((function(e){return"comment"!=e.key})),"recordSummary"===e&&this.$refs.recordSummary&&this.$refs.recordSummary.init()}},methods:{common:function(e){this.commonWordsVisible=!1,e&&(this.resurgenceVisible?this.resurgenceForm.handleOpinion+=e.commonWordsText:this.candidateForm.handleOpinion+=e.commonWordsText)},beforeClose:function(){this.visible=!1,this.$refs.commonWordsDialog.close()},addSign:function(){var e=this;this.signVisible=!0,this.$nextTick((function(){e.$refs.SignImg.init()}))},signDialog:function(e){this.signVisible=!1,e&&(this.signImg=e)},approverDialog:function(e){e&&this.$emit("close",!0)},handelNodeLog:function(e){var t=this;this.logVisible=!0,this.$nextTick((function(){t.$refs.EventLog.init(e.taskNodeId,e.nodeName)}))},activeClick:function(){var e=this,t=this.subFlowInfoList.filter((function(t){return t.flowTaskInfo.id==e.subFlowTab}))||[];if(t.length){this.fullName=t[0].flowTaskInfo.fullName,this.flowTaskOperatorRecordList=t[0].flowTaskOperatorRecordList||[];var i=t[0].flowTaskInfo.flowTemplateJson?JSON.parse(t[0].flowTaskInfo.flowTemplateJson):null;this.isComment=i.properties.isComment,this.isSummary=i.properties.isSummary,this.summaryType=i.properties.summaryType,this.flowUrgent=t[0].flowTaskInfo.flowUrgent||1,this.setting.id=t[0].flowTaskInfo.id}},subFlow:function(e){var t=this,i=this.flowTaskNodeList.filter((function(t){return t.nodeCode==e}));if(i.length&&i[0].type&&"subFlow"==i[0].nodeType){var a=Object(o["a"])(Object(o["a"])({subFlowVisible:!0},i),this.setting);document.getElementById("Process")&&(document.getElementById("Process").style.display="none"),this.flowBoxVisible=!0,this.$nextTick((function(){t.$refs.FlowBox.init(a)}))}},handleResurgence:function(e){var t=this;this.$refs["resurgenceForm"].validate((function(i){if(i){var a=Object(o["a"])(Object(o["a"])({},t.resurgenceForm),{},{taskId:t.setting.taskId,resurgence:100==t.flowTaskInfo.completion});e&&(a.errorRuleUserList=e),t.resurgenceBtnLoading=!0,Object(d["n"])(a).then((function(e){var i=e.data;i&&Array.isArray(i)&&i.length?(t.errorNodeList=i,t.eventType="resurgence",t.errorVisible=!0,t.resurgenceBtnLoading=!1):t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.resurgenceBtnLoading=!1,t.visible=!1,t.errorVisible=!1,t.$emit("close",!0)}})})).catch((function(){t.resurgenceBtnLoading=!1}))}}))},flowResurgence:function(){var e=this;this.resurgenceVisible=!0,Object(d["o"])(this.setting.taskId).then((function(t){e.resurgenceNodeList=t.data}))},goBack:function(e){this.subFlowVisible&&(document.getElementById("Process").style.display="block"),this.$emit("close",e)},init:function(e){this.loading=!0,this.activeTab="0",this.setting=e,e.subFlowVisible?this.subFlowInfo(e):this.getBeforeInfo(e)},getBeforeInfo:function(e){var t=this;Object(d["h"])(e.id||0,{taskNodeId:e.taskNodeId,taskOperatorId:e.taskId,flowId:e.flowId}).then((function(a){t.flowFormInfo=a.data.flowFormInfo,t.flowTaskInfo=a.data.flowTaskInfo||{},t.flowTemplateInfo=a.data.flowTemplateInfo,t.noOperateAuth=a.data.noOperateAuth||!1;var n="-1"==e.opType?t.flowTemplateInfo.fullName:t.flowTaskInfo.fullName;e.fullName=n,t.fullName=n,t.thisStep=t.flowTaskInfo.thisStep,t.flowUrgent=t.flowTaskInfo.flowUrgent||1,e.type=t.flowTemplateInfo.type,e.draftData=a.data.draftData||null,e.formData=a.data.formData||{},e.formEnCode=t.flowFormInfo.enCode;var s=2==t.flowFormInfo.formType?"workFlow/workFlowForm/dynamicForm":t.flowFormInfo.urlAddress?t.flowFormInfo.urlAddress.replace(/\s*/g,""):"workFlow/workFlowForm/".concat(t.flowFormInfo.enCode);if(t.currentView=function(e){return Promise.all([i.e(4),i.e(5),i.e(3),i.e(0),i.e(8)]).then(function(){var t=[i("4b3b")("./".concat(s))];e.apply(null,t)}.bind(this)).catch(i.oe)},t.flowTaskNodeList=a.data.flowTaskNodeList||[],t.flowTemplateJson=t.flowTemplateInfo.flowTemplateJson?JSON.parse(t.flowTemplateInfo.flowTemplateJson):null,t.isComment=t.flowTemplateJson.properties.isComment,t.isSummary=t.flowTemplateJson.properties.isSummary,t.summaryType=t.flowTemplateJson.properties.summaryType,t.flowTaskOperatorRecordList=a.data.flowTaskOperatorRecordList||[],t.flowTaskOperatorRecordList=t.flowTaskOperatorRecordList.reverse(),t.properties=a.data.approversProperties||{},t.candidateForm.rejectType=3==t.properties.rejectType?1:t.properties.rejectType,t.endTime=100==t.flowTaskInfo.completion?t.flowTaskInfo.endTime:0,e.formConf=t.flowFormInfo.propertyJson,1!=e.opType&&"-1"!=e.opType&&(e.readonly=!0),e.formOperates=a.data.formOperates||[],0==e.opType)for(var o=0;o<e.formOperates.length;o++)e.formOperates[o].write=!1;if(e.flowTemplateJson=t.flowTemplateJson,t.flowTaskNodeList.length){for(var r=[],l=function(i){var a=t.flowTaskNodeList[i];4==e.opType&&1==a.type&&"approver"===a.nodeType&&r.push(a);var n=function e(t){if(Array.isArray(t)&&t.forEach((function(t){return e(t)})),t.nodeId===a.nodeCode)return 0==a.type&&(t.state="state-past"),1==a.type&&(t.state="state-curr"),void("approver"!==a.nodeType&&"start"!==a.nodeType&&"subFlow"!==a.nodeType||(t.content=a.userName));t.conditionNodes&&Array.isArray(t.conditionNodes)&&e(t.conditionNodes),t.childNode&&e(t.childNode)};n(t.flowTemplateJson)},c=0;c<t.flowTaskNodeList.length;c++)l(c);t.assignNodeList=r}else t.flowTemplateJson.state="state-curr";t.setting=e,t.initBtnList()})).catch((function(){t.loading=!1}))},initBtnList:function(){var e=[],t=this.setting,i=this.setting.opType,a=this.properties,n=this.flowTaskInfo;if("-1"!=i||t.hideCancelBtn||e.push({label:a.saveBtnText||"暂 存",key:"save"}),0!=i||1!=t.status||!a.hasRevokeBtn&&void 0!==a.hasRevokeBtn||e.push({label:a.revokeBtnText||"撤 回",key:"revoke"}),4!=i&&t.id&&a.hasPrintBtn&&a.printId&&e.push({label:a.printBtnText||"打 印",key:"print"}),1==i&&(a.hasTransferBtn&&e.push({label:a.transferBtnText||"转 审",key:"transfer"}),a.hasSaveBtn&&e.push({label:a.saveBtnText||"暂 存",key:"saveAudit"}),a.hasRejectBtn&&e.push({label:a.rejectBtnText||"退 回",key:"reject"}),a.hasFreeApproverBtn&&e.push({label:a.hasFreeApproverBtnText||"加 签",key:"hasFreeApprover"})),4==i){if(this.noOperateAuth)return state.moreBtnList=[];100==n.completion&&e.push({label:"复 活",key:"resurgence"}),n.completion>0&&n.completion<100&&!n.rejectDataId&&(1==t.status||3==t.status)&&e.push({label:"变 更",key:"resurgence"}),1==t.status&&this.assignNodeList.length&&e.push({label:"指 派",key:"assign"}),1==n.status&&e.push({label:"挂 起",key:"suspend"}),6!=n.status||n.suspend||e.push({label:"恢 复",key:"recovery"})}this.moreBtnList=e},subFlowInfo:function(e){var t=this;this.loading=!1,this.activeTab="0",this.subFlowVisible=!0,Object(d["y"])(e[0].id).then((function(i){t.subFlowInfoList=i.data||[],t.subFlowTab=t.subFlowInfoList[0].flowTaskInfo.id,t.flowUrgent=t.subFlowInfoList[0].flowTaskInfo.flowUrgent||1,t.fullName=t.subFlowInfoList[0].flowTaskInfo.fullName,t.flowTaskOperatorRecordList=t.subFlowInfoList[0].flowTaskOperatorRecordList||[],t.flowTaskOperatorRecordList=t.flowTaskOperatorRecordList.reverse();for(var a=0;a<t.subFlowInfoList.length;a++){var n=t.subFlowInfoList[a];if(n.flowTemplateInfo.flowTemplateJson=n.flowTemplateInfo?JSON.parse(n.flowTemplateInfo.flowTemplateJson):{},n.flowTaskNodeList.length){for(var s=[],o=function(t){var i=n.flowTaskNodeList[t];4==e.opType&&1==i.type&&"approver"===i.nodeType&&s.push(i);var a=function e(t){if(Array.isArray(t)&&t.forEach((function(t){return e(t)})),t.nodeId===i.nodeCode)return 0==i.type&&(t.state="state-past"),1==i.type&&(t.state="state-curr"),void("approver"!==i.nodeType&&"start"!==i.nodeType&&"subFlow"!==i.nodeType||(t.content=i.userName));t.conditionNodes&&Array.isArray(t.conditionNodes)&&e(t.conditionNodes),t.childNode&&e(t.childNode)};a(n.flowTemplateInfo.flowTemplateJson)},r=0;r<n.flowTaskNodeList.length;r++)o(r);n.assignNodeList=s}else n.flowTemplateInfo.flowTemplateJson.state="state-curr";var l=t.subFlowInfoList[0].flowTaskInfo.flowTemplateJson?JSON.parse(t.subFlowInfoList[0].flowTaskInfo.flowTemplateJson):null;t.isComment=l.properties.isComment,t.isSummary=l.properties.isSummary,t.summaryType=l.properties.summaryType,t.setting.id=t.subFlowInfoList[0].flowTaskInfo.id}})).catch((function(){t.loading=!1}))},printBrowseHandle:function(e){this.printTemplateId=e,this.printDialogVisible=!1,this.printBrowseVisible=!0},printDialog:function(){var e=this;this.printDialogVisible=!0,this.$nextTick((function(){e.$refs.printDialog.init(e.properties.printId)}))},handleMore:function(e){return"revoke"==e?this.actionLauncher("revoke"):"transfer"==e?this.actionLauncher("transfer"):"saveAudit"==e?this.eventLauncher("saveAudit"):"reject"==e?this.eventReceiver({},"reject"):"resurgence"==e?this.flowResurgence():"assign"==e?this.actionLauncher("assign"):"comment"==e?this.addComment():"print"==e?this.printDialog():"suspend"==e?this.suspend():"recovery"==e?this.recovery():void this.eventLauncher(e)},suspend:function(){var e=this;this.suspendVisible=!0,this.$nextTick((function(){e.$refs.suspendDialog.init(e.setting.id)}))},recovery:function(){var e=this,t={handleOpinion:"",fileList:[]};Object(d["x"])(this.setting.id,t).then((function(t){e.$message({message:t.msg,type:"success",duration:1500,onClose:function(){e.$emit("close",!0)}})})).catch((function(){e.$refs.suspendDialog.btnLoading=!1}))},suspendReceiver:function(e){var t=this;Object(d["z"])(this.setting.id,e).then((function(e){t.$message({message:e.msg,type:"success",duration:1500,onClose:function(){t.$emit("close",!0)}})}))},eventLauncher:function(e){this.$refs.form&&this.$refs.form.dataFormSubmit(e,this.flowUrgent)},eventReceiver:function(e,t){var i=this;if(this.formData=e,this.formData.flowId=this.setting.flowId,this.formData.id=this.setting.id,this.eventType=t,"save"===t||"submit"===t)return this.submitOrSave();if("saveAudit"===t)return this.saveAudit();if("hasFreeApprover"===t)return this.hasFreeApproverVisible=!0;if("audit"===t||"reject"===t){if(this.handleId="",this.candidateForm.handleOpinion="",this.candidateForm.fileList=[],this.copyIds=[],this.isValidate=!1,this.properties.hasSign&&(this.signImg=this.userInfo.signImg),"reject"===t)return void Object(d["m"])(this.setting.taskId).then((function(e){i.showReject=e.data.isLastAppro,i.rejectList=e.data.list||[],i.candidateForm.rejectStep=i.rejectList.length&&i.rejectList[0].nodeCode||"",i.properties.hasSign||i.properties.hasOpinion||i.properties.isCustomCopy||i.showReject?(i.isValidate=!0,i.visible=!0):i.$confirm("此操作将退回该审批单，是否继续？","提示",{type:"warning"}).then((function(){i.handleApproval()})).catch((function(){}))})).catch({});this.candidateLoading=!0,Object(d["g"])(this.setting.taskId,this.formData).then((function(e){var t=e.data;if(i.candidateType=t.type,i.candidateLoading=!1,i.candidateForm.branchList=[],i.branchList=[],1==t.type){i.branchList=e.data.list.filter((function(e){return e.isBranchFlow}));var a=e.data.list.filter((function(e){return!e.isBranchFlow&&e.isCandidates}));i.candidateForm.candidateList=a.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{isDefault:!0,label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]})})),i.$nextTick((function(){i.$refs["candidateForm"].resetFields()})),i.isValidate=!0,i.visible=!0}else if(2==t.type){var n=e.data.list.filter((function(e){return e.isCandidates}));i.candidateForm.candidateList=n.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]})})),i.$nextTick((function(){i.$refs["candidateForm"].resetFields()})),i.isValidate=!0,i.visible=!0}else{if(i.candidateForm.candidateList=[],!i.properties.hasSign&&!i.properties.hasOpinion&&!i.properties.hasFreeApprover&&!i.properties.isCustomCopy)return void i.$confirm("此操作将通过该审批单，是否继续？","提示",{type:"warning"}).then((function(){i.handleApproval()})).catch((function(){}));i.isValidate=!0,i.visible=!0}})).catch((function(){i.candidateLoading=!1}))}},onBranchChange:function(e){var t=this.candidateForm.candidateList.filter((function(e){return e.isDefault}));if(!e.length)return this.candidateForm.candidateList=t;for(var i=[],a=0;a<e.length;a++)e:for(var n=0;n<this.branchList.length;n++){var r=this.branchList[n];if(e[a]===r.nodeId&&r.isCandidates){i.push(Object(o["a"])(Object(o["a"])({},r),{},{label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]}));break e}}this.candidateForm.candidateList=[].concat(Object(s["a"])(t),i)},saveAudit:function(){var e=this;this.btnLoading=!0,Object(d["p"])(this.setting.taskId,this.formData).then((function(t){e.$message({message:t.msg,type:"success",duration:1500,onClose:function(){e.btnLoading=!1,e.$emit("close",!0)}})})).catch((function(){e.btnLoading=!1}))},submitOrSave:function(){var e=this;if(this.formData.status="submit"===this.eventType?0:1,this.formData.flowUrgent=this.flowUrgent,this.setting.delegateUserList&&(this.formData.delegateUserList=this.setting.delegateUserList),"save"===this.eventType)return this.handleRequest();this.candidateLoading=!0,Object(d["g"])(0,this.formData).then((function(t){var i=t.data;if(e.candidateLoading=!1,e.candidateType=i.type,1==i.type)e.branchList=t.data.list.filter((function(e){return e.isBranchFlow})),e.candidateList=t.data.list.filter((function(e){return!e.isBranchFlow&&e.isCandidates})),e.candidateVisible=!0;else if(2==i.type)e.branchList=[],e.candidateList=t.data.list.filter((function(e){return e.isCandidates})),e.candidateVisible=!0;else{if(e.properties.isCustomCopy)return e.branchList=[],e.candidateList=[],void(e.candidateVisible=!0);e.$confirm("您确定要提交当前流程吗, 是否继续?","提示",{type:"warning"}).then((function(){e.handleRequest()})).catch((function(){}))}})).catch((function(){e.candidateLoading=!1}))},handleRequest:function(e){var t=this;e&&(this.formData=Object(o["a"])(Object(o["a"])({},this.formData),e)),this.formData.candidateType=this.candidateType,this.formData.id||delete this.formData.id,"save"===this.eventType&&(this.btnLoading=!0),this.allBtnDisabled=!0;var i=this.formData.id?f["c"]:f["a"];i(this.formData).then((function(e){var i=e.data;i&&Array.isArray(i)&&i.length?(t.errorNodeList=i,t.errorVisible=!0,t.allBtnDisabled=!1):t.$message({message:e.msg,type:"success",duration:1500,onClose:function(){"save"===t.eventType&&(t.btnLoading=!1),t.candidateVisible=!1,t.allBtnDisabled=!1,t.errorVisible=!1,t.$emit("close",!0)}})})).catch((function(){"save"===t.eventType&&(t.btnLoading=!1),t.allBtnDisabled=!1,t.errorVisible=!1}))},submitCandidate:function(e){this.handleRequest(e)},actionLauncher:function(e){var t=this;if(this.eventType=e,"revoke"!==e&&"recall"!==e||this.properties.hasOpinion||this.properties.hasSign)this.showActionDialog();else{var i="revoke"==this.eventType?"此操作将撤回该流程，是否继续？":"此操作将撤回该审批单，是否继续？";this.$confirm(i,"提示",{type:"warning"}).then((function(){t.actionReceiver()})).catch((function(){}))}},showActionDialog:function(){var e=this;this.actionVisible=!0,this.$nextTick((function(){e.$refs.actionDialog.init(e.properties,e.eventType)}))},actionReceiver:function(e){var t=this;e||(e={handleOpinion:"",signImg:"",fileList:[]});var i="revoke"==this.eventType?this.setting.id:this.setting.taskId,a=this.getActionMethod();this.approvalBtnLoading=!0,a(i,e).then((function(e){t.approvalBtnLoading=!1,t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.$emit("close",!0)}})})).catch((function(){t.$refs.actionDialog.btnLoading=!1,t.approvalBtnLoading=!1}))},getActionMethod:function(){return"transfer"===this.eventType?d["q"]:"assign"===this.eventType?d["a"]:"revoke"===this.eventType?u["d"]:"recall"===this.eventType?d["k"]:"cancel"===this.eventType?d["e"]:void 0},press:function(){var e=this;this.$confirm("此操作将提示该节点尽快处理，是否继续?","提示",{type:"warning"}).then((function(){Object(u["c"])(e.setting.id).then((function(t){e.$message({type:"success",message:t.msg,duration:1e3})}))})).catch((function(){}))},handleError:function(e){if("submit"===this.eventType)return this.formData.errorRuleUserList=e,void this.handleRequest();"audit"!==this.eventType&&"reject"!==this.eventType?"resurgence"!==this.eventType||this.handleResurgence(e):this.handleApproval(e)},handleApproval:function(e){var t=this,i=function(){if(!t.properties.hasSign||t.signImg){var i=Object(o["a"])(Object(o["a"])({handleOpinion:t.candidateForm.handleOpinion,fileList:t.candidateForm.fileList},t.formData),{},{enCode:t.setting.enCode,signImg:t.signImg,copyIds:t.copyIds.join(","),branchList:t.candidateForm.branchList,candidateType:t.candidateType,rejectType:t.candidateForm.rejectType});if("reject"===t.eventType&&(i.rejectStep=t.candidateForm.rejectStep),e&&(i.errorRuleUserList=e),t.candidateForm.candidateList.length){for(var a={},n=0;n<t.candidateForm.candidateList.length;n++)a[t.candidateForm.candidateList[n].nodeId]=t.candidateForm.candidateList[n].value;i.candidateList=a}"audit"===t.eventType&&t.properties.hasFreeApprover&&(i=Object(o["a"])({freeApproverUserId:t.handleId},i));var s="audit"===t.eventType?d["b"]:d["l"];t.approvalBtnLoading=!0,s(t.setting.taskId,i).then((function(e){var i=e.data;i&&Array.isArray(i)&&i.length?(t.errorNodeList=i,t.errorVisible=!0,t.approvalBtnLoading=!1):t.$message({type:"success",message:e.msg,duration:1e3,onClose:function(){t.approvalBtnLoading=!1,t.visible=!1,t.errorVisible=!1,t.$emit("close",!0)}})})).catch((function(){t.approvalBtnLoading=!1}))}else t.$message({message:"请签名",type:"error"})};if(!this.isValidate)return i();this.$refs["candidateForm"].validate((function(e){e&&i()}))},addComment:function(){this.$refs.comment&&this.$refs.comment.showCommentDialog()},setPageLoad:function(e){this.loading=!!e},setCandidateLoad:function(e){this.candidateLoading=!!e,this.allBtnDisabled=!!e},setLoad:function(e){this.btnLoading=!!e},handleFlowUrgent:function(e){this.flowUrgent=e}}},O=C,x=(i("b2ac"),i("2877")),$=Object(x["a"])(O,a,n,!1,null,"11fa54b9",null);t["default"]=$.exports},"27ed":function(e,t,i){},"29cc":function(e,t,i){"use strict";i("27ed")},3361:function(e,t,i){},"33a8":function(e,t,i){},"3f6a":function(e,t,i){"use strict";i("e109")},4085:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("el-popover",{ref:"popover",staticClass:"popover-container",attrs:{placement:"bottom-start",width:"500",trigger:"manual"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t("JNPF-table",{staticClass:"table",attrs:{data:e.list,border:!1,hasNO:!1,"show-header":!1},on:{"row-click":e.rowClick}},[t("el-table-column",{attrs:{label:"字段",prop:"commonWordsText",align:"left"}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.commonWordsType?t("el-button",{staticClass:"outline",attrs:{type:"text",icon:"el-icon-edit-outline"},on:{click:function(t){return e.addOrUpdateHandle(i.row.id)}}}):e._e(),i.row.commonWordsType?t("el-button",{staticClass:"JNPF-table-delBtn outline",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.handleDel(i.row.id)}}}):e._e()]}}])})],1),t("div",{staticClass:"actions"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOrUpdateHandle()}}},[e._v(" 新 增 ")])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.select()}}},[e._v(" "+e._s(e.$t("common.confirmButton"))+" ")])],1),t("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-plus"},on:{click:e.openDialog},slot:"reference"},[e._v("常用语")])],1),t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:this.dataForm.id?"编辑审批常用语":"新增审批常用语","close-on-click-modal":!1,width:"600px",visible:e.commonWordsVisible,"lock-scroll":"","append-to-body":""},on:{"update:visible":function(t){e.commonWordsVisible=t},close:function(t){return e.cancel()}}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"常用语",prop:"commonWordsText"}},[t("el-input",{attrs:{placeholder:"输入常用语"},model:{value:e.dataForm.commonWordsText,callback:function(t){e.$set(e.dataForm,"commonWordsText",t)},expression:"dataForm.commonWordsText"}})],1),t("el-form-item",{attrs:{label:"排序",prop:"sortCode"}},[t("el-input-number",{attrs:{min:0,max:999999,"controls-position":"right"},model:{value:e.dataForm.sortCode,callback:function(t){e.$set(e.dataForm,"sortCode",t)},expression:"dataForm.sortCode"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.cancel()}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.dataFormBtnLoading,disabled:e.commonBtnLoading},on:{click:function(t){return e.dataFormSubmit(1)}}},[e._v(" "+e._s(e.$t("common.confirmButton")))]),this.dataForm.id?e._e():t("el-button",{attrs:{type:"primary",loading:e.commonBtnLoading,disabled:e.dataFormBtnLoading},on:{click:function(t){return e.dataFormSubmit(2)}}},[e._v(" 保存并新增 ")])],1)],1)],1)},n=[],s=i("d342"),o={components:{},props:{},data:function(){return{visible:!1,eventType:"",dataForm:{systemNames:[],systemIds:[],commonWordsText:"",commonWordsType:1,sortCode:"",enabledMark:1},dataRule:{commonWordsText:[{required:!0,message:"请输入常用语",trigger:"blur"}]},list:[],listQuery:{keyword:"",currentPage:1,pageSize:20},checked:"",checkedRow:{},signVisible:!1,signImg:"",btnLoading:!1,title:"",label:"",commonWordsVisible:!1,commonBtnLoading:!1,formLoading:!1,dataFormBtnLoading:!1,state:!1}},computed:{},methods:{close:function(){this.visible=!1},openDialog:function(){this.state=!1,this.visible=!0,this.initData()},addOrUpdateHandle:function(e){var t=this;e&&(this.state=!0),this.commonWordsVisible=!0,this.formLoading=!0,this.dataForm.id=e||0,this.$nextTick((function(){t.$refs["dataForm"].resetFields(),t.dataForm.id&&Object(s["e"])(t.dataForm.id).then((function(e){t.dataForm=e.data||{},t.formLoading=!1})),t.formLoading=!1}))},select:function(){this.state||(this.$emit("input",this.checked),this.$emit("change",this.checkedRow),this.visible=!1)},initData:function(){var e=this;Object(s["f"])().then((function(t){e.list=t.data.list||[],e.listLoading=!1})).catch((function(){e.listLoading=!1}))},cancel:function(){this.commonWordsVisible=!1,this.checked="",this.checkedRow={},this.openDialog()},clear:function(){this.checked="",this.checkedRow={},this.$emit("input",this.checked),this.$emit("change",this.checked,this.checkedRow)},closeDialog:function(){this.btnLoading=!1,this.visible=!1},rowClick:function(e){console.log(222),this.checked=e.id,this.checkedRow=e,this.select()},handleDel:function(e){var t=this;this.state=!0,this.$confirm(this.$t("common.delTip"),this.$t("common.tipTitle"),{type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,i,a){"confirm"===e?(i.confirmButtonLoading=!0,setTimeout((function(){i.confirmButtonLoading=!1,a()}),1e3)):(t.state=!1,a())}}).then((function(){Object(s["c"])(e).then((function(e){t.$message({type:"success",message:e.msg,duration:1500,onClose:function(){t.checked="",t.checkedRow={},t.openDialog()}})}))})).catch((function(){}))},dataFormSubmit:function(e){var t=this;this.$refs["dataForm"].validate((function(i){if(i){2==e?t.continueBtnLoading=!0:t.dataFormBtnLoading=!0;var a=t.dataForm.id?s["b"]:s["a"];a(t.dataForm).then((function(i){2==e?(t.$message({message:i.msg,type:"success",duration:1500}),t.$nextTick((function(){t.continueBtnLoading=!1,t.$refs["dataForm"].resetFields()}))):t.$message({message:i.msg,type:"success",duration:1500,onClose:function(){t.commonWordsVisible=!1,t.commonBtnLoading=!1,t.dataFormBtnLoading=!1,t.state=!1,t.checked="",t.checkedRow={},t.openDialog()}})})).catch((function(){t.btnLoading=!1,t.commonWordsVisible=!1}))}}))}}},r=o,l=(i("29cc"),i("2877")),c=Object(l["a"])(r,a,n,!1,null,"27e093bf",null);t["default"]=c.exports},"4b16":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",e._g(e._b({staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"异常处理","close-on-click-modal":!1,"lock-scroll":"","append-to-body":"",width:"600px","modal-append-to-body":!1},on:{open:e.onOpen}},"el-dialog",e.$attrs,!1),e.$listeners),[t("el-form",{ref:"dataForm",attrs:{"label-width":"100px",model:e.dataForm}},e._l(e.dataForm.nodeList,(function(i,a){return t("el-form-item",{key:a,attrs:{label:i.nodeName,prop:"nodeList."+a+".value",rules:i.rules}},[t("JnpfUserSelect",{attrs:{multiple:"",placeholder:"请选择异常处理人员"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})],1)})),1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(e._s(e.$t("common.confirmButton"))+" ")])],1)],1)},n=[],s=i("5530"),o=(i("d81d"),{props:["nodeList"],data:function(){return{dataForm:{nodeList:[]}}},methods:{onOpen:function(){var e=this;this.dataForm.nodeList=this.nodeList.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{value:[],rules:[{required:!0,message:"异常处理人员不能为空",trigger:"click"}]})})),this.$nextTick((function(){e.$refs["dataForm"].resetFields()}))},submit:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){for(var i={},a=0;a<e.dataForm.nodeList.length;a++)i[e.dataForm.nodeList[a].nodeId]=e.dataForm.nodeList[a].value;e.$emit("submit",i)}}))},closeDialog:function(){this.$emit("update:visible",!1)}}}),r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,null,null);t["default"]=c.exports},5130:function(e,t,i){"use strict";i.r(t);i("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"comment-container"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading&&1==e.listQuery.currentPage,expression:"listLoading && listQuery.currentPage==1"}],ref:"infiniteBody",staticClass:"comment-list"},[e.list.length?e._l(e.list,(function(i,a){return t("div",{key:a,staticClass:"item"},[t("div",{staticClass:"head"},[t("el-avatar",{staticClass:"avatar",attrs:{size:40,src:e.define.comUrl+i.creatorUserHeadIcon}}),t("p",{staticClass:"username"},[e._v(e._s(i.creatorUser))]),i.isDel?t("el-link",{staticClass:"del-btn",attrs:{underline:!1,type:"danger"},on:{click:function(t){return e.delComment(i.id,a)}}},[e._v("删除")]):e._e(),t("span",{staticClass:"time"},[e._v(e._s(e._f("toDate")(i.creatorTime)))])],1),t("div",{staticClass:"content"},[t("p",{staticClass:"text"},[e._v(e._s(i.text))]),i.imageList.length?t("div",{staticClass:"img-list"},e._l(i.imageList,(function(a,n){return t("el-image",{key:n,staticClass:"img-item",attrs:{src:e.define.comUrl+a.url,"preview-src-list":e.getImgList(i.imageList),"z-index":1e4}})})),1):e._e(),i.fileList.length?t("div",{staticClass:"file-List"},[t("JnpfUploadFile",{attrs:{detailed:"",disabled:""},model:{value:i.fileList,callback:function(t){e.$set(i,"fileList",t)},expression:"item.fileList"}})],1):e._e()])])})):t("el-empty",{attrs:{description:"暂无数据","image-size":120}})],2),t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"流程评论",visible:e.dialogVisible,"close-on-click-modal":!1,"lock-scroll":"","append-to-body":"",width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"0"}},[t("el-form-item",{attrs:{prop:"text"}},[t("el-input",{attrs:{placeholder:"请输入评论",type:"textarea",rows:4},model:{value:e.dataForm.text,callback:function(t){e.$set(e.dataForm,"text",t)},expression:"dataForm.text"}})],1),t("el-form-item",[t("el-upload",{ref:"elUploadImg",staticClass:"upload-btn",attrs:{action:e.define.comUploadUrl+"/annexpic",headers:e.uploadHeaders,"on-success":e.handleImgSuccess,multiple:"","show-file-list":!1,accept:"image/*","before-upload":e.beforeImgUpload,"on-exceed":e.handleImgExceed,limit:9}},[t("el-button",{attrs:{size:"small",icon:"el-icon-picture"}},[e._v("图片")])],1),t("el-button",{attrs:{size:"small",icon:"el-icon-upload"},on:{click:e.uploadFile}},[e._v("附件")])],1),e.dataForm.image.length?t("el-form-item",{attrs:{prop:"image"}},[t("div",{staticClass:"img-list"},e._l(e.dataForm.image,(function(i,a){return t("div",{key:a,staticClass:"img-item"},[t("el-image",{attrs:{src:e.define.comUrl+i.url,"preview-src-list":e.getImgList(e.dataForm.image),"z-index":100}}),t("div",{staticClass:"badge",on:{click:function(t){return t.stopPropagation(),e.handleImgRemove(a)}}},[t("i",{staticClass:"el-icon-close"})])],1)})),0)]):e._e(),t("el-form-item",{attrs:{prop:"file"}},[t("ul",{staticClass:"el-upload-list el-upload-list el-upload-list--text"},e._l(e.dataForm.file,(function(i,a){return t("li",{key:i.fileId,staticClass:"el-upload-list__item is-success"},[t("a",{staticClass:"el-upload-list__item-name"},[t("i",{staticClass:"el-icon-paperclip"}),e._v(" "+e._s(i.name)+e._s(i.fileSize?"（".concat(e.jnpf.toFileSize(i.fileSize),"）"):"")+" ")]),t("i",{staticClass:"el-icon-view",attrs:{title:"查看"},on:{click:function(t){return e.handleFilePreview(i)}}}),t("i",{staticClass:"el-icon-download",attrs:{title:"下载"},on:{click:function(t){return e.handleFileClick(i)}}}),t("label",{staticClass:"el-upload-list__item-status-label"},[t("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})]),t("i",{staticClass:"el-icon-close",attrs:{title:"删除"},on:{click:function(t){return e.handleFileRemove(a)}}})])})),0),t("fileUploader",{ref:"fileUploader",attrs:{limit:2,fileSize:50,type:"annex",accept:e.fileAccept},on:{fileSuccess:e.fileSuccess}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(e._s(e.$t("common.cancelButton"))+" ")]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.addComment()}}},[e._v(" "+e._s(e.$t("common.confirmButton")))])],1)],1),t("Preview",{attrs:{visible:e.previewVisible,file:e.activeFile},on:{"update:visible":function(t){e.previewVisible=t}}})],1)},n=[],s=i("2909"),o=i("5530"),r=(i("d81d"),i("99af"),i("e9c4"),i("a434"),i("ac1f"),i("00b4"),i("4d63"),i("c607"),i("2c3e"),i("25f0"),i("14d9"),i("4de4"),i("d3b7"),i("5451")),l=i("2934"),c=i("b285"),d=i("95d2"),u={name:"comments",components:{Preview:c["default"],FileUploader:d["default"]},props:{id:{type:String,default:""}},data:function(){return{list:[],listQuery:{currentPage:1,pageSize:20,sort:"desc",sidx:""},total:0,listLoading:!1,btnLoading:!1,dataRule:{},dataForm:{text:"",file:[],image:[]},dialogVisible:!1,finish:!1,uploadHeaders:{Authorization:this.$store.getters.token},imgUploading:!1,previewVisible:!1,fileAccept:".xls,.xlsx,.doc,.docx,.pdf,.txt,.ppt,.pptx",activeFile:{}}},methods:{init:function(){var e=this;this.list=[],this.listQuery={currentPage:1,pageSize:20,sort:"desc",sidx:""},this.finish=!1,this.initData(),this.$nextTick((function(){e.bindScroll()}))},bindScroll:function(){var e=this,t=e.$refs.infiniteBody;t.addEventListener("scroll",(function(){t.scrollHeight-t.clientHeight-t.scrollTop<=600&&!e.listLoading&&!e.finish&&(e.listQuery.currentPage+=1,e.initData())}))},initData:function(){var e=this;this.listLoading=!0;var t=Object(o["a"])(Object(o["a"])({},this.listQuery),{},{taskId:this.id});Object(r["s"])(t).then((function(t){var i=t.data.list.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{fileList:e.file?JSON.parse(e.file):[],imageList:e.image?JSON.parse(e.image):[]})}));t.data.list.length<e.listQuery.pageSize&&(e.finish=!0),e.list=[].concat(Object(s["a"])(e.list),Object(s["a"])(i)),e.total=t.data.pagination.total,e.listLoading=!1})).catch((function(){e.listLoading=!1}))},showCommentDialog:function(){var e=this;this.dialogVisible=!0,this.dataForm.image=[],this.dataForm.file=[],this.$nextTick((function(){e.$refs.elUploadImg.uploadFiles=[],e.$refs["dataForm"].resetFields()}))},getImgList:function(e){var t=this,i=e.map((function(e){return t.define.comUrl+e.url}));return i},addComment:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){e.btnLoading=!0;var i={text:e.dataForm.text,file:JSON.stringify(e.dataForm.file),image:JSON.stringify(e.dataForm.image),taskId:e.id};Object(r["n"])(i).then((function(t){e.$message({message:t.msg,type:"success",duration:1500,onClose:function(){e.dialogVisible=!1,e.btnLoading=!1,e.init()}})})).catch((function(){e.btnLoading=!1}))}}))},delComment:function(e,t){var i=this;this.$confirm(this.$t("common.delTip"),this.$t("common.tipTitle"),{type:"warning"}).then((function(){Object(r["o"])(e).then((function(e){i.list.splice(t,1),i.$message({type:"success",message:e.msg})}))})).catch((function(){}))},beforeImgUpload:function(e){var t=e.size<52428800;if(!t)return this.$message.error("图片大小超过50MB"),t;var i=new RegExp("image/*").test(e.type);return i?(t&&i&&(this.imgUploading=!0),t&&i):(this.$message.error("请上传图片"),i)},handleImgSuccess:function(e,t,i){200==e.code?this.dataForm.image.push({name:t.name,fileId:e.data.name,url:e.data.url}):(this.$refs.elUploadImg.uploadFiles.splice(i.length-1,1),i.filter((function(e){return e.uid!=t.uid})),this.$message({message:e.msg,type:"error",duration:1500})),this.imgUploading=!1},handleImgExceed:function(e,t){this.$message.warning("当前限制最多可以上传9张图片")},handleImgRemove:function(e){this.dataForm.image.splice(e,1),this.$refs.elUploadImg.uploadFiles.splice(e,1)},uploadFile:function(){var e=this.dataForm.file.length>=2;if(e)return this.$message.error("当前限制最多可以上传2个文件"),!1;this.$refs.fileUploader&&this.$refs.fileUploader.openUploader()},fileSuccess:function(e){var t=this.dataForm.file.length>=2;if(t)return this.$message.error("当前限制最多可以上传2个文件"),!1;this.dataForm.file.push(e)},handleFileRemove:function(e){this.dataForm.file.splice(e,1)},handleFileClick:function(e){var t=this;e.fileId&&Object(l["d"])("annex",e.fileId).then((function(i){t.jnpf.downloadFile(i.data.url,e.name)}))},handleFilePreview:function(e){this.activeFile=e,this.previewVisible=!0}}},f=u,p=(i("e9ed"),i("2877")),m=Object(p["a"])(f,a,n,!1,null,"c5a4ca64",null);t["default"]=m.exports},7361:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return r}));var a=i("b775");function n(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch",method:"get",data:e})}function s(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch/".concat(e),method:"DELETE"})}function o(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch/".concat(e,"/Actions/Withdraw"),method:"PUT",data:t})}function r(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowLaunch/Press/".concat(e),method:"post"})}},7823:function(e,t,i){},"826a4":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s}));var a=i("b775");function n(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowTask",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowTask/".concat(e.id),method:"put",data:e})}},"95d2":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{class:{hasDefault:!!e.value.length},attrs:{id:"common-file-uploader"}},[t("uploader",{ref:"uploader",staticClass:"uploader-app",attrs:{options:e.options,autoStart:!1,"file-status-text":e.statusText},on:{"file-added":e.onFileAdded,"file-success":e.onFileSuccess,"file-progress":e.onFileProgress,"file-error":e.onFileError,complete:e.onComplete}},[t("uploader-unsupport"),t("uploader-btn",{ref:"uploadBtn",attrs:{id:"file-uploader-btn",attrs:e.attrs}},[e._v("选择文件")]),t("uploader-list",{scopedSlots:e._u([{key:"default",fn:function(i){var a=i.fileList;return[t("ul",{staticClass:"el-upload-list el-upload-list el-upload-list--text"},e._l(a,(function(i){return t("li",{key:i.id,staticClass:"el-upload-list__item"},[t("uploader-file",{ref:"files",refInFor:!0,class:"file_"+i.id,attrs:{file:i,list:!0},scopedSlots:e._u([{key:"default",fn:function(e){return[t("FileItem",{attrs:{file:e.file,list:e.list}})]}}],null,!0)})],1)})),0)]}}])})],1)],1)},n=[],s=(i("a9e3"),i("99af"),i("b0c0"),i("2934")),o=i("61bc"),r={KB:1024,MB:1048576,GB:1073741824},l={props:{value:{type:Array,default:function(){return[]}},type:{type:String,default:"annex"},limit:{type:Number,default:0},accept:{type:String,default:"*"},sizeUnit:{type:String,default:"MB"},fileSize:{default:5}},mixins:[o["default"]],data:function(){return{}},computed:{acceptText:function(){var e="";switch(this.accept){case"image/*":e="图片";break;case"video/*":e="视频";break;case"audio/*":e="音频";break;case".xls,.xlsx":e="excel";break;case".doc,.docx":e="word";break;case".pdf":e="pdf";break;case".txt":e="txt";break;default:e="";break}return e}},methods:{beforeUpload:function(e){var t=!!this.limit&&this.value.length>=this.limit;if(t)return this.$message.error("当前限制最多可以上传".concat(this.limit,"个文件")),!1;var i=r[this.sizeUnit],a=!this.fileSize||e.size/i<this.fileSize;if(!a)return this.$message.error("文件大小超过".concat(this.fileSize).concat(this.sizeUnit)),a;var n=e.getExtension(),s=this.accept.indexOf(n)>-1;return!!s||(this.$message.error("请选择".concat(this.accept,"类型的文件")),s)},handelSuccess:function(e){var t=this,i=new FormData;i.append("identifier",e.uniqueIdentifier),i.append("fileName",e.name),i.append("fileSize",e.size),i.append("fileType",e.getType()),i.append("extension",e.getExtension()),i.append("type",this.type),Object(s["b"])(i).then((function(i){t.$set(e,"customCompleted",!0);var a={name:e.name,fileId:i.data.name,fileSize:i.data.fileSize,fileExtension:i.data.fileExtension,fileVersionId:i.data.fileVersionId,url:i.data.url};t.$emit("fileSuccess",a),e.cancel()})).catch((function(){e.cancel()}))}}},c=l,d=(i("b632"),i("2877")),u=Object(d["a"])(c,a,n,!1,null,"206885ba",null);t["default"]=u.exports},"95ee":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-tabs",{staticClass:"recordSummary",staticStyle:{height:"100%"},attrs:{"tab-position":"left"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"按部门汇总",name:"1"}}),t("el-tab-pane",{attrs:{label:"按岗位汇总",name:"3"}}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"recordSummary-list"},[e.list.length?e._l(e.list,(function(i,a){return t("el-card",{directives:[{name:"show",rawName:"v-show",value:i.list&&i.list.length,expression:"item.list&&item.list.length"}],key:a,staticClass:"recordSummary-item"},[t("div",{staticClass:"recordSummary-item-main"},[t("div",{staticClass:"cap"},[e._v(e._s(i.fullName)+"意见")]),t("div",{staticClass:"content"},e._l(i.list,(function(i,a){return t("div",{key:a,staticClass:"child-item"},[t("div",{staticClass:"child-item-block"},[t("div",{staticClass:"avatar"},[t("el-avatar",{attrs:{src:e.define.comUrl+i.headIcon}})],1),t("div",{staticClass:"child-item-title"},[t("div",{staticClass:"child-item-line"},[t("div",{staticClass:"name"},[e._v(" "+e._s(i.userName)),t("span",[e._v(" 于 "+e._s(e._f("toDate")(i.handleTime)))])]),t("el-tag",{staticClass:"tag",attrs:{type:i.tagType}},[e._v(e._s(i.txt))])],1),i.handleOpinion&&2!=i.handleStatus?t("div",{staticClass:"child-item-option"},[e._v(" "+e._s(i.handleOpinion)+" ")]):e._e(),i.fileList.length&&2!=i.handleStatus?t("div",{staticClass:"file-List"},[t("JnpfUploadFile",{attrs:{detailed:"",disabled:"",showIcon:!1},model:{value:i.fileList,callback:function(t){e.$set(i,"fileList",t)},expression:"child.fileList"}})],1):e._e()])])])})),0)])])})):t("el-empty",{attrs:{description:"暂无数据","image-size":120}})],2)],1)},n=[],s=i("5530"),o=(i("d3b7"),i("159b"),i("d81d"),i("e200")),r={name:"comments",props:{id:{type:String,default:""},summaryType:{default:"0"}},data:function(){return{list:[],activeTab:"1",loading:!1}},watch:{activeTab:function(e){this.init()}},methods:{init:function(){var e=this;this.loading=!0;var t={category:this.activeTab,type:this.summaryType};Object(o["w"])(this.id,t).then((function(t){e.list=t.data,e.list.length&&e.list.forEach((function(e,t){e.list.forEach((function(e){e.fileList=e.fileList?JSON.parse(e.fileList):[]})),e.list=e.list.map((function(e){return Object(s["a"])({txt:0==e.handleStatus?"退回":1==e.handleStatus?"同意":2==e.handleStatus?"发起":3==e.handleStatus?"撤回":4==e.handleStatus?"终止":5==e.handleStatus?"指派":6==e.handleStatus?"后加签":10==e.handleStatus?"前加签":8==e.handleStatus?"变更":11==e.handleStatus?"挂起":12==e.handleStatus?"恢复":"转审",tagType:0==e.handleStatus||11==e.handleStatus?"danger":1==e.handleStatus||12==e.handleStatus?"success":3==e.handleStatus||4==e.handleStatus||8==e.handleStatus?"warning":""},e)}))})),e.loading=!1})).catch((function(){e.loading=!1}))}}},l=r,c=(i("b058"),i("2877")),d=Object(c["a"])(l,a,n,!1,null,"b9ece92e",null);t["default"]=d.exports},"9e6f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:e.title,"close-on-click-modal":!1,width:"600px",visible:e.visible,"lock-scroll":"","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,"label-width":"80px",rules:e.fromRules}},["transfer"===e.eventType||"assign"===e.eventType||"cancel"===e.eventType?["assign"===e.eventType?t("el-form-item",{attrs:{label:"指派节点",prop:"nodeCode"}},[t("el-select",{attrs:{placeholder:"请选择指派节点"},model:{value:e.dataForm.nodeCode,callback:function(t){e.$set(e.dataForm,"nodeCode",t)},expression:"dataForm.nodeCode"}},e._l(e.assignNodeList,(function(e){return t("el-option",{key:e.nodeCode,attrs:{label:e.nodeName,value:e.nodeCode}})})),1)],1):e._e(),"transfer"===e.eventType||"assign"===e.eventType?t("el-form-item",{attrs:{label:e.label+"给谁",prop:"freeApproverUserId",rules:[{required:!0,message:"请选择".concat(e.label,"给谁"),trigger:"click"}]}},[t("JnpfUserSelect",{attrs:{placeholder:"请选择".concat(e.label,"给谁")},model:{value:e.dataForm.freeApproverUserId,callback:function(t){e.$set(e.dataForm,"freeApproverUserId",t)},expression:"dataForm.freeApproverUserId"}})],1):e._e(),"assign"===e.eventType||"cancel"===e.eventType||"transfer"===e.eventType&&e.properties&&e.properties.hasOpinion?t("el-form-item",{attrs:{label:"".concat(e.label,"原因"),prop:"handleOpinion"}},[t("el-input",{attrs:{placeholder:"请输入".concat(e.label,"原因"),type:"textarea",rows:4},model:{value:e.dataForm.handleOpinion,callback:function(t){e.$set(e.dataForm,"handleOpinion",t)},expression:"dataForm.handleOpinion"}})],1):e._e(),"assign"===e.eventType||"cancel"===e.eventType||"transfer"===e.eventType&&e.properties&&e.properties.hasOpinion?t("el-form-item",{attrs:{label:"".concat(e.label,"附件"),prop:"fileList"}},[t("JnpfUploadFile",{attrs:{limit:3},model:{value:e.dataForm.fileList,callback:function(t){e.$set(e.dataForm,"fileList",t)},expression:"dataForm.fileList"}})],1):e._e(),e.properties.hasSign&&"transfer"===e.eventType?t("el-form-item",{attrs:{label:"手写签名",required:""}},[t("div",{staticClass:"sign-main"},[e.signImg?t("img",{staticClass:"sign-img",attrs:{src:e.signImg,alt:""}}):e._e(),t("div",{staticClass:"sign-style",on:{click:e.addSign}},[t("i",{staticClass:"icon-ym icon-ym-signature add-sign"}),e.signImg?e._e():t("span",{staticClass:"sign-title"},[e._v("手写签名")])])])]):e._e()]:[e.properties.hasOpinion?[t("el-form-item",{attrs:{label:"".concat(e.label,"原因"),prop:"handleOpinion"}},[t("el-input",{attrs:{placeholder:"请输入".concat(e.label,"原因"),type:"textarea",rows:4},model:{value:e.dataForm.handleOpinion,callback:function(t){e.$set(e.dataForm,"handleOpinion",t)},expression:"dataForm.handleOpinion"}})],1),t("el-form-item",{attrs:{label:"".concat(e.label,"附件"),prop:"fileList"}},[t("JnpfUploadFile",{attrs:{limit:3},model:{value:e.dataForm.fileList,callback:function(t){e.$set(e.dataForm,"fileList",t)},expression:"dataForm.fileList"}})],1)]:e._e(),e.properties.hasSign?t("el-form-item",{attrs:{label:"手写签名",required:""}},[t("div",{staticClass:"sign-main"},[e.signImg?t("img",{staticClass:"sign-img",attrs:{src:e.signImg,alt:""}}):e._e(),t("div",{staticClass:"sign-style",on:{click:e.addSign}},[t("i",{staticClass:"icon-ym icon-ym-signature add-sign"}),e.signImg?e._e():t("span",{staticClass:"sign-title"},[e._v("手写签名")])])])]):e._e()]],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.handleSure()}}},[e._v(" "+e._s(e.$t("common.confirmButton"))+" ")])],1),e.signVisible?t("SignImgDialog",{ref:"SignImg",attrs:{lineWidth:3,userInfo:e.userInfo,isDefault:1},on:{close:e.signDialog}}):e._e()],1)},n=[],s=i("5530"),o=i("a84c"),r=i("5880"),l={components:{SignImgDialog:o["default"]},props:{assignNodeList:{type:Array,default:function(){return[]}}},data:function(){return{visible:!1,properties:{},eventType:"",dataForm:{handleOpinion:"",freeApproverUserId:"",nodeCode:"",fileList:[]},signVisible:!1,fromRules:{nodeCode:[{required:!0,message:"请选择指派节点",trigger:"change"}]},signImg:"",btnLoading:!1,title:"",label:""}},computed:Object(s["a"])({},Object(r["mapGetters"])(["userInfo"])),methods:{init:function(e,t){var i=this;switch(this.visible=!0,this.properties=e,this.eventType=t||"",this.dataForm.handleOpinion="",this.dataForm.freeApproverUserId="",this.dataForm.nodeCode="",this.dataForm.fileList=[],this.signImg="",this.properties.hasSign&&(this.signImg=this.userInfo.signImg),t){case"transfer":this.title="转审",this.label="转审";break;case"revoke":this.title="撤回流程",this.label="撤回";break;case"recall":this.title="撤回审核",this.label="撤回";break;case"assign":this.title="指派",this.label="指派";break;case"cancel":this.title="终止审核不可恢复",this.label="终止";break;default:break}this.$nextTick((function(){i.$refs["dataForm"].resetFields()}))},addSign:function(){var e=this;this.signVisible=!0,this.$nextTick((function(){e.$refs.SignImg.init()}))},signDialog:function(e){this.signVisible=!1,e&&(this.signImg=e)},handleSure:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){if(e.properties.hasSign&&!e.signImg&&"assign"!=e.eventType&&"cancel"!=e.eventType)return void e.$message({message:"请签名",type:"error"});var i=Object(s["a"])({signImg:e.signImg},e.dataForm);e.btnLoading=!0,e.$emit("submit",i)}}))},closeDialog:function(){this.btnLoading=!1,this.visible=!1}}},c=l,d=i("2877"),u=Object(d["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},a7bd:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",e._g(e._b({staticClass:"JNPF-dialog JNPF-dialog_center form-script-dialog",attrs:{title:"提交审核","close-on-click-modal":!1,"lock-scroll":"","append-to-body":"",width:"600px","modal-append-to-body":!1},on:{open:e.onOpen}},"el-dialog",e.$attrs,!1),e.$listeners),[t("el-form",{ref:"candidateForm",attrs:{model:e.candidateForm,"label-width":e.candidateForm.candidateList.length||e.branchList.length?"130px":"80px"}},[e.branchList&&e.branchList.length?t("el-form-item",{attrs:{label:"分支选择",prop:"branchList",rules:[{required:!0,message:"分支不能为空",trigger:"change"}]}},[t("el-select",{attrs:{multiple:"",placeholder:"请选择审批分支",clearable:""},on:{change:e.onBranchChange},model:{value:e.candidateForm.branchList,callback:function(t){e.$set(e.candidateForm,"branchList",t)},expression:"candidateForm.branchList"}},e._l(e.branchList,(function(e){return t("el-option",{key:e.nodeId,attrs:{label:e.nodeName,value:e.nodeId}})})),1)],1):e._e(),e._l(e.candidateForm.candidateList,(function(i,a){return t("el-form-item",{key:a,attrs:{label:i.nodeName+i.label,prop:"candidateList."+a+".value",rules:i.rules}},[i.hasCandidates?t("candidate-user-select",{attrs:{multiple:"",placeholder:"请选择"+i.label,taskId:e.taskId,formData:e.formData,nodeId:i.nodeId},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}}):t("JnpfUserSelect",{attrs:{multiple:"",placeholder:"请选择"+i.label,title:"候选人员"},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"item.value"}})],1)})),e.isCustomCopy?t("el-form-item",{attrs:{label:"抄送人员"}},[t("JnpfUserSelect",{attrs:{placeholder:"请选择",multiple:""},model:{value:e.candidateForm.copyIds,callback:function(t){e.$set(e.candidateForm,"copyIds",t)},expression:"candidateForm.copyIds"}})],1):e._e()],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.submitCandidate()}}},[e._v(" "+e._s(e.$t("common.confirmButton"))+" ")])],1)],1)},n=[],s=i("2909"),o=i("5530"),r=(i("d81d"),i("4de4"),i("d3b7"),i("14d9"),i("99af"),i("a15b"),i("0287")),l={components:{CandidateUserSelect:r["default"]},props:["candidateList","branchList","taskId","formData","isCustomCopy"],data:function(){return{candidateForm:{copyIds:[],branchList:[],candidateList:[]},btnLoading:!1}},methods:{onOpen:function(){var e=this;this.candidateForm.candidateList=this.candidateList.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{isDefault:!0,label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]})})),this.candidateForm.branchList=[],this.$nextTick((function(){e.$refs["candidateForm"].resetFields()}))},onBranchChange:function(e){var t=this.candidateForm.candidateList.filter((function(e){return e.isDefault}));if(!e.length)return this.candidateForm.candidateList=t;for(var i=[],a=0;a<e.length;a++)e:for(var n=0;n<this.branchList.length;n++){var r=this.branchList[n];if(e[a]===r.nodeId&&r.isCandidates){i.push(Object(o["a"])(Object(o["a"])({},r),{},{label:"审批人",value:[],rules:[{required:!0,message:"审批人不能为空",trigger:"click"}]}));break e}}this.candidateForm.candidateList=[].concat(Object(s["a"])(t),i)},submitCandidate:function(){var e=this;this.$refs["candidateForm"].validate((function(t){if(t){e.btnLoading=!0;for(var i={},a=0;a<e.candidateForm.candidateList.length;a++)i[e.candidateForm.candidateList[a].nodeId]=e.candidateForm.candidateList[a].value;e.$emit("submitCandidate",{candidateList:i,branchList:e.candidateForm.branchList,copyIds:e.candidateForm.copyIds.join(",")})}}))},closeDialog:function(){this.$emit("update:visible",!1)}}},c=l,d=i("2877"),u=Object(d["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},ad29:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"挂起流程暂停","close-on-click-modal":!1,width:"600px",visible:e.visible,"lock-scroll":"","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,"label-width":"80px",rules:e.fromRules}},[t("el-form-item",{attrs:{label:"挂起类型",prop:"suspend"}},[t("el-select",{attrs:{placeholder:"挂起类型",filterable:""},model:{value:e.dataForm.suspend,callback:function(t){e.$set(e.dataForm,"suspend",t)},expression:"dataForm.suspend"}},e._l(e.suspendOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"挂起原因",prop:"handleOpinion"}},[t("el-input",{attrs:{placeholder:"请输入挂起原因",type:"textarea",rows:4},model:{value:e.dataForm.handleOpinion,callback:function(t){e.$set(e.dataForm,"handleOpinion",t)},expression:"dataForm.handleOpinion"}})],1),t("el-form-item",{attrs:{label:"挂起附件",prop:"fileList"}},[t("JnpfUploadFile",{attrs:{limit:3},model:{value:e.dataForm.fileList,callback:function(t){e.$set(e.dataForm,"fileList",t)},expression:"dataForm.fileList"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancelButton")))]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.handleSure()}}},[e._v(" "+e._s(e.$t("common.confirmButton"))+" ")])],1)],1)},n=[],s=i("e200"),o={components:{},props:{},data:function(){return{visible:!1,eventType:"",dataForm:{suspend:!1,handleOpinion:"",fileList:[]},signVisible:!1,fromRules:{nodeCode:[{required:!0,message:"请选择指派节点",trigger:"change"}]},signImg:"",btnLoading:!1,title:"",label:"",suspendOptions:[]}},computed:{},methods:{init:function(e){var t=this;this.visible=!0,this.dataForm.suspend=!1,this.dataForm.handleOpinion="",this.dataForm.fileList=[],this.suspendOptions=[],this.$nextTick((function(){t.$refs["dataForm"].resetFields(),Object(s["A"])(e).then((function(e){var i=[];i=e.data?[{value:!1,label:"全部流程挂起"},{value:!0,label:"主流程挂起"}]:[{value:!1,label:"全部流程挂起"}],t.suspendOptions=i}))}))},handleSure:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.btnLoading=!0,e.$emit("submit",e.dataForm))}))},closeDialog:function(){this.btnLoading=!1,this.visible=!1}}},r=o,l=i("2877"),c=Object(l["a"])(r,a,n,!1,null,null,null);t["default"]=c.exports},b058:function(e,t,i){"use strict";i("7823")},b2ac:function(e,t,i){"use strict";i("e410")},b632:function(e,t,i){"use strict";i("202b")},c1b6:function(e,t,i){"use strict";i("33a8")},ce76:function(e,t,i){"use strict";i.r(t);i("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"JNPF-common-layout"},[t("JNPF-table",{staticClass:"recordListTable",attrs:{data:e.list,hasNO:!1,height:"100%"}},[4==e.opType?t("el-table-column",{attrs:{prop:"nodeName",label:"节点名称","show-overflow-tooltip":"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.handelNodeDetail(i.row)}}},[e._v(" "+e._s(i.row.nodeName))])]}}],null,!1,3141567969)}):t("el-table-column",{attrs:{prop:"nodeName",label:"节点名称",width:"200"}}),t("el-table-column",{attrs:{prop:"userName",label:"操作人员",width:"150"}}),t("el-table-column",{attrs:{prop:"creatorTime",label:"接收时间",width:"150",formatter:e.jnpf.tableDateFormat}}),t("el-table-column",{attrs:{prop:"handleTime",label:"操作时间",width:"150",formatter:e.jnpf.tableDateFormat}}),t("el-table-column",{attrs:{prop:"handleStatus",label:"执行动作",width:"200","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",{staticClass:"item"},[t("span",{style:{background:e.colorList[i.row.handleStatus||0]}}),e._v(" "+e._s(e.statusList[i.row.handleStatus||0])+" "),5==i.row.handleStatus||6==i.row.handleStatus||7==i.row.handleStatus||10==i.row.handleStatus?t("div",[e._v(" ："+e._s(i.row.operatorId)+" ")]):e._e()])]}}])}),t("el-table-column",{attrs:{prop:"signImg",label:"签名",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.signImg?t("el-image",{staticStyle:{width:"80px"},attrs:{src:i.row.signImg,"preview-src-list":[i.row.signImg]}}):e._e()]}}])}),t("el-table-column",{attrs:{prop:"fileList",label:"附件",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return e._l(JSON.parse(i.row.fileList),(function(i,a){return t("div",{key:a,on:{click:function(t){return e.handlePreview(i)}}},[t("el-link",{attrs:{type:"primary",underline:!1}},[e._v(e._s(i.name))])],1)}))}}])}),t("el-table-column",{attrs:{prop:"handleOpinion",label:"备注","min-width":"200","show-overflow-tooltip":""}}),4==e.opType?t("el-table-column",{attrs:{prop:"handleOpinion",label:"事件日志",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.isLog?[t("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(t){return e.handelNodeLog(i.row)}}},[e._v(" 查看日志")])]:e._e()]}}],null,!1,3077129486)}):e._e()],1),t("Preview",{attrs:{visible:e.previewVisible,file:e.activeFile,showDownload:!0},on:{"update:visible":function(t){e.previewVisible=t}}}),e.formVisible?t("FormBox",{ref:"FormBox",on:{close:function(t){e.formVisible=!1}}}):e._e()],1)},n=[],s=(i("a9e3"),i("b285")),o=i("0723"),r={components:{Preview:s["default"],FormBox:o["default"]},props:{list:{type:Array,default:[]},endTime:{type:Number,default:0},flowId:{type:String,default:""},opType:{type:Number,default:0}},name:"recordList",data:function(){return{colorList:["rgba(242,68,68,0.39)","rgba(35,162,5,0.39)","rgba(0,0,255,0.39)","rgba(21,21,157,0.39)","rgba(186,33,33,0.39)","rgba(25,185,185,0.39)","rgba(50,191,61,0.39)","rgba(49,151,214,0.39)","rgba(185,123,6,0.39)","rgba(45,94,186,0.39)","rgba(50,191,61,0.39)","rgba(255,0,0,0.39)","rgba(0,128,0,0.39)"],statusList:["退回","同意","发起","撤回","终止","指派","后加签","转办","变更","复活","前加签","挂起","恢复"],previewVisible:!1,formVisible:!1,activeFile:{},logVisible:!1}},methods:{handlePreview:function(e){this.activeFile=e,this.previewVisible=!0},handelNodeDetail:function(e){var t=this,i={id:e.taskId,taskNodeId:e.taskNodeId,enCode:e.flowCode,flowId:this.flowId,formType:e.formType,opType:0,status:e.status,title:e.nodeName};this.formVisible=!0,this.$nextTick((function(){t.$refs.FormBox.init(i)}))},handelNodeLog:function(e){this.$emit("handelNodeLog",e)}}},l=r,c=(i("1729"),i("2877")),d=Object(c["a"])(l,a,n,!1,null,"bf07802c",null);t["default"]=d.exports},d342:function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"e",(function(){return s})),i.d(t,"f",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var a=i("b775");function n(e){return Object(a["a"])({url:"/api/system/CommonWords",method:"get",data:e})}function s(e){return Object(a["a"])({url:"/api/system/CommonWords/".concat(e),method:"get"})}function o(){return Object(a["a"])({url:"/api/system/CommonWords/Selector",method:"get"})}function r(e){return Object(a["a"])({url:"/api/system/CommonWords/".concat(e),method:"DELETE"})}function l(e){return Object(a["a"])({url:"/api/system/CommonWords",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/api/system/CommonWords/".concat(e.id),method:"put",data:e})}},e109:function(e,t,i){},e200:function(e,t,i){"use strict";i.d(t,"i",(function(){return n})),i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return o})),i.d(t,"p",(function(){return r})),i.d(t,"l",(function(){return l})),i.d(t,"k",(function(){return c})),i.d(t,"e",(function(){return d})),i.d(t,"q",(function(){return u})),i.d(t,"a",(function(){return f})),i.d(t,"o",(function(){return p})),i.d(t,"n",(function(){return m})),i.d(t,"w",(function(){return h})),i.d(t,"g",(function(){return g})),i.d(t,"f",(function(){return b})),i.d(t,"d",(function(){return v})),i.d(t,"u",(function(){return w})),i.d(t,"t",(function(){return y})),i.d(t,"v",(function(){return F})),i.d(t,"c",(function(){return k})),i.d(t,"r",(function(){return L})),i.d(t,"m",(function(){return T})),i.d(t,"j",(function(){return I})),i.d(t,"A",(function(){return _})),i.d(t,"z",(function(){return C})),i.d(t,"x",(function(){return O})),i.d(t,"y",(function(){return x})),i.d(t,"s",(function(){return $}));var a=i("b775");function n(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/List/".concat(e),method:"get",data:t})}function s(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/".concat(e),method:"get",data:t})}function o(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Audit/".concat(e),method:"post",data:t})}function r(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/SaveAudit/".concat(e),method:"post",data:t})}function l(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Reject/".concat(e),method:"post",data:t})}function c(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Recall/".concat(e),method:"post",data:t})}function d(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Cancel/".concat(e),method:"post",data:t})}function u(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Transfer/".concat(e),method:"post",data:t})}function f(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Assign/".concat(e),method:"post",data:t})}function p(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Selector/".concat(e),method:"get"})}function m(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Change",method:"post",data:e})}function h(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/RecordList/".concat(e),method:"get",data:t})}function g(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Candidates/".concat(e),method:"post",data:t})}function b(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/CandidateUser/".concat(e),method:"post",data:t})}function v(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/BatchOperation",method:"post",data:e})}function w(){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/BatchFlowSelector",method:"get"})}function y(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/BatchFlowJsonList/".concat(e),method:"get"})}function F(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/NodeSelector/".concat(e),method:"get"})}function k(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/BatchCandidate",method:"get",data:e})}function L(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/".concat(e,"/Info"),method:"get"})}function T(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/RejectList/".concat(e),method:"get"})}function I(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/freeApprover/".concat(e),method:"post",data:t})}function _(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Suspend/".concat(e),method:"get"})}function C(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Suspend/".concat(e),method:"post",data:t})}function O(e,t){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/Restore/".concat(e),method:"post",data:t})}function x(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowBefore/SubFlowInfo/".concat(e),method:"get"})}function $(e){return Object(a["a"])({url:"/api/workflow/Engine/FlowMonitor/".concat(e,"/EventLog"),method:"get"})}},e410:function(e,t,i){},e9ed:function(e,t,i){"use strict";i("ee89")},ee89:function(e,t,i){}}]);
//# sourceMappingURL=index.umd.min.2.js.map