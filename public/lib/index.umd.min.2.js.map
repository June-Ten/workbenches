{"version":3,"sources":["webpack://avueData/./src/views/workFlow/components/CandidateUserSelect.vue","webpack://avueData/src/views/workFlow/components/CandidateUserSelect.vue","webpack://avueData/./src/views/workFlow/components/CandidateUserSelect.vue?bf20","webpack://avueData/./src/views/workFlow/components/CandidateUserSelect.vue?67fc","webpack://avueData/./src/views/workFlow/components/FormBox.vue","webpack://avueData/src/views/workFlow/components/FormBox.vue","webpack://avueData/./src/views/workFlow/components/FormBox.vue?df59","webpack://avueData/./src/views/workFlow/components/FormBox.vue?9185","webpack://avueData/./src/views/workFlow/components/RecordList.vue?249e","webpack://avueData/./src/views/workFlow/components/EventLog.vue","webpack://avueData/src/views/workFlow/components/EventLog.vue","webpack://avueData/./src/views/workFlow/components/EventLog.vue?510e","webpack://avueData/./src/views/workFlow/components/EventLog.vue?c0dc","webpack://avueData/./src/views/workFlow/components/HasFreeApprover.vue","webpack://avueData/src/views/workFlow/components/HasFreeApprover.vue","webpack://avueData/./src/views/workFlow/components/HasFreeApprover.vue?4ace","webpack://avueData/./src/views/workFlow/components/HasFreeApprover.vue?3841","webpack://avueData/./src/views/workFlow/components/FlowBox.vue","webpack://avueData/src/views/workFlow/components/FlowBox.vue","webpack://avueData/./src/views/workFlow/components/FlowBox.vue?efcc","webpack://avueData/./src/views/workFlow/components/FlowBox.vue?d56b","webpack://avueData/./src/views/workFlow/components/CommonWordsDialog.vue?b01f","webpack://avueData/./src/views/workFlow/components/FormBox.vue?3093","webpack://avueData/./src/views/workFlow/components/CommonWordsDialog.vue","webpack://avueData/src/views/workFlow/components/CommonWordsDialog.vue","webpack://avueData/./src/views/workFlow/components/CommonWordsDialog.vue?e6b5","webpack://avueData/./src/views/workFlow/components/CommonWordsDialog.vue?7666","webpack://avueData/./src/views/workFlow/components/ErrorForm.vue","webpack://avueData/src/views/workFlow/components/ErrorForm.vue","webpack://avueData/./src/views/workFlow/components/ErrorForm.vue?2fe4","webpack://avueData/./src/views/workFlow/components/ErrorForm.vue?255e","webpack://avueData/./src/views/workFlow/components/Comment.vue","webpack://avueData/src/views/workFlow/components/Comment.vue","webpack://avueData/./src/views/workFlow/components/Comment.vue?f141","webpack://avueData/./src/views/workFlow/components/Comment.vue?fde5","webpack://avueData/./src/api/workFlow/FlowLaunch.js","webpack://avueData/./src/api/workFlow/workFlowForm.js","webpack://avueData/./src/views/workFlow/components/FileUploader.vue","webpack://avueData/src/views/workFlow/components/FileUploader.vue","webpack://avueData/./src/views/workFlow/components/FileUploader.vue?73be","webpack://avueData/./src/views/workFlow/components/FileUploader.vue?2b38","webpack://avueData/./src/views/workFlow/components/RecordSummary.vue","webpack://avueData/src/views/workFlow/components/RecordSummary.vue","webpack://avueData/./src/views/workFlow/components/RecordSummary.vue?75b9","webpack://avueData/./src/views/workFlow/components/RecordSummary.vue?0968","webpack://avueData/./src/views/workFlow/components/ActionDialog.vue","webpack://avueData/src/views/workFlow/components/ActionDialog.vue","webpack://avueData/./src/views/workFlow/components/ActionDialog.vue?2f19","webpack://avueData/./src/views/workFlow/components/ActionDialog.vue?c5e3","webpack://avueData/./src/views/workFlow/components/CandidateForm.vue","webpack://avueData/src/views/workFlow/components/CandidateForm.vue","webpack://avueData/./src/views/workFlow/components/CandidateForm.vue?2a4f","webpack://avueData/./src/views/workFlow/components/CandidateForm.vue?ff43","webpack://avueData/./src/views/workFlow/components/SuspendDialog.vue","webpack://avueData/src/views/workFlow/components/SuspendDialog.vue","webpack://avueData/./src/views/workFlow/components/SuspendDialog.vue?03a4","webpack://avueData/./src/views/workFlow/components/SuspendDialog.vue?4340","webpack://avueData/./src/views/workFlow/components/RecordSummary.vue?089a","webpack://avueData/./src/views/workFlow/components/FlowBox.vue?7bf9","webpack://avueData/./src/views/workFlow/components/FileUploader.vue?db9a","webpack://avueData/./src/views/workFlow/components/HasFreeApprover.vue?935a","webpack://avueData/./src/views/workFlow/components/RecordList.vue","webpack://avueData/src/views/workFlow/components/RecordList.vue","webpack://avueData/./src/views/workFlow/components/RecordList.vue?c9c5","webpack://avueData/./src/views/workFlow/components/RecordList.vue?d0f5","webpack://avueData/./src/api/system/commonWords.js","webpack://avueData/./src/api/workFlow/FlowBefore.js","webpack://avueData/./src/views/workFlow/components/Comment.vue?18f9"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","stopPropagation","openDialog","apply","arguments","multiple","ref","style","inputWidth","width","cursor","collapseTags","tagsList","length","attrs","selectDisabled","collapseTagSize","deleteTag","_v","_s","fullName","_e","resetInputHeight","_l","item","i","key","id","currentPlaceholder","nativeOn","inputHovering","model","value","innerValue","callback","$$v","expression","slot","directives","name","rawName","showClose","class","handleClearClick","visible","onClose","type","indexOf","_k","keyCode","search","listQuery","keyword","$set","list","index","handleNodeClick","define","comUrl","headIcon","organize","removeAll","selectedData","removeData","$t","confirm","staticRenderFns","inject","elForm","default","elFormItem","props","placeholder","disabled","clearable","taskId","nodeId","formData","size","data","loading","currentPage","pageSize","total","listLoading","initialInputHeight","finish","watch","val","computed","Array","hasValue","_elFormItemSize","selectSize","created","mounted","addResizeListener","medium","small","mini","beforeDestroy","methods","clear","bindScroll","vBody","_this","initData","nodeCode","CandidateUser","setDefault","getUserInfoList","event","resetInputWidth","handleResize","input","sizeInMap","Math","tags","component","setting","title","currentView","tag","setLoad","setCandidateLoad","setPageLoad","flowFormInfo","flowTaskInfo","btnLoading","init","getBeforeInfo","FlowBeforeInfo","taskNodeId","flowId","catch","goBack","scopedSlots","_u","fn","scope","_f","row","creatorTime","components","eventLog","_g","_b","onOpen","$attrs","$listeners","rules","hasFreeApproverForm","freeApproverUserId","freeApproverType","branchList","onBranchChange","nodeName","candidateList","label","hasCandidates","properties","hasOpinion","handleOpinion","fileList","hasSign","signImg","addSign","close","formConf","cancelButtonText","dataFormSubmit","signVisible","userInfo","signDialog","CandidateUserSelect","SignImgDialog","candidateType","required","message","trigger","mapGetters","Candidates","o","isDefault","e","inner","query","FreeApprover","duration","fromForm","opType","handleFlowUrgent","staticStyle","flowUrgentList","selectState","color","state","subFlowVisible","moreBtnList","handleMore","allBtnDisabled","candidateLoading","eventLauncher","submitBtnText","hasAuditBtn","auditBtnText","status","hasPressBtn","undefined","press","pressBtnText","hasRevokeBtn","actionLauncher","revokeBtnText","noOperateAuth","hideCancelBtn","activeTab","activeClick","subFlowTab","subFlowInfoList","flowTemplateInfo","flowTemplateJson","subFlow","eventReceiver","flowTaskOperatorRecordList","endTime","handelNodeLog","isSummary","summaryType","isComment","eventType","beforeClose","candidateForm","rejectType","showReject","rejectStep","rejectList","common","isCustomCopy","copyIds","approvalBtnLoading","handleApproval","completion","resurgenceVisible","resurgenceForm","resurgenceRules","resurgenceNodeList","resurgenceBtnLoading","handleResurgence","printBrowseVisible","printTemplateId","candidateVisible","submitCandidate","errorVisible","errorNodeList","handleError","actionVisible","assignNodeList","actionReceiver","suspendVisible","suspendReceiver","hasFreeApproverVisible","approverDialog","flowBoxVisible","printDialogVisible","printBrowseHandle","logVisible","PrintDialog","HasFreeApprover","recordList","Process","ProcessT","PrintBrowse","Comment","RecordSummary","CandidateForm","ErrorForm","ActionDialog","SuspendDialog","CommonWordsDialog","EventLog","previewVisible","previewTitle","monitorList","flowName","startTime","userName","thisStep","flowTaskNodeList","handleId","flowUrgent","isValidate","commonWordsVisible","needClose","enCode","errorRuleUserList","resurgence","Resurgence","flowResurgence","ResurgenceList","isRefresh","taskOperatorId","loop","initBtnList","subFlowInfo","element","printDialog","suspend","recovery","restore","dataForm","RejectList","then","saveAudit","SaveAudit","submitOrSave","handleRequest","candidateData","formMethod","showActionDialog","actionMethod","getActionMethod","Press","approvalMethod","addComment","rowClick","commonWordsType","addOrUpdateHandle","handleDel","select","cancel","formLoading","dataRule","commonWordsText","sortCode","dataFormBtnLoading","commonBtnLoading","systemNames","systemIds","enabledMark","checked","checkedRow","getCommonWordsInfo","getSelector","closeDialog","console","showCancelButton","confirmButtonText","instance","setTimeout","done","deleteCommonWords","nodeList","submit","creatorUserHeadIcon","creatorUser","isDel","delComment","text","imageList","cItem","ci","url","getImgList","dialogVisible","comUploadUrl","uploadHeaders","handleImgSuccess","beforeImgUpload","handleImgExceed","uploadFile","image","handleImgRemove","file","fileId","fileSize","jnpf","toFileSize","handleFilePreview","handleFileClick","handleFileRemove","fileAccept","fileSuccess","activeFile","Preview","FileUploader","sort","sidx","Authorization","imgUploading","getCommentList","showCommentDialog","createComment","res","files","getDownloadUrl","FlowLaunchList","request","method","Delete","Revoke","Create","Update","options","statusText","onFileAdded","onFileSuccess","onFileProgress","onFileError","onComplete","refInFor","KB","MB","GB","limit","accept","sizeUnit","mixins","acceptText","txt","beforeUpload","handelSuccess","form","chunkMerge","fileExtension","fileVersionId","child","j","handleTime","tagType","handleStatus","category","getRecordList","fromRules","handleSure","suspendOptions","suspendType","listOptions","handelNodeDetail","tableDateFormat","background","colorList","statusList","operatorId","JSON","parse","handlePreview","isLog","formVisible","FormBox","formType","getCommonWordList","FlowBeforeList","Audit","Reject","Recall","Cancel","Transfer","Assign","BatchOperation","getBatchFlowSelector","getBatchFlowJsonList","getNodeSelector","BatchCandidate","checkInfo"],"mappings":"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AApI,iBAEA,gFAEA,qBACA,4DAIA2E,SACAwI,OADA,SACArJ,GACA,2BACA,IACA,uBACA,qDAEA,sDAKA+I,YAZA,WAaA,gBACA,sCAMAjE,QApBA,WAoBA,WACA,oBACA,2BACA,2BAGAO,WA1BA,SA0BArF,GACA,oBACA,IACA,iBAGA8K,eAhCA,SAgCA+B,GACA,2BAEAnE,cAnCA,SAmCA1M,GAAA,WACA,mBACA,2BACA,mDAGAiM,YAzCA,WAyCA,WACA,yFACA,aACA,yCACA,oEACA,6FACA,sCACA,sCACA,0CACA,gDACA,uCAGAK,QAtDA,SAsDAwE,GAAA,WACA,oEACA,aACA,qCACA,qCACAjG,mBACA2F,GACA,cAEA,8FACA,uBACA,2BACA,6BAGAxC,iBArEA,SAqEA+C,GAAA,WACA,mDACA,MACA,uCACA,kBADA,IAEA5N,wBACA6N,4CAEA,2BACA,0BACAC,oCACA,aACA,+BACA,kBACA,yBACA,kBACA,2BAEA,YACA3P,eACAoI,cACAU,aACA/I,mBACA,0BACA,aACA,kBACA,0BAIAyF,OAAA,6CAGAoK,eAtGA,WAsGA,WACA,0BACAC,sDACA,gCAGApK,OA5GA,SA4GAqK,GACA,gFACA,uBAEA3K,KAhHA,SAgHAlD,GACA,gBACA,mBACA,eACA,iBACA,oBAWA,uBAIAmD,cApIA,SAoIAnD,GAAA,WACAoD,wBAAAC,wBAAAyK,wBAAAxK,kBAAA,kBACA,mCACA,uCACA,2CACA,yCACA,yEACAtD,aACA,aACA,mCACA,0CACAA,+BACAA,mCACAA,+BACAA,mCACA,mMAeA,GAdA,+KACA,+CACA,4GACA,oDACA,oDACA,wDACA,mEACA,oEACA,4CACA,gFACA,kEACAA,uCACA,6CACAA,uCACA,YACA,wCACAA,2BAIA,GADAA,sCACA,2BAEA,IADA,SADA,WAEAtD,GACA,4BACAsD,2DACA,oBAEA,GADA,wDACA,sBAIA,OAHA,kCACA,uCACA,+FAGA,uEACA,6BAEA+N,uBAdA,yCAgBA,wBAEA,sCAEA,YACA,mBACAxK,OAAA,4BAEAyK,YAlMA,WAmMA,SACA,eACA,sBACA,kBACA,oBAUA,GATA,kCAAAjJ,2BAAApI,aACA,qEAAAoI,6BAAApI,eACA,8CAAAoI,4BAAApI,cACA,OACA,0BAAAoI,+BAAApI,iBACA,sBAAAoI,2BAAApI,kBACA,wBAAAoI,6BAAApI,eACA,8BAAAoI,sCAAApI,yBAEA,MACA,kDACA,2BAAAoI,YAAApI,mBACA,uFAAAoI,YAAApI,mBACA,iDAAAoI,YAAApI,eACA,qBAAAoI,YAAApI,gBACA,gCAAAoI,YAAApI,iBAEA,oBAEAsR,YA3NA,SA2NAjO,GAAA,WACA,gBACA,mBACA,uBACAiO,0CACA,6BACA,kDACA,6DACA,sDACA,iFACA,oEACA,4CACA,2BAEA,GADAC,0GACA,2BAEA,IADA,SADA,WAEAxR,GACA,4BACAsD,2DACA,oBAEA,GADA,wDACA,sBAIA,OAHA,kCACA,uCACA,+FAGA,uEACA,6BAEA+N,wCAdA,yCAgBAG,wBAEAA,uDAEA,6HACA,mCACA,mCACA,uCACA,sDAEA3K,OAAA,4BAIAmI,kBAzQA,SAyQA9O,GACA,uBACA,2BACA,4BAEAuR,YA9QA,WA8QA,WACA,2BACA,2BACA,mDAGA3G,WApRA,SAoRAf,GACA,gDACA,8CACA,+CACA,4CACA,sCACA,0CACA,+BACA,8BACA,4BACA,mCACA,uBAEA2H,QAjSA,WAiSA,WACA,uBACA,2BACA,6CAGAC,SAvSA,WAuSA,WACA,GACAlJ,iBACAC,aAEAkJ,oDACA,YACAnI,cACApI,eACA8I,cACA/I,mBACA,0BAGAyF,OAAA,WACA,wCAGA8H,gBAzTA,SAyTAkD,GAAA,WACAH,oDACA,YACAjI,cACApI,eACA8I,cACA/I,mBACA,2BAKA6J,cArUA,SAqUA4B,GACA,oEAEAP,cAxUA,SAwUAlJ,EAAAyJ,GAAA,WAKA,GAJA,gBACA,yCACA,iCACA,iBACA,yBACA,2BAEA,mBACA,wBAEA,yBACA,sCAEA,8BAOA,GANA,iBACA,oCACA,+BACA,gBACA,mBACA,8DACA,aAgBA,YAfAiF,sDACA,gCACA,6BACA,6EACA,wFAQA,gBACA,cARA,oCACAzQ,iBACA0Q,MAAA,WACA,sBACAlL,OAAA,kBAKAA,MAAA,IAGA,yBACA+C,oEACA,aAKA,GAJA,uBACA,sBACA,8BACA,gBACA,WACA,sEACA,+EACA,yFACAC,GADA,IAEAC,aACAzB,YACA9H,SACAsH,QAAA2B,YAAAC,kBAAAC,uBAEA,wBACA,0CAEA,gBACA,kBACA,cACA,+DACA,yFACAG,GADA,IAEAxB,YACA9H,SACAsH,QAAA2B,YAAAC,kBAAAC,uBAEA,wBACA,0CAEA,gBACA,iBACA,CAEA,GADA,kCACA,0GAMA,YALA,oCACArI,iBACA0Q,MAAA,WACA,sBACAlL,OAAA,eAGA,gBACA,iBAEAA,OAAA,WACA,2BAIAqB,eApaA,SAoaAnE,GACA,iFACA,uDAEA,IADA,SACA,mBACAiG,4CACA,yBACA,oCACAnI,wCACAgI,GADA,IAEAxB,YACA9H,SACAsH,QAAA2B,YAAAC,kBAAAC,qBAEA,SAIA,iEAEAsI,UAxbA,WAwbA,WACA,mBACAC,oEACA,YACAxI,cACApI,eACA8I,cACA/I,mBACA,gBACA,0BAGAyF,OAAA,WACA,oBAGAqL,aAxcA,WAwcA,WAOA,GANA,mDACA,yCACA,gCACA,8DAGA,oDACA,yBACAtI,kDACA,aAGA,GAFA,sBACA,uBACA,UACA,sEACA,yFACA,2BACA,aACA,gBACA,yEACA,0BACA,CACA,6BAIA,OAHA,gBACA,wBACA,uBAGA,sCACAvI,iBACA0Q,MAAA,WACA,qBACAlL,OAAA,mBAEAA,OAAA,WACA,0BAGAsL,cA9eA,SA8eAC,GAAA,WACA,sEACA,+CACA,0CACA,8CACA,uBACA,qCACAC,mCACA,aACA,+BACA,kBACA,kBACA,qBAEA,YACA5I,cACApI,eACA8I,cACA/I,mBACA,wCACA,sBACA,oBACA,kBACA,0BAIAyF,OAAA,WACA,wCACA,oBACA,sBAGAsH,gBA/gBA,SA+gBA7K,GACA,uBAEAqI,eAlhBA,SAkhBAkB,GAAA,WAEA,GADA,iBACA,gFASA,4BATA,CACA,oEACA,sBACAxL,iBACA0Q,MAAA,WACA,sBACAlL,OAAA,iBAKAyL,iBA/hBA,WA+hBA,WACA,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AuB,aAEAU,KANA,WAOA,OACAzB,QACAH,WACA8B,cACAC,YACAgT,YACAC,SAEAhT,QACAC,eACA4C,cACA4M,YACAtB,UACAgD,QACAe,QACAF,UAEAP,iBACAtR,UACAwR,eAAAsB,yCACAC,gBACA5G,kBACAoG,wDACAE,gBAGA1R,SACA4B,KADA,WACA,WACA,aACA,gBACAhD,cACAC,YACAgT,YACAC,SAEA,eACA,gBACA,2BACA,mBAGA5R,WAfA,WAgBA,WACAC,uBACAA,wCACA,4EACAC,2BACAA,kBAIAC,SAzBA,WAyBA,WACA,oBACA,uCACA,gBADA,IAEA/B,iBAEA2T,oCACA,2EACAhN,GADA,IAEAnB,sCACAoM,8CAEA,0CACA,aAEA,2DACA,gCACA,oBACAjO,OAAA,WACA,qBAGAiQ,kBA/CA,WA+CA,WACA,sBACA,uBACA,sBACA,2BACA,mCACA,sCAGA5B,WAxDA,SAwDArT,GAAA,WACA,qDACA,UAEA8Q,WA5DA,WA4DA,WACA,6CACA,MACA,gBACA,OACAkC,qBACAe,qCACAF,uCACAxS,aAEA6T,oCACA,YACAtN,cACApI,eACA8I,cACA/I,mBACA,mBACA,gBACA,eAGAyF,OAAA,mCAIA+N,WArFA,SAqFA1U,EAAA4B,GAAA,WACA,mEACAT,iBACA0Q,MAAA,WACA6C,oCACA,mBACA,YACAvT,eACAoI,sBAGA5C,OAAA,gBAEA0O,gBAlGA,SAkGAK,GACA,sBACA,MAEA,OADA,kCACA,EAEA,yCACA,UAIA,6BACA,OAJA,6BACA,IAKAN,iBAhHA,SAgHA0B,EAAApB,EAAAlN,GACA,YACA,0BACA5H,YACA+U,mBACAZ,kBAGA,wDACAvM,sBAAA,uBACA,eAAAe,cAAApI,aAAA8I,iBAEA,sBAEAqL,gBA9HA,SA8HAyB,EAAAvO,GACA,yCAEAiN,gBAjIA,SAiIA7T,GACA,gCACA,gDAEA2T,WArIA,WAsIA,mCACA,KAEA,OADA,uCACA,EAEA,iEAEAY,YA7IA,SA6IA/S,GACA,mCACA,KAEA,OADA,uCACA,EAEA,4BAEA6S,iBArJA,SAqJArU,GACA,gCAEAoU,gBAxJA,SAw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","file":"index.umd.min.2.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"popupSelect-container\"},[_c('div',{staticClass:\"el-select\",on:{\"click\":function($event){$event.stopPropagation();return _vm.openDialog.apply(null, arguments)}}},[(_vm.multiple)?_c('div',{ref:\"tags\",staticClass:\"el-select__tags\",style:({ 'max-width': _vm.inputWidth - 32 + 'px', width: '100%',cursor:'pointer' })},[(_vm.collapseTags && _vm.tagsList.length)?_c('span',[_c('el-tag',{attrs:{\"closable\":!_vm.selectDisabled,\"size\":_vm.collapseTagSize,\"type\":\"info\",\"disable-transitions\":\"\"},on:{\"close\":function($event){return _vm.deleteTag($event, 0)}}},[_c('span',{staticClass:\"el-select__tags-text\"},[_vm._v(_vm._s(_vm.tagsList[0].fullName))])]),(_vm.tagsList.length > 1)?_c('el-tag',{attrs:{\"closable\":false,\"type\":\"info\",\"disable-transitions\":\"\"}},[_c('span',{staticClass:\"el-select__tags-text\"},[_vm._v(\"+ \"+_vm._s(_vm.tagsList.length - 1))])]):_vm._e()],1):_vm._e(),(!_vm.collapseTags)?_c('transition-group',{on:{\"after-leave\":_vm.resetInputHeight}},_vm._l((_vm.tagsList),function(item,i){return _c('el-tag',{key:item.id,attrs:{\"size\":_vm.collapseTagSize,\"closable\":!_vm.selectDisabled,\"type\":\"info\",\"disable-transitions\":\"\"},on:{\"close\":function($event){return _vm.deleteTag($event, i)}}},[_c('span',{staticClass:\"el-select__tags-text\"},[_vm._v(_vm._s(item.fullName))])])}),1):_vm._e()],1):_vm._e(),_c('el-input',{ref:\"reference\",attrs:{\"type\":\"text\",\"placeholder\":_vm.currentPlaceholder,\"disabled\":_vm.selectDisabled,\"readonly\":\"\",\"validate-event\":false,\"tabindex\":(_vm.multiple) ? '-1' : null},nativeOn:{\"mouseenter\":function($event){_vm.inputHovering = true},\"mouseleave\":function($event){_vm.inputHovering = false}},model:{value:(_vm.innerValue),callback:function ($$v) {_vm.innerValue=$$v},expression:\"innerValue\"}},[_c('template',{slot:\"suffix\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showClose),expression:\"!showClose\"}],class:['el-select__caret', 'el-input__icon', 'el-icon-arrow-up']}),(_vm.showClose)?_c('i',{staticClass:\"el-select__caret el-input__icon el-icon-circle-close\",on:{\"click\":_vm.handleClearClick}}):_vm._e()])],2)],1),_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center transfer-dialog\",attrs:{\"title\":\"候选人员\",\"close-on-click-modal\":false,\"visible\":_vm.visible,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":\"800px\",\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.onClose}},[_c('div',{staticClass:\"transfer__body\"},[_c('div',{staticClass:\"transfer-pane\"},[_c('div',{staticClass:\"transfer-pane__tools\"},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入关键词查询\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search.apply(null, arguments)}},model:{value:(_vm.listQuery.keyword),callback:function ($$v) {_vm.$set(_vm.listQuery, \"keyword\", $$v)},expression:\"listQuery.keyword\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search},slot:\"append\"})],1)],1),_c('div',{staticClass:\"transfer-pane__body left-pane\"},[_c('div',{staticClass:\"custom-title\"},[_vm._v(\"全部数据\")]),_c('div',{ref:\"candidate\",staticClass:\"single-list\"},[(_vm.list.length)?_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"selected-item-user\",on:{\"click\":function($event){return _vm.handleNodeClick(item)}}},[_c('div',{staticClass:\"selected-item-main\"},[_c('el-avatar',{staticClass:\"selected-item-headIcon\",attrs:{\"size\":36,\"src\":_vm.define.comUrl+item.headIcon}}),_c('div',{staticClass:\"selected-item-text\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.fullName))]),_c('p',{staticClass:\"organize\",attrs:{\"title\":item.organize}},[_vm._v(_vm._s(item.organize))])])],1)])}):_c('el-empty',{attrs:{\"description\":\"暂无数据\",\"image-size\":120}})],2)])]),_c('div',{staticClass:\"transfer-pane\"},[_c('div',{staticClass:\"transfer-pane__tools\"},[_c('span',[_vm._v(\"已选\")]),_c('el-button',{staticClass:\"removeAllBtn\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.removeAll}},[_vm._v(\"清空列表\")])],1),_c('div',{staticClass:\"transfer-pane__body shadow right-pane\"},[(_vm.selectedData.length)?_vm._l((_vm.selectedData),function(item,index){return _c('div',{key:index,staticClass:\"selected-item-user\"},[_c('div',{staticClass:\"selected-item-main\"},[_c('el-avatar',{staticClass:\"selected-item-headIcon\",attrs:{\"size\":36,\"src\":_vm.define.comUrl+item.headIcon}}),_c('div',{staticClass:\"selected-item-text\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.fullName)+\" \"),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.removeData(index)}}})]),_c('p',{staticClass:\"organize\",attrs:{\"title\":item.organize}},[_vm._v(_vm._s(item.organize))])])],1)])}):_c('el-empty',{attrs:{\"description\":\"暂无数据\",\"image-size\":120}})],2)])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible=false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.$t('common.confirmButton')))])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"popupSelect-container\">\r\n    <div class=\"el-select\" @click.stop=\"openDialog\">\r\n      <div class=\"el-select__tags\" v-if=\"multiple\" ref=\"tags\"\r\n        :style=\"{ 'max-width': inputWidth - 32 + 'px', width: '100%',cursor:'pointer' }\">\r\n        <span v-if=\"collapseTags && tagsList.length\">\r\n          <el-tag :closable=\"!selectDisabled\" :size=\"collapseTagSize\" type=\"info\"\r\n            @close=\"deleteTag($event, 0)\" disable-transitions>\r\n            <span class=\"el-select__tags-text\">{{ tagsList[0].fullName }}</span>\r\n          </el-tag>\r\n          <el-tag v-if=\"tagsList.length > 1\" :closable=\"false\" type=\"info\" disable-transitions>\r\n            <span class=\"el-select__tags-text\">+ {{ tagsList.length - 1 }}</span>\r\n          </el-tag>\r\n        </span>\r\n        <transition-group @after-leave=\"resetInputHeight\" v-if=\"!collapseTags\">\r\n          <el-tag v-for=\"(item,i) in tagsList\" :key=\"item.id\" :size=\"collapseTagSize\"\r\n            :closable=\"!selectDisabled\" type=\"info\" @close=\"deleteTag($event, i)\"\r\n            disable-transitions>\r\n            <span class=\"el-select__tags-text\">{{ item.fullName }}</span>\r\n          </el-tag>\r\n        </transition-group>\r\n      </div>\r\n      <el-input ref=\"reference\" v-model=\"innerValue\" type=\"text\" :placeholder=\"currentPlaceholder\"\r\n        :disabled=\"selectDisabled\" readonly :validate-event=\"false\"\r\n        :tabindex=\"(multiple) ? '-1' : null\" @mouseenter.native=\"inputHovering = true\"\r\n        @mouseleave.native=\"inputHovering = false\">\r\n        <template slot=\"suffix\">\r\n          <i v-show=\"!showClose\"\r\n            :class=\"['el-select__caret', 'el-input__icon', 'el-icon-arrow-up']\"></i>\r\n          <i v-if=\"showClose\" class=\"el-select__caret el-input__icon el-icon-circle-close\"\r\n            @click=\"handleClearClick\"></i>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n    <el-dialog title=\"候选人员\" :close-on-click-modal=\"false\" :visible.sync=\"visible\"\r\n      class=\"JNPF-dialog JNPF-dialog_center transfer-dialog\" lock-scroll append-to-body\r\n      width=\"800px\" :modal-append-to-body=\"false\" @close=\"onClose\">\r\n      <div class=\"transfer__body\">\r\n        <div class=\"transfer-pane\">\r\n          <div class=\"transfer-pane__tools\">\r\n            <el-input placeholder=\"请输入关键词查询\" v-model=\"listQuery.keyword\"\r\n              @keyup.enter.native=\"search\" clearable class=\"search-input\">\r\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\r\n            </el-input>\r\n          </div>\r\n          <div class=\"transfer-pane__body left-pane\">\r\n            <div class=\"custom-title\">全部数据</div>\r\n            <div class=\"single-list\" ref=\"candidate\">\r\n              <template v-if=\"list.length\">\r\n                <div v-for=\"(item,index) in list\" :key=\"index\" class=\"selected-item-user\"\r\n                  @click=\"handleNodeClick(item)\">\r\n                  <div class=\"selected-item-main\">\r\n                    <el-avatar :size=\"36\" :src=\"define.comUrl+item.headIcon\"\r\n                      class=\"selected-item-headIcon\">\r\n                    </el-avatar>\r\n                    <div class=\"selected-item-text\">\r\n                      <p class=\"name\">{{item.fullName}}</p>\r\n                      <p class=\"organize\" :title=\"item.organize\">{{item.organize}}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <el-empty description=\"暂无数据\" :image-size=\"120\" v-else></el-empty>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"transfer-pane\">\r\n          <div class=\"transfer-pane__tools\">\r\n            <span>已选</span>\r\n            <el-button @click=\"removeAll\" type=\"text\" class=\"removeAllBtn\">清空列表</el-button>\r\n          </div>\r\n          <div class=\"transfer-pane__body shadow right-pane\">\r\n            <template v-if=\"selectedData.length\">\r\n              <div v-for=\"(item,index) in selectedData\" :key=\"index\" class=\"selected-item-user\">\r\n                <div class=\"selected-item-main\">\r\n                  <el-avatar :size=\"36\" :src=\"define.comUrl+item.headIcon\"\r\n                    class=\"selected-item-headIcon\">\r\n                  </el-avatar>\r\n                  <div class=\"selected-item-text\">\r\n                    <p class=\"name\">{{item.fullName}}\r\n                      <i class=\"el-icon-delete\" @click=\"removeData(index)\"></i>\r\n                    </p>\r\n                    <p class=\"organize\" :title=\"item.organize\">{{item.organize}}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <el-empty description=\"暂无数据\" :image-size=\"120\" v-else></el-empty>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"visible=false\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"confirm\">{{$t('common.confirmButton')}}</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { CandidateUser } from '@/api/workFlow/FlowBefore'\r\nimport { getUserInfoList } from '@/api/permission/user'\r\nimport { addResizeListener, removeResizeListener } from 'element-ui/src/utils/resize-event';\r\nexport default {\r\n  name: 'CandidateUser',\r\n  inject: {\r\n    elForm: {\r\n      default: ''\r\n    },\r\n    elFormItem: {\r\n      default: ''\r\n    }\r\n  },\r\n  props: {\r\n    value: {\r\n      type: [String, Array],\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择'\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    collapseTags: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    clearable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    taskId: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    nodeId: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    formData: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    size: String,\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      innerValue: '',\r\n      loading: false,\r\n      listQuery: {\r\n        keyword: '',\r\n        currentPage: 1,\r\n        pageSize: 20,\r\n      },\r\n      total: 0,\r\n      list: [],\r\n      listLoading: true,\r\n      selectedData: [],\r\n      tagsList: [],\r\n      inputHovering: false,\r\n      inputWidth: 0,\r\n      initialInputHeight: 0,\r\n      finish: false,\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.setDefault()\r\n    },\r\n    selectDisabled() {\r\n      this.$nextTick(() => {\r\n        this.resetInputHeight();\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    showClose() {\r\n      let hasValue = this.multiple\r\n        ? Array.isArray(this.value) && this.value.length > 0\r\n        : this.value !== undefined && this.value !== null && this.value !== '';\r\n      let criteria = this.clearable &&\r\n        !this.selectDisabled &&\r\n        this.inputHovering &&\r\n        hasValue;\r\n      return criteria;\r\n    },\r\n    currentPlaceholder() {\r\n      if (this.multiple && Array.isArray(this.value) && this.value.length) {\r\n        return ''\r\n      } else {\r\n        return this.placeholder\r\n      }\r\n    },\r\n    selectDisabled() {\r\n      return this.disabled || (this.elForm || {}).disabled;\r\n    },\r\n    _elFormItemSize() {\r\n      return (this.elFormItem || {}).elFormItemSize;\r\n    },\r\n    selectSize() {\r\n      return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size;\r\n    },\r\n    collapseTagSize() {\r\n      return ['small', 'mini'].indexOf(this.selectSize) > -1\r\n        ? 'mini'\r\n        : 'small';\r\n    },\r\n  },\r\n  created() {\r\n    this.setDefault()\r\n  },\r\n  mounted() {\r\n    addResizeListener(this.$el, this.handleResize);\r\n\r\n    const reference = this.$refs.reference;\r\n    if (reference && reference.$el) {\r\n      const sizeMap = {\r\n        medium: 36,\r\n        small: 32,\r\n        mini: 28\r\n      };\r\n      const input = reference.$el.querySelector('input');\r\n      this.initialInputHeight = input.getBoundingClientRect().height || sizeMap[this.selectSize];\r\n    }\r\n    if (this.multiple) {\r\n      this.resetInputHeight();\r\n    }\r\n    this.$nextTick(() => {\r\n      if (reference && reference.$el) {\r\n        this.inputWidth = reference.$el.getBoundingClientRect().width;\r\n      }\r\n    });\r\n    this.setDefault()\r\n  },\r\n  beforeDestroy() {\r\n    if (this.$el && this.handleResize) removeResizeListener(this.$el, this.handleResize);\r\n  },\r\n  methods: {\r\n    onClose() { },\r\n    clear() {\r\n      if (this.disabled) return\r\n      this.innerValue = ''\r\n      this.selectedData = []\r\n      this.$emit('input', '')\r\n      this.$emit('change', '', '')\r\n    },\r\n    openDialog() {\r\n      if (this.disabled) return\r\n      this.visible = true\r\n      this.finish = false\r\n      this.listQuery.keyword = ''\r\n      this.$nextTick(() => {\r\n        this.bindScroll()\r\n        this.search()\r\n        this.setDefault()\r\n      })\r\n    },\r\n    confirm() {\r\n      if (this.multiple) {\r\n        this.innerValue = ''\r\n        this.tagsList = JSON.parse(JSON.stringify(this.selectedData))\r\n        let selectedIds = this.selectedData.map(o => o.id)\r\n        this.$emit('input', selectedIds)\r\n        this.$emit('change', selectedIds, this.selectedData)\r\n      } else {\r\n        if (!this.selectedData.length) {\r\n          this.innerValue = ''\r\n          this.$emit('input', '')\r\n          this.$emit('change', '', {})\r\n          this.visible = false\r\n          return\r\n        }\r\n        this.innerValue = this.selectedData[0].fullName\r\n        let selectedIds = this.selectedData.map(o => o.id)\r\n        this.$emit('input', selectedIds[0])\r\n        this.$emit('change', selectedIds[0], this.selectedData[0])\r\n      }\r\n      this.visible = false\r\n    },\r\n    bindScroll() {\r\n      let _this = this,\r\n        vBody = _this.$refs.candidate;\r\n      vBody.addEventListener(\"scroll\", function () {\r\n        if (vBody.scrollHeight - vBody.clientHeight - vBody.scrollTop <= 200 && !_this.listLoading && !_this.finish) {\r\n          _this.listQuery.currentPage += 1\r\n          _this.initData()\r\n        }\r\n      });\r\n    },\r\n    search() {\r\n      this.listQuery.currentPage = 1\r\n      this.listQuery.pageSize = 20\r\n      this.list = []\r\n      this.finish = false\r\n      this.initData()\r\n    },\r\n    initData() {\r\n      this.listLoading = true\r\n      let query = {\r\n        ...this.listQuery,\r\n        ...this.formData,\r\n        nodeCode: this.nodeId\r\n      }\r\n      CandidateUser(this.taskId || 0, query).then((res) => {\r\n        if (res.data.list.length < this.listQuery.pageSize) {\r\n          this.finish = true\r\n        }\r\n        this.list = [...this.list, ...res.data.list]\r\n        this.total = res.data.pagination.total\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    handleNodeClick(item) {\r\n      const boo = this.selectedData.some(o => o.id === item.id)\r\n      if (boo) return\r\n      this.multiple ? this.selectedData.push(item) : this.selectedData = [item]\r\n    },\r\n    removeAll() {\r\n      this.selectedData = []\r\n    },\r\n    removeData(index) {\r\n      this.selectedData.splice(index, 1)\r\n    },\r\n    setDefault() {\r\n      if (!this.value || !this.value.length) {\r\n        this.innerValue = ''\r\n        this.selectedData = []\r\n        this.tagsList = []\r\n        return\r\n      }\r\n      const arr = this.multiple ? this.value : [this.value]\r\n      getUserInfoList(arr).then(res => {\r\n        this.selectedData = res.data.list\r\n        if (this.multiple) {\r\n          this.innerValue = ''\r\n          this.tagsList = JSON.parse(JSON.stringify(this.selectedData))\r\n        } else {\r\n          this.innerValue = this.selectedData.length ? this.selectedData[0].fullName : ''\r\n        }\r\n        this.$nextTick(() => {\r\n          if (this.multiple) {\r\n            this.resetInputHeight();\r\n          }\r\n        });\r\n      })\r\n    },\r\n    deleteTag(event, index) {\r\n      this.selectedData.splice(index, 1)\r\n      this.confirm()\r\n      event.stopPropagation();\r\n    },\r\n    handleClearClick(event) {\r\n      this.selectedData = []\r\n      this.confirm()\r\n      event.stopPropagation();\r\n    },\r\n    resetInputWidth() {\r\n      this.inputWidth = this.$refs.reference.$el.getBoundingClientRect().width;\r\n    },\r\n    handleResize() {\r\n      this.resetInputWidth();\r\n      if (this.multiple) this.resetInputHeight();\r\n    },\r\n    resetInputHeight() {\r\n      if (this.collapseTags) return;\r\n      this.$nextTick(() => {\r\n        if (!this.$refs.reference) return;\r\n        let inputChildNodes = this.$refs.reference.$el.childNodes;\r\n        let input = [].filter.call(inputChildNodes, item => item.tagName === 'INPUT')[0];\r\n        const tags = this.$refs.tags;\r\n        const tagsHeight = tags ? Math.round(tags.getBoundingClientRect().height) : 0;\r\n        const sizeInMap = this.initialInputHeight || 40;\r\n        input.style.height = this.selectedData.length === 0\r\n          ? sizeInMap + 'px'\r\n          : Math.max(\r\n            tags ? (tagsHeight + (tagsHeight > sizeInMap ? 6 : 0)) : 0,\r\n            sizeInMap\r\n          ) + 'px';\r\n      });\r\n    },\r\n    resetInputWidth() {\r\n      this.inputWidth = this.$refs.reference.$el.getBoundingClientRect().width;\r\n    },\r\n    handleResize() {\r\n      this.resetInputWidth();\r\n      if (this.multiple) this.resetInputHeight();\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CandidateUserSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CandidateUserSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CandidateUserSelect.vue?vue&type=template&id=e764b834&\"\nimport script from \"./CandidateUserSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./CandidateUserSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":_vm.setting.title,\"close-on-click-modal\":false,\"visible\":_vm.visible,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":\"1000px\",\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"main\"},[_c(_vm.currentView,{ref:\"form\",tag:\"component\",attrs:{\"config\":_vm.setting},on:{\"setLoad\":_vm.setLoad,\"setCandidateLoad\":_vm.setCandidateLoad,\"setPageLoad\":_vm.setPageLoad}})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog :title=\"setting.title\" :close-on-click-modal=\"false\" :visible.sync=\"visible\"\r\n    class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body width='1000px'\r\n    destroy-on-close>\r\n    <div class=\"main\" v-loading=\"loading\">\r\n      <component :is=\"currentView\" ref=\"form\" :config=\"setting\" @setLoad=\"setLoad\"\r\n        @setCandidateLoad=\"setCandidateLoad\" @setPageLoad=\"setPageLoad\" />\r\n    </div>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { FlowBeforeInfo } from '@/api/workFlow/FlowBefore'\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentView: '',\r\n      setting: {},\r\n      flowFormInfo: {},\r\n      flowTaskInfo: {},\r\n      visible: false,\r\n      loading: false,\r\n      btnLoading: false,\r\n    }\r\n  },\r\n  methods: {\r\n    init(data) {\r\n      this.loading = true\r\n      this.setting = data\r\n      this.visible = true\r\n      this.getBeforeInfo(data)\r\n    },\r\n    getBeforeInfo(data) {\r\n      FlowBeforeInfo(data.id, { taskNodeId: data.taskNodeId, flowId: data.flowId }).then(res => {\r\n        this.flowFormInfo = res.data.flowFormInfo\r\n        this.flowTaskInfo = res.data.flowTaskInfo\r\n        data.fullName = this.flowTaskInfo.fullName\r\n        this.flowUrgent = this.flowTaskInfo.flowUrgent || 1\r\n        data.type = this.flowTaskInfo.type\r\n        data.formData = res.data.formData || {}\r\n        data.draftData = res.data.draftData || null\r\n        const formUrl = this.flowFormInfo.formType == 2 ? 'workFlow/workFlowForm/dynamicForm' : this.flowFormInfo.urlAddress ? this.flowFormInfo.urlAddress.replace(/\\s*/g, \"\") : `workFlow/workFlowForm/${this.flowFormInfo.enCode}`\r\n        this.currentView = (resolve) => require([`@/views/${formUrl}`], resolve)\r\n        data.formConf = res.data.flowFormInfo.propertyJson\r\n        if (data.opType != 1) data.readonly = true\r\n        data.formOperates = res.data.formOperates || []\r\n        if (data.opType == 0) {\r\n          for (let i = 0; i < data.formOperates.length; i++) {\r\n            data.formOperates[i].write = false\r\n          }\r\n        }\r\n        this.setting = data\r\n      }).catch(() => { this.loading = false })\r\n    },\r\n    setPageLoad(val) {\r\n      this.loading = !!val\r\n    },\r\n    setCandidateLoad(val) {\r\n      this.candidateLoading = !!val\r\n    },\r\n    setLoad(val) {\r\n      this.btnLoading = !!val\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.JNPF-dialog {\r\n  .main {\r\n    min-height: 50px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormBox.vue?vue&type=template&id=4ba418dd&scoped=true&\"\nimport script from \"./FormBox.vue?vue&type=script&lang=js&\"\nexport * from \"./FormBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormBox.vue?vue&type=style&index=0&id=4ba418dd&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ba418dd\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordList.vue?vue&type=style&index=0&id=bf07802c&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"el-zoom-in-center\"}},[_c('div',{staticClass:\"JNPF-preview-main order-form\"},[_c('div',{staticClass:\"JNPF-common-page-header\"},[_c('el-page-header',{attrs:{\"content\":_vm.title},on:{\"back\":_vm.goBack}}),_c('div',{staticClass:\"options\"},[_c('el-button',{on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))])],1)],1),_c('div',{staticClass:\"main\"},[_c('JNPF-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],attrs:{\"data\":_vm.list,\"hasNO\":false}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\",\"label\":\"序号\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"fullName\",\"label\":\"事件名称\",\"show-overflow-tooltip\":\"\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"interfaceName\",\"label\":\"接口名称\",\"show-overflow-tooltip\":\"\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"interfaceCode\",\"label\":\"接口编码\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"creatorTime\",\"label\":\"执行时间\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"toDate\")(scope.row.creatorTime,\"yyyy-MM-dd HH:mm:ss\" )))]}}])}),_c('el-table-column',{attrs:{\"label\":\"执行结果\",\"min-width\":\"200\",\"prop\":\"result\"}})],1)],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"el-zoom-in-center\">\r\n    <div class=\"JNPF-preview-main order-form\">\r\n      <div class=\"JNPF-common-page-header\">\r\n        <el-page-header @back=\"goBack\" :content=\"title\" />\r\n        <div class=\"options\">\r\n          <el-button @click=\"goBack()\">{{$t('common.cancelButton')}}</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"main\">\r\n        <JNPF-table v-loading=\"listLoading\" :data=\"list\" :hasNO=\"false\">\r\n          <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\r\n          <el-table-column prop=\"fullName\" label=\"事件名称\" show-overflow-tooltip width=\"150\" />\r\n          <el-table-column prop=\"interfaceName\" label=\"接口名称\" show-overflow-tooltip width=\"150\" />\r\n          <el-table-column prop=\"interfaceCode\" label=\"接口编码\" width=\"150\" />\r\n          <el-table-column prop=\"creatorTime\" label=\"执行时间\" width=\"100\">\r\n            <template\r\n              slot-scope=\"scope\">{{scope.row.creatorTime | toDate(\"yyyy-MM-dd HH:mm:ss\" ) }}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"执行结果\" min-width=\"200\" prop=\"result\" />\r\n        </JNPF-table>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { eventLog } from '@/api/workFlow/FlowBefore'\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      title: '',\r\n      taskNodeId: '',\r\n      listLoading: false,\r\n      list: []\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$emit('close')\r\n    },\r\n    init(id, fullName) {\r\n      this.taskNodeId = id || ''\r\n      this.title = fullName + '审批节点名称'\r\n      this.initData()\r\n    },\r\n    initData() {\r\n      this.listLoading = true\r\n      eventLog(this.taskNodeId).then(res => {\r\n        this.list = res.data.list || []\r\n        this.listLoading = false\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n.main {\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0;\r\n  ::v-deep  .el-table {\r\n    flex: 1;\r\n  }\r\n  .JNPF-common-search-box-right {\r\n    margin-right: 10px;\r\n  }\r\n  .item-on {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: -1px;\r\n    margin-top: -8px;\r\n    height: 16px;\r\n    background: #409eff;\r\n    -webkit-transition: all 0.4s;\r\n    transition: all 0.4s;\r\n    &.item-start {\r\n      left: 50%;\r\n      // &:after {\r\n      //   position: absolute;\r\n      //   top: 16px;\r\n      //   left: 0;\r\n      //   z-index: 1;\r\n      //   content: \"\";\r\n      //   width: 0;\r\n      //   height: 0;\r\n      //   border-color: #409eff transparent transparent;\r\n      //   border-width: 6px 6px 6px 0;\r\n      //   border-style: solid;\r\n      // }\r\n    }\r\n    &.item-end {\r\n      right: 50%;\r\n      // &:after {\r\n      //   position: absolute;\r\n      //   top: 16px;\r\n      //   right: 0;\r\n      //   z-index: 1;\r\n      //   content: \"\";\r\n      //   width: 0;\r\n      //   height: 0;\r\n      //   border-color: transparent #409eff;\r\n      //   border-width: 0 6px 6px 0;\r\n      //   border-style: solid;\r\n      // }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventLog.vue?vue&type=template&id=c4662e1c&\"\nimport script from \"./EventLog.vue?vue&type=script&lang=js&\"\nexport * from \"./EventLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',_vm._g(_vm._b({staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"close-on-click-modal\":false,\"modal-append-to-body\":false,\"append-to-body\":\"\",\"title\":\"加签\",\"width\":\"600px\"},on:{\"open\":_vm.onOpen,\"close\":_vm.onClose}},'el-dialog',_vm.$attrs,false),_vm.$listeners),[_c('el-form',{ref:\"hasFreeApproverForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.hasFreeApproverForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"加签人员\",\"prop\":\"freeApproverUserId\"}},[_c('JnpfUserSelect',{attrs:{\"placeholder\":\"请选择加签人员\"},model:{value:(_vm.hasFreeApproverForm.freeApproverUserId),callback:function ($$v) {_vm.$set(_vm.hasFreeApproverForm, \"freeApproverUserId\", $$v)},expression:\"hasFreeApproverForm.freeApproverUserId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"加签类型\"}},[_c('el-radio-group',{model:{value:(_vm.hasFreeApproverForm.freeApproverType),callback:function ($$v) {_vm.$set(_vm.hasFreeApproverForm, \"freeApproverType\", $$v)},expression:\"hasFreeApproverForm.freeApproverType\"}},[_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"审批前\")]),_c('el-radio-button',{attrs:{\"label\":2}},[_vm._v(\"审批后\")])],1),(_vm.hasFreeApproverForm.freeApproverType==1)?_c('div',[_vm._v(\"加签后，流程先经过加签审批人，再由我审批\")]):_c('div',[_vm._v(\"审批后加签，即表示同意该申请并增加审批人员\")])],1),(_vm.branchList.length &&_vm.hasFreeApproverForm.freeApproverType===2)?_c('el-form-item',{attrs:{\"label\":\"分支选择\",\"prop\":\"branchList\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择审批分支\",\"clearable\":\"\",\"filterable\":\"\"},on:{\"change\":_vm.onBranchChange},model:{value:(_vm.hasFreeApproverForm.branchList),callback:function ($$v) {_vm.$set(_vm.hasFreeApproverForm, \"branchList\", $$v)},expression:\"hasFreeApproverForm.branchList\"}},_vm._l((_vm.branchList),function(item){return _c('el-option',{key:item.nodeId,attrs:{\"label\":item.nodeName,\"value\":item.nodeId}})}),1)],1):_vm._e(),(_vm.hasFreeApproverForm.freeApproverType==2)?_c('div',_vm._l((_vm.hasFreeApproverForm.candidateList),function(item,i){return _c('el-form-item',{key:i,attrs:{\"label\":item.nodeName+item.label,\"prop\":'candidateList.' + i + '.value',\"rules\":item.rules}},[(item.hasCandidates)?_c('candidate-user-select',{attrs:{\"multiple\":\"\",\"placeholder\":'请选择'+item.label,\"taskId\":_vm.taskId,\"formData\":_vm.formData,\"nodeId\":item.nodeId},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_c('JnpfUserSelect',{attrs:{\"multiple\":\"\",\"placeholder\":'请选择'+item.label,\"title\":\"候选人员\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)}),1):_vm._e(),(_vm.properties&&_vm.properties.hasOpinion)?_c('el-form-item',{attrs:{\"label\":\"加签原因\",\"prop\":\"handleOpinion\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入加签原因\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.hasFreeApproverForm.handleOpinion),callback:function ($$v) {_vm.$set(_vm.hasFreeApproverForm, \"handleOpinion\", $$v)},expression:\"hasFreeApproverForm.handleOpinion\"}})],1):_vm._e(),(_vm.properties&&_vm.properties.hasOpinion)?_c('el-form-item',{attrs:{\"label\":\"加签附件\",\"prop\":\"fileList\"}},[_c('JnpfUploadFile',{attrs:{\"limit\":3},model:{value:(_vm.hasFreeApproverForm.fileList),callback:function ($$v) {_vm.$set(_vm.hasFreeApproverForm, \"fileList\", $$v)},expression:\"hasFreeApproverForm.fileList\"}})],1):_vm._e(),(_vm.properties&&_vm.properties.hasSign)?_c('el-form-item',{attrs:{\"label\":\"手写签名\",\"required\":\"\"}},[_c('div',{staticClass:\"sign-main\"},[(_vm.signImg)?_c('img',{staticClass:\"sign-img\",attrs:{\"src\":_vm.signImg,\"alt\":\"\"}}):_vm._e(),_c('div',{staticClass:\"sign-style\",on:{\"click\":_vm.addSign}},[_c('i',{staticClass:\"icon-ym icon-ym-signature add-sign\"}),(!_vm.signImg)?_c('span',{staticClass:\"sign-title\"},[_vm._v(\"手写签名\")]):_vm._e()])])]):_vm._e()],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.formConf.cancelButtonText||'取 消'))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.dataFormSubmit()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton')))])],1),(_vm.signVisible)?_c('SignImgDialog',{ref:\"SignImg\",attrs:{\"lineWidth\":3,\"userInfo\":_vm.userInfo,\"isDefault\":1},on:{\"close\":_vm.signDialog}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog v-bind=\"$attrs\" :close-on-click-modal=\"false\" :modal-append-to-body=\"false\"\r\n    append-to-body v-on=\"$listeners\" @open=\"onOpen\" @close=\"onClose\"\r\n    class=\"JNPF-dialog JNPF-dialog_center\" title=\"加签\" width=\"600px\">\r\n    <el-form ref=\"hasFreeApproverForm\" :rules=\"rules\" :model=\"hasFreeApproverForm\"\r\n      label-width=\"100px\">\r\n      <el-form-item label=\"加签人员\" prop=\"freeApproverUserId\">\r\n        <JnpfUserSelect v-model=\"hasFreeApproverForm.freeApproverUserId\" placeholder=\"请选择加签人员\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"加签类型\">\r\n        <el-radio-group v-model=\"hasFreeApproverForm.freeApproverType\">\r\n          <el-radio-button :label=\"1\">审批前</el-radio-button>\r\n          <el-radio-button :label=\"2\">审批后</el-radio-button>\r\n        </el-radio-group>\r\n        <div v-if='hasFreeApproverForm.freeApproverType==1'>加签后，流程先经过加签审批人，再由我审批</div>\r\n        <div v-else>审批后加签，即表示同意该申请并增加审批人员</div>\r\n      </el-form-item>\r\n      <el-form-item label=\"分支选择\" prop=\"branchList\"\r\n        v-if=\"branchList.length &&hasFreeApproverForm.freeApproverType===2\">\r\n        <el-select v-model=\"hasFreeApproverForm.branchList\" multiple placeholder=\"请选择审批分支\" clearable\r\n          @change=\"onBranchChange\" filterable>\r\n          <el-option v-for=\"item in branchList\" :key=\"item.nodeId\" :label=\"item.nodeName\"\r\n            :value=\"item.nodeId\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <div v-if=\"hasFreeApproverForm.freeApproverType==2\">\r\n        <el-form-item :label=\"item.nodeName+item.label\" :prop=\"'candidateList.' + i + '.value'\"\r\n          v-for=\"(item,i) in hasFreeApproverForm.candidateList\" :key=\"i\" :rules=\"item.rules\">\r\n          <candidate-user-select v-model=\"item.value\" multiple :placeholder=\"'请选择'+item.label\"\r\n            :taskId=\"taskId\" :formData=\"formData\" :nodeId=\"item.nodeId\" v-if=\"item.hasCandidates\" />\r\n          <JnpfUserSelect v-model=\"item.value\" multiple :placeholder=\"'请选择'+item.label\" title=\"候选人员\"\r\n            v-else />\r\n        </el-form-item>\r\n      </div>\r\n      <el-form-item label=\"加签原因\" prop=\"handleOpinion\" v-if=\"properties&&properties.hasOpinion\">\r\n        <el-input v-model=\"hasFreeApproverForm.handleOpinion\" placeholder=\"请输入加签原因\" type=\"textarea\"\r\n          :rows=\"4\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"加签附件\" prop=\"fileList\" v-if=\"properties&&properties.hasOpinion\">\r\n        <JnpfUploadFile v-model=\"hasFreeApproverForm.fileList\" :limit=\"3\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"手写签名\" required v-if=\"properties&&properties.hasSign\">\r\n        <div class=\"sign-main\">\r\n          <img :src=\"signImg\" alt=\"\" v-if=\"signImg\" class=\"sign-img\">\r\n          <div @click=\"addSign\" class=\"sign-style\">\r\n            <i class=\"icon-ym icon-ym-signature add-sign\"></i>\r\n            <span class=\"sign-title\" v-if=\"!signImg\">手写签名</span>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\">\r\n      <el-button @click=\"close\">{{formConf.cancelButtonText||'取 消'}}</el-button>\r\n      <el-button type=\"primary\" :loading=\"btnLoading\" @click=\"dataFormSubmit()\">\r\n        {{$t('common.confirmButton')}}</el-button>\r\n    </div>\r\n\r\n    <SignImgDialog v-if=\"signVisible\" ref=\"SignImg\" :lineWidth='3' :userInfo='userInfo'\r\n      :isDefault='1' @close=\"signDialog\" />\r\n  </el-dialog>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport { Candidates, FreeApprover } from '@/api/workFlow/FlowBefore'\r\nimport SignImgDialog from '@/components/SignImgDialog'\r\nimport CandidateUserSelect from './CandidateUserSelect'\r\nimport { mapGetters } from \"vuex\"\r\nexport default {\r\n  components: { CandidateUserSelect, SignImgDialog },\r\n  props: ['taskId', 'formData', 'properties'],\r\n  data() {\r\n    return {\r\n      key: +new Date(),\r\n      formConf: {},\r\n      currentView: '',\r\n      hasFreeApproverForm: {\r\n        freeApproverUserId: \"\",\r\n        freeApproverType: 1,\r\n        handleOpinion: '',\r\n        fileList: [],\r\n        branchList: [],\r\n        candidateList: []\r\n      },\r\n      branchList: [],\r\n      candidateType: 1,\r\n      btnLoading: false,\r\n      freeApproverUserId: '',\r\n      rules: {\r\n        freeApproverUserId: [\r\n          { required: true, message: '加签人员不能为空', trigger: 'change' }\r\n        ],\r\n        branchList: [{ required: true, message: `选择分支不能为空`, trigger: 'click' }]\r\n      },\r\n      signImg: '',\r\n      signVisible: false,\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo'])\r\n  },\r\n  methods: {\r\n    onOpen() {\r\n      this.signImg = \"\"\r\n      if (this.properties && this.properties.hasSign) this.signImg = this.userInfo.signImg\r\n      Candidates(this.taskId, this.formData).then(res => {\r\n        let data = res.data\r\n        this.candidateType = data.type\r\n        this.candidateLoading = false\r\n        this.branchList = []\r\n        if (data.type == 1) {\r\n          this.branchList = res.data.list.filter(o => o.isBranchFlow)\r\n          let list = res.data.list.filter(o => !o.isBranchFlow && o.isCandidates)\r\n          this.hasFreeApproverForm.candidateList = list.map(o => ({\r\n            ...o,\r\n            isDefault: true,\r\n            label: '审批人',\r\n            value: [],\r\n            rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n          }))\r\n          this.$nextTick(() => {\r\n            this.$refs['hasFreeApproverForm'].resetFields()\r\n          })\r\n        } else if (data.type == 2) {\r\n          let list = res.data.list.filter(o => o.isCandidates)\r\n          this.hasFreeApproverForm.candidateList = list.map(o => ({\r\n            ...o,\r\n            label: '审批人',\r\n            value: [],\r\n            rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n          }))\r\n          this.$nextTick(() => {\r\n            this.$refs['hasFreeApproverForm'].resetFields()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    onClose() {\r\n      this.$emit('update:visible', false)\r\n    },\r\n    close(e) {\r\n      this.$emit('update:visible', false)\r\n    },\r\n    onBranchChange(val) {\r\n      const defaultList = this.hasFreeApproverForm.candidateList.filter(o => o.isDefault)\r\n      if (!val.length) return this.hasFreeApproverForm.candidateList = defaultList\r\n      let list = []\r\n      for (let i = 0; i < val.length; i++) {\r\n        inner: for (let j = 0; j < this.branchList.length; j++) {\r\n          let o = this.branchList[j]\r\n          if (val[i] === o.nodeId && o.isCandidates) {\r\n            list.push({\r\n              ...o,\r\n              label: '审批人',\r\n              value: [],\r\n              rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n            })\r\n            break inner\r\n          }\r\n        }\r\n      }\r\n      this.hasFreeApproverForm.candidateList = [...defaultList, ...list]\r\n    },\r\n    dataFormSubmit() {\r\n      this.$refs['hasFreeApproverForm'].validate((valid) => {\r\n        if (!valid) return\r\n        this.btnLoading = true\r\n        let query = {\r\n          handleOpinion: this.hasFreeApproverForm.handleOpinion,\r\n          fileList: this.hasFreeApproverForm.fileList,\r\n          freeApproverType: this.hasFreeApproverForm.freeApproverType,\r\n          freeApproverUserId: this.hasFreeApproverForm.freeApproverUserId,\r\n          branchList: this.hasFreeApproverForm.branchList,\r\n          formData: this.formData.formData\r\n        }\r\n        if (this.hasFreeApproverForm.candidateList.length) {\r\n          let candidateList = {}\r\n          for (let i = 0; i < this.hasFreeApproverForm.candidateList.length; i++) {\r\n            candidateList[this.hasFreeApproverForm.candidateList[i].nodeId] = this.hasFreeApproverForm.candidateList[i].value\r\n          }\r\n          query.candidateList = candidateList\r\n        }\r\n        if (this.signImg) {\r\n          query.signImg = this.signImg\r\n        }\r\n        FreeApprover(this.taskId, query).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: res.msg,\r\n            duration: 1000,\r\n            onClose: () => {\r\n              this.btnLoading = false\r\n              this.$emit('close', true)\r\n            }\r\n          })\r\n        }).catch(() => { this.btnLoading = false })\r\n      })\r\n    },\r\n    addSign() {\r\n      this.signVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.SignImg.init()\r\n      })\r\n    },\r\n    signDialog(val) {\r\n      this.signVisible = false\r\n      if (val) {\r\n        this.signImg = val\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n::v-deep  .el-dialog__body {\r\n  padding: 30px 20px;\r\n  color: #606266;\r\n  font-size: 14px;\r\n  word-break: break-all;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HasFreeApprover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HasFreeApprover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HasFreeApprover.vue?vue&type=template&id=12eac2b4&scoped=true&\"\nimport script from \"./HasFreeApprover.vue?vue&type=script&lang=js&\"\nexport * from \"./HasFreeApprover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HasFreeApprover.vue?vue&type=style&index=0&id=12eac2b4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12eac2b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"JNPF-preview-main flow-form-main\"},[_c('div',{staticClass:\"JNPF-common-page-header\"},[(_vm.setting.fromForm)?_c('div',[_vm._v(_vm._s(_vm.title))]):_c('el-page-header',{on:{\"back\":_vm.goBack}},[_c('template',{slot:\"content\"},[_c('div',{staticClass:\"JNPF-page-header-content\"},[_vm._v(_vm._s(_vm.title))])])],2),(!_vm.loading||_vm.title)?[_c('el-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.setting.opType=='-1'),expression:\"setting.opType=='-1'\"}],attrs:{\"placement\":\"bottom\",\"trigger\":\"click\"},on:{\"command\":_vm.handleFlowUrgent}},[_c('div',{staticClass:\"flow-urgent-value\",staticStyle:{\"cursor\":\"pointer\"}},[_c('span',{staticClass:\"color-box\",style:({'background-color':_vm.flowUrgentList[_vm.selectState].color})}),_c('span',{style:({'color':_vm.flowUrgentList[_vm.selectState].color})},[_vm._v(\" \"+_vm._s(_vm.flowUrgentList[_vm.selectState].name))])]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.flowUrgentList),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item.state}},[_c('span',{staticClass:\"color-box\",style:({'background-color':item.color})}),_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.setting.opType!=='-1'),expression:\"setting.opType!=='-1'\"}],staticClass:\"flow-urgent-value\"},[_c('span',{staticClass:\"color-box\",style:({'background-color':_vm.flowUrgentList[_vm.selectState].color})}),_c('span',{style:({'color':_vm.flowUrgentList[_vm.selectState].color})},[_vm._v(_vm._s(_vm.flowUrgentList[_vm.selectState].name))])])]:_vm._e(),(!_vm.subFlowVisible)?_c('div',{staticClass:\"options\"},[(_vm.moreBtnList.length)?_c('el-dropdown',{staticClass:\"dropdown\",attrs:{\"placement\":\"bottom\"},on:{\"command\":_vm.handleMore}},[_c('el-button',{staticStyle:{\"width\":\"70px\"},attrs:{\"disabled\":_vm.allBtnDisabled}},[_vm._v(\" 更 多\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.moreBtnList),function(item,index){return _c('el-dropdown-item',{key:index,staticClass:\"dropdown-item\",attrs:{\"command\":item.key}},[_vm._v(_vm._s(item.label))])}),1)],1):_vm._e(),(_vm.setting.opType=='-1')?_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.candidateLoading,\"disabled\":_vm.allBtnDisabled},on:{\"click\":function($event){return _vm.eventLauncher('submit')}}},[_vm._v(\" \"+_vm._s(_vm.properties.submitBtnText||'提 交'))]):_vm._e(),(_vm.setting.opType == 1&&_vm.properties.hasAuditBtn)?_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.candidateLoading},on:{\"click\":function($event){return _vm.eventLauncher('audit')}}},[_vm._v(_vm._s(_vm.properties.auditBtnText||'通 过')+\" \")]):_vm._e(),(_vm.setting.opType == 0 && _vm.setting.status == 1&&(_vm.properties.hasPressBtn || _vm.properties.hasPressBtn===undefined))?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.press()}}},[_vm._v(\" \"+_vm._s(_vm.properties.pressBtnText||'催 办'))]):_vm._e(),(_vm.setting.opType == 2 && _vm.properties.hasRevokeBtn)?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.actionLauncher('recall')}}},[_vm._v(_vm._s(_vm.properties.revokeBtnText||'撤 回'))]):_vm._e(),(_vm.setting.opType == 4 && _vm.setting.status==1 && !_vm.noOperateAuth)?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.actionLauncher('cancel')}}},[_vm._v(\" 终 止\")]):_vm._e(),(!_vm.setting.hideCancelBtn)?_c('el-button',{attrs:{\"disabled\":_vm.allBtnDisabled},on:{\"click\":function($event){return _vm.goBack()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.cancelButton'))+\" \")]):_vm._e()],1):_vm._e()],2),((_vm.setting.opType==0||_vm.setting.opType==4) && _vm.activeTab==='0' &&!_vm.subFlowVisible)?_c('div',{staticClass:\"approve-result\"},[_c('div',{staticClass:\"approve-result-img\",class:_vm._f(\"flowStatus\")(_vm.flowTaskInfo.status)})]):_vm._e(),_c('el-tabs',{staticClass:\"JNPF-el_tabs\",model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[(_vm.setting.opType!='4'&&!_vm.subFlowVisible)?_c('el-tab-pane',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"info-content\",attrs:{\"label\":\"表单信息\"}},[_c('div',{staticClass:\"info-left\"},[(!_vm.subFlowVisible)?[(_vm.flowTemplateJson.nodeId)?_c('ProcessT',{attrs:{\"conf\":_vm.flowTemplateJson,\"id\":\"Process\"},on:{\"subFlow\":_vm.subFlow}}):_vm._e()]:[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.activeClick},model:{value:(_vm.subFlowTab),callback:function ($$v) {_vm.subFlowTab=$$v},expression:\"subFlowTab\"}},_vm._l((_vm.subFlowInfoList),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.flowTaskInfo.fullName,\"name\":item.flowTaskInfo.id}},[_c('Process',{attrs:{\"conf\":item.flowTemplateInfo.flowTemplateJson}})],1)}),1)]],2),_c('div',{staticClass:\"info-right\"},[_c(_vm.currentView,{ref:\"form\",tag:\"component\",attrs:{\"config\":_vm.setting},on:{\"close\":_vm.goBack,\"eventReceiver\":_vm.eventReceiver,\"setLoad\":_vm.setLoad,\"setCandidateLoad\":_vm.setCandidateLoad,\"setPageLoad\":_vm.setPageLoad}})],1)]):_vm._e(),_c('el-tab-pane',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"label\":\"流程信息\"}},[(!_vm.subFlowVisible)?[(_vm.flowTemplateJson.nodeId)?_c('Process',{attrs:{\"conf\":_vm.flowTemplateJson,\"id\":\"Process\"},on:{\"subFlow\":_vm.subFlow}}):_vm._e()]:[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.activeClick},model:{value:(_vm.subFlowTab),callback:function ($$v) {_vm.subFlowTab=$$v},expression:\"subFlowTab\"}},_vm._l((_vm.subFlowInfoList),function(item,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":item.flowTaskInfo.fullName,\"name\":item.flowTaskInfo.id}},[_c('Process',{attrs:{\"conf\":item.flowTemplateInfo.flowTemplateJson}})],1)}),1)]],2),(_vm.setting.opType!='-1')?_c('el-tab-pane',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"label\":\"流转记录\"}},[_c('recordList',{attrs:{\"list\":_vm.flowTaskOperatorRecordList,\"endTime\":_vm.endTime,\"flowId\":_vm.setting.flowId,\"opType\":_vm.setting.opType},on:{\"handelNodeLog\":_vm.handelNodeLog}})],1):_vm._e(),(_vm.setting.opType!='-1' && _vm.isSummary)?_c('el-tab-pane',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"label\":\"审批汇总\",\"name\":\"recordSummary\"}},[_c('RecordSummary',{ref:\"recordSummary\",attrs:{\"id\":_vm.setting.id,\"summaryType\":_vm.summaryType}})],1):_vm._e(),(_vm.setting.opType!='-1' && _vm.isComment)?_c('el-tab-pane',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"label\":\"流程评论\",\"name\":\"comment\"}},[_c('Comment',{ref:\"comment\",attrs:{\"id\":_vm.setting.id}})],1):_vm._e()],1),_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":_vm.eventType==='audit'?'审批通过':'审批退回',\"close-on-click-modal\":false,\"visible\":_vm.visible,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"before-close\":_vm.beforeClose,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"candidateForm\",attrs:{\"model\":_vm.candidateForm,\"label-width\":_vm.candidateForm.candidateList.length||_vm.branchList.length?'130px':'80px'}},[(_vm.eventType==='audit')?[(_vm.branchList.length)?_c('el-form-item',{attrs:{\"label\":\"分支选择\",\"prop\":\"branchList\",\"rules\":[{ required: true, message: `分支不能为空`, trigger: 'change' }]}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择审批分支\",\"clearable\":\"\"},on:{\"change\":_vm.onBranchChange},model:{value:(_vm.candidateForm.branchList),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"branchList\", $$v)},expression:\"candidateForm.branchList\"}},_vm._l((_vm.branchList),function(item){return _c('el-option',{key:item.nodeId,attrs:{\"label\":item.nodeName,\"value\":item.nodeId}})}),1)],1):_vm._e(),_vm._l((_vm.candidateForm.candidateList),function(item,i){return _c('el-form-item',{key:i,attrs:{\"label\":item.nodeName+item.label,\"prop\":'candidateList.' + i + '.value',\"rules\":item.rules}},[(item.hasCandidates)?_c('candidate-user-select',{attrs:{\"multiple\":\"\",\"placeholder\":'请选择'+item.label,\"taskId\":_vm.setting.taskId,\"formData\":_vm.formData,\"nodeId\":item.nodeId},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_c('JnpfUserSelect',{attrs:{\"multiple\":\"\",\"placeholder\":'请选择'+item.label,\"title\":\"候选人员\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)})]:_vm._e(),(_vm.properties.rejectType &&_vm.eventType!=='audit'&&_vm.showReject)?[_c('el-form-item',{attrs:{\"label\":\"退回节点\",\"prop\":\"rejectStep\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择退回节点\",\"disabled\":_vm.properties.rejectStep!==\"2\"},model:{value:(_vm.candidateForm.rejectStep),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"rejectStep\", $$v)},expression:\"candidateForm.rejectStep\"}},_vm._l((_vm.rejectList),function(item){return _c('el-option',{key:item.nodeCode,attrs:{\"label\":item.nodeName,\"value\":item.nodeCode}})}),1)],1),(_vm.properties.rejectType==3)?[_c('el-form-item',{attrs:{\"prop\":\"rejectRadio\"}},[_c('el-radio-group',{staticClass:\"form-item-content\",model:{value:(_vm.candidateForm.rejectType),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"rejectType\", $$v)},expression:\"candidateForm.rejectType\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"重新审批 \"),_c('el-tooltip',{attrs:{\"content\":\"若流程为A->B->C,C退回至A，则C->A->B->C\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question tooltip-question\"})])],1),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"直接提交给我 \"),_c('el-tooltip',{attrs:{\"content\":\"若流程为A->B->C,C退回至A，则C->A->C\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-question tooltip-question\"})])],1)],1)],1)]:_vm._e()]:_vm._e(),(_vm.properties.hasOpinion)?[_c('el-form-item',{attrs:{\"label\":\"审批意见\",\"prop\":\"handleOpinion\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入审批意见\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.candidateForm.handleOpinion),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"handleOpinion\", $$v)},expression:\"candidateForm.handleOpinion\"}}),_c('CommonWordsDialog',{ref:\"commonWordsDialog\",on:{\"change\":_vm.common}})],1),_c('el-form-item',{attrs:{\"label\":\"审批附件\",\"prop\":\"fileList\"}},[_c('JnpfUploadFile',{attrs:{\"limit\":3},model:{value:(_vm.candidateForm.fileList),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"fileList\", $$v)},expression:\"candidateForm.fileList\"}})],1)]:_vm._e(),(_vm.properties.hasSign)?_c('el-form-item',{attrs:{\"label\":\"手写签名\",\"required\":\"\"}},[_c('div',{staticClass:\"sign-main\"},[(_vm.signImg)?_c('img',{staticClass:\"sign-img\",attrs:{\"src\":_vm.signImg,\"alt\":\"\"}}):_vm._e(),_c('div',{staticClass:\"sign-style\",on:{\"click\":_vm.addSign}},[_c('i',{staticClass:\"icon-ym icon-ym-signature add-sign\"}),(!_vm.signImg)?_c('span',{staticClass:\"sign-title\"},[_vm._v(\"手写签名\")]):_vm._e()])])]):_vm._e(),(_vm.properties.isCustomCopy)?_c('el-form-item',{attrs:{\"label\":\"抄送人员\"}},[_c('JnpfUserSelect',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\"},model:{value:(_vm.copyIds),callback:function ($$v) {_vm.copyIds=$$v},expression:\"copyIds\"}})],1):_vm._e()],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.approvalBtnLoading},on:{\"click\":function($event){return _vm.handleApproval()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1)],1),_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":_vm.flowTaskInfo.completion==100?'复活':'变更',\"close-on-click-modal\":false,\"visible\":_vm.resurgenceVisible,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.resurgenceVisible=$event}}},[_c('el-form',{ref:\"resurgenceForm\",attrs:{\"label-width\":\"80px\",\"model\":_vm.resurgenceForm,\"rules\":_vm.resurgenceRules}},[_c('el-form-item',{attrs:{\"label\":_vm.flowTaskInfo.completion==100?'复活节点':'变更节点',\"prop\":\"taskNodeId\"}},[_c('el-select',{attrs:{\"placeholder\":_vm.flowTaskInfo.completion==100?'请选择复活节点':'请选择变更节点'},model:{value:(_vm.resurgenceForm.taskNodeId),callback:function ($$v) {_vm.$set(_vm.resurgenceForm, \"taskNodeId\", $$v)},expression:\"resurgenceForm.taskNodeId\"}},_vm._l((_vm.resurgenceNodeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.nodeName,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":_vm.flowTaskInfo.completion==100?'复活意见':'变更意见',\"prop\":\"handleOpinion\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请填写意见\",\"rows\":4},model:{value:(_vm.resurgenceForm.handleOpinion),callback:function ($$v) {_vm.$set(_vm.resurgenceForm, \"handleOpinion\", $$v)},expression:\"resurgenceForm.handleOpinion\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":_vm.flowTaskInfo.completion==100?'复活附件':'变更附件',\"prop\":\"fileList\"}},[_c('JnpfUploadFile',{attrs:{\"limit\":3},model:{value:(_vm.resurgenceForm.fileList),callback:function ($$v) {_vm.$set(_vm.resurgenceForm, \"fileList\", $$v)},expression:\"resurgenceForm.fileList\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.resurgenceVisible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.resurgenceBtnLoading},on:{\"click\":function($event){return _vm.handleResurgence()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1)],1),_c('print-browse',{attrs:{\"visible\":_vm.printBrowseVisible,\"id\":_vm.printTemplateId,\"formId\":_vm.setting.id,\"fullName\":_vm.setting.fullName},on:{\"update:visible\":function($event){_vm.printBrowseVisible=$event}}}),_c('candidate-form',{attrs:{\"visible\":_vm.candidateVisible,\"candidateList\":_vm.candidateList,\"branchList\":_vm.branchList,\"taskId\":_vm.setting.taskId,\"formData\":_vm.formData,\"isCustomCopy\":_vm.properties.isCustomCopy},on:{\"update:visible\":function($event){_vm.candidateVisible=$event},\"submitCandidate\":_vm.submitCandidate}}),_c('error-form',{attrs:{\"visible\":_vm.errorVisible,\"nodeList\":_vm.errorNodeList},on:{\"update:visible\":function($event){_vm.errorVisible=$event},\"submit\":_vm.handleError}}),(_vm.actionVisible)?_c('actionDialog',{ref:\"actionDialog\",attrs:{\"assignNodeList\":_vm.assignNodeList},on:{\"submit\":_vm.actionReceiver}}):_vm._e(),(_vm.suspendVisible)?_c('SuspendDialog',{ref:\"suspendDialog\",on:{\"submit\":_vm.suspendReceiver}}):_vm._e(),_c('HasFreeApprover',{attrs:{\"visible\":_vm.hasFreeApproverVisible,\"taskId\":_vm.setting.taskId,\"formData\":_vm.formData,\"properties\":_vm.properties},on:{\"update:visible\":function($event){_vm.hasFreeApproverVisible=$event},\"close\":_vm.approverDialog}}),(_vm.signVisible)?_c('SignImgDialog',{ref:\"SignImg\",attrs:{\"lineWidth\":3,\"userInfo\":_vm.userInfo,\"isDefault\":1},on:{\"close\":_vm.signDialog}}):_vm._e(),(_vm.flowBoxVisible)?_c('FlowBox',{ref:\"FlowBox\",on:{\"close\":function($event){_vm.flowBoxVisible = false}}}):_vm._e(),(_vm.printDialogVisible)?_c('PrintDialog',{ref:\"printDialog\",on:{\"change\":_vm.printBrowseHandle}}):_vm._e(),(_vm.logVisible)?_c('EventLog',{ref:\"EventLog\",on:{\"close\":function($event){_vm.logVisible = false}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- <transition name=\"el-zoom-in-center\"> -->\r\n  <div class=\"JNPF-preview-main flow-form-main\">\r\n    <div class=\"JNPF-common-page-header\">\r\n      <div v-if=\"setting.fromForm\">{{title}}</div>\r\n      <el-page-header @back=\"goBack\" v-else>\r\n        <template slot=\"content\">\r\n          <div class=\"JNPF-page-header-content\">{{title}}</div>\r\n        </template>\r\n      </el-page-header>\r\n      <template v-if=\"!loading||title\">\r\n        <el-dropdown placement=\"bottom\" @command=\"handleFlowUrgent\" trigger=\"click\"\r\n          v-show=\"setting.opType=='-1'\">\r\n          <div class=\"flow-urgent-value\" style=\"cursor:pointer\">\r\n            <span :style=\"{'background-color':flowUrgentList[selectState].color}\"\r\n              class=\"color-box\"></span>\r\n            <span :style=\"{'color':flowUrgentList[selectState].color}\">\r\n              {{flowUrgentList[selectState].name}}</span>\r\n          </div>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item v-for=\"(item,index) in flowUrgentList\" :key=\"index\"\r\n              :command=\"item.state\">\r\n              <span :style=\"{'background-color':item.color}\" class=\"color-box\">\r\n              </span>\r\n              {{item.name}}\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <div class=\"flow-urgent-value\" v-show=\"setting.opType!=='-1'\">\r\n          <span :style=\"{'background-color':flowUrgentList[selectState].color}\"\r\n            class=\"color-box\"></span>\r\n          <span\r\n            :style=\"{'color':flowUrgentList[selectState].color}\">{{flowUrgentList[selectState].name}}</span>\r\n        </div>\r\n      </template>\r\n      <div class=\"options\" v-if=\"!subFlowVisible\">\r\n        <el-dropdown class=\"dropdown\" placement=\"bottom\" @command=\"handleMore\"\r\n          v-if=\"moreBtnList.length\">\r\n          <el-button style=\"width:70px\" :disabled=\"allBtnDisabled\">\r\n            更 多<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </el-button>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item class=\"dropdown-item\" v-for=\"(item,index) in moreBtnList\" :key=\"index\"\r\n              :command=\"item.key\">{{item.label}}</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <el-button v-if=\"setting.opType=='-1'\" type=\"primary\" @click=\"eventLauncher('submit')\"\r\n          :loading=\"candidateLoading\" :disabled=\"allBtnDisabled\">\r\n          {{properties.submitBtnText||'提 交'}}</el-button>\r\n        <el-button type=\"primary\" @click=\"eventLauncher('audit')\" :loading=\"candidateLoading\"\r\n          v-if=\"setting.opType == 1&&properties.hasAuditBtn\">{{properties.auditBtnText||'通 过'}}\r\n        </el-button>\r\n        <el-button type=\"primary\" @click=\"press()\"\r\n          v-if=\"setting.opType == 0 && setting.status == 1&&(properties.hasPressBtn || properties.hasPressBtn===undefined)\">\r\n          {{properties.pressBtnText||'催 办'}}</el-button>\r\n        <el-button type=\"danger\" v-if=\"setting.opType == 2 && properties.hasRevokeBtn\"\r\n          @click=\"actionLauncher('recall')\">{{properties.revokeBtnText||'撤 回'}}</el-button>\r\n        <el-button type=\"danger\" v-if=\"setting.opType == 4 && setting.status==1 && !noOperateAuth\"\r\n          @click=\"actionLauncher('cancel')\">\r\n          终 止</el-button>\r\n        <el-button @click=\"goBack()\" v-if=\"!setting.hideCancelBtn\" :disabled=\"allBtnDisabled\">\r\n          {{$t('common.cancelButton')}}\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"approve-result\"\r\n      v-if=\"(setting.opType==0||setting.opType==4) && activeTab==='0' &&!subFlowVisible\">\r\n      <div class=\"approve-result-img\" :class=\"flowTaskInfo.status | flowStatus()\"></div>\r\n    </div>\r\n    <el-tabs class=\"JNPF-el_tabs\" v-model=\"activeTab\">\r\n      <el-tab-pane label=\"表单信息\" v-loading=\"loading\" v-if=\"setting.opType!='4'&&!subFlowVisible\" class=\"info-content\">\r\n        <div class=\"info-left\">\r\n          <template v-if=\"!subFlowVisible\">\r\n            <ProcessT :conf=\"flowTemplateJson\" id=\"Process\" v-if=\"flowTemplateJson.nodeId\"\r\n                     @subFlow='subFlow' />\r\n          </template>\r\n          <template v-else>\r\n            <el-tabs v-model=\"subFlowTab\" @tab-click=\"activeClick\" type=\"card\">\r\n              <el-tab-pane v-for=\"(item,index) in subFlowInfoList\" :key=\"index\"\r\n                           :label=\"item.flowTaskInfo.fullName\" :name=\"item.flowTaskInfo.id\">\r\n                <Process :conf=\"item.flowTemplateInfo.flowTemplateJson\" />\r\n              </el-tab-pane>\r\n            </el-tabs>\r\n          </template>\r\n        </div>\r\n        <div class=\"info-right\">\r\n          <component :is=\"currentView\" @close=\"goBack\" ref=\"form\" :config=\"setting\"\r\n                     @eventReceiver=\"eventReceiver\" @setLoad=\"setLoad\" @setCandidateLoad=\"setCandidateLoad\"\r\n                     @setPageLoad=\"setPageLoad\" />\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"流程信息\" v-loading=\"loading\">\r\n        <template v-if=\"!subFlowVisible\">\r\n          <Process :conf=\"flowTemplateJson\" id=\"Process\" v-if=\"flowTemplateJson.nodeId\"\r\n            @subFlow='subFlow' />\r\n        </template>\r\n        <template v-else>\r\n          <el-tabs v-model=\"subFlowTab\" @tab-click=\"activeClick\" type=\"card\">\r\n            <el-tab-pane v-for=\"(item,index) in subFlowInfoList\" :key=\"index\"\r\n              :label=\"item.flowTaskInfo.fullName\" :name=\"item.flowTaskInfo.id\">\r\n              <Process :conf=\"item.flowTemplateInfo.flowTemplateJson\" />\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </template>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"流转记录\" v-if=\"setting.opType!='-1'\" v-loading=\"loading\">\r\n        <recordList :list='flowTaskOperatorRecordList' :endTime='endTime' :flowId=\"setting.flowId\"\r\n          :opType=\"setting.opType\" @handelNodeLog='handelNodeLog' />\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"审批汇总\" v-if=\"setting.opType!='-1' && isSummary\" v-loading=\"loading\"\r\n        name=\"recordSummary\">\r\n        <RecordSummary :id='setting.id' :summaryType=\"summaryType\" ref=\"recordSummary\" />\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"流程评论\" v-if=\"setting.opType!='-1' && isComment\" v-loading=\"loading\"\r\n        name=\"comment\">\r\n        <Comment :id='setting.id' ref=\"comment\" />\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <el-dialog :title=\"eventType==='audit'?'审批通过':'审批退回'\" :close-on-click-modal=\"false\"\r\n      :visible.sync=\"visible\" class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body\r\n      :before-close=\"beforeClose\" width='600px'>\r\n      <el-form ref=\"candidateForm\" :model=\"candidateForm\"\r\n        :label-width=\"candidateForm.candidateList.length||branchList.length?'130px':'80px'\">\r\n        <template v-if=\"eventType==='audit'\">\r\n          <el-form-item label=\"分支选择\" prop=\"branchList\" v-if=\"branchList.length\"\r\n            :rules=\"[{ required: true, message: `分支不能为空`, trigger: 'change' }]\">\r\n            <el-select v-model=\"candidateForm.branchList\" multiple placeholder=\"请选择审批分支\" clearable\r\n              @change=\"onBranchChange\">\r\n              <el-option v-for=\"item in branchList\" :key=\"item.nodeId\" :label=\"item.nodeName\"\r\n                :value=\"item.nodeId\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item :label=\"item.nodeName+item.label\" :prop=\"'candidateList.' + i + '.value'\"\r\n            v-for=\"(item,i) in candidateForm.candidateList\" :key=\"i\" :rules=\"item.rules\">\r\n            <candidate-user-select v-model=\"item.value\" multiple :placeholder=\"'请选择'+item.label\"\r\n              :taskId=\"setting.taskId\" :formData=\"formData\" :nodeId=\"item.nodeId\"\r\n              v-if=\"item.hasCandidates\" />\r\n            <JnpfUserSelect v-model=\"item.value\" multiple :placeholder=\"'请选择'+item.label\"\r\n              title=\"候选人员\" v-else />\r\n          </el-form-item>\r\n        </template>\r\n        <template v-if=\"properties.rejectType &&eventType!=='audit'&&showReject\">\r\n          <el-form-item label=\"退回节点\" prop=\"rejectStep\">\r\n            <el-select v-model=\"candidateForm.rejectStep\" placeholder=\"请选择退回节点\"\r\n              :disabled='properties.rejectStep!==\"2\"'>\r\n              <el-option v-for=\"item in rejectList\" :key=\"item.nodeCode\" :label=\"item.nodeName\"\r\n                :value=\"item.nodeCode\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <template v-if=\"properties.rejectType==3\">\r\n            <el-form-item prop=\"rejectRadio\">\r\n              <el-radio-group v-model=\"candidateForm.rejectType\" class=\"form-item-content\">\r\n                <el-radio :label=1>重新审批\r\n                  <el-tooltip content=\"若流程为A->B->C,C退回至A，则C->A->B->C\" placement=\"top\">\r\n                    <i class=\"el-icon-question tooltip-question\"></i>\r\n                  </el-tooltip>\r\n                </el-radio>\r\n                <el-radio :label=2>直接提交给我\r\n                  <el-tooltip content=\"若流程为A->B->C,C退回至A，则C->A->C\" placement=\"top\">\r\n                    <i class=\"el-icon-question tooltip-question\"></i>\r\n                  </el-tooltip>\r\n                </el-radio>\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </template>\r\n        </template>\r\n        <template v-if=\"properties.hasOpinion\">\r\n          <el-form-item label=\"审批意见\" prop=\"handleOpinion\">\r\n            <el-input v-model=\"candidateForm.handleOpinion\" placeholder=\"请输入审批意见\" type=\"textarea\"\r\n              :rows=\"4\" />\r\n            <CommonWordsDialog ref=\"commonWordsDialog\" @change=\"common\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"审批附件\" prop=\"fileList\">\r\n            <JnpfUploadFile v-model=\"candidateForm.fileList\" :limit=\"3\" />\r\n          </el-form-item>\r\n        </template>\r\n        <el-form-item label=\"手写签名\" required v-if=\"properties.hasSign\">\r\n          <div class=\"sign-main\">\r\n            <img :src=\"signImg\" alt=\"\" v-if=\"signImg\" class=\"sign-img\">\r\n            <div @click=\"addSign\" class=\"sign-style\">\r\n              <i class=\"icon-ym icon-ym-signature add-sign\"></i>\r\n              <span class=\"sign-title\" v-if=\"!signImg\">手写签名</span>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"抄送人员\" v-if=\"properties.isCustomCopy\">\r\n          <JnpfUserSelect v-model=\"copyIds\" placeholder=\"请选择\" multiple />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"handleApproval()\" :loading=\"approvalBtnLoading\">\r\n          {{$t('common.confirmButton')}}\r\n        </el-button>\r\n      </span>\r\n\r\n    </el-dialog>\r\n    <!-- 流程节点变更复活对话框 -->\r\n    <el-dialog :title=\"flowTaskInfo.completion==100?'复活':'变更'\" :close-on-click-modal=\"false\"\r\n      :visible.sync=\"resurgenceVisible\" class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll\r\n      append-to-body width='600px'>\r\n      <el-form label-width=\"80px\" :model=\"resurgenceForm\" :rules=\"resurgenceRules\"\r\n        ref=\"resurgenceForm\">\r\n        <el-form-item :label=\"flowTaskInfo.completion==100?'复活节点':'变更节点'\" prop=\"taskNodeId\">\r\n          <el-select v-model=\"resurgenceForm.taskNodeId\"\r\n            :placeholder=\"flowTaskInfo.completion==100?'请选择复活节点':'请选择变更节点'\">\r\n            <el-option v-for=\"item in resurgenceNodeList\" :key=\"item.id\" :label=\"item.nodeName\"\r\n              :value=\"item.id\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label=\"flowTaskInfo.completion==100?'复活意见':'变更意见'\" prop=\"handleOpinion\">\r\n          <el-row>\r\n            <el-col :span=\"24\">\r\n              <el-input type=\"textarea\" v-model=\"resurgenceForm.handleOpinion\" placeholder=\"请填写意见\"\r\n                :rows=\"4\" />\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n        <el-form-item :label=\"flowTaskInfo.completion==100?'复活附件':'变更附件'\" prop=\"fileList\">\r\n          <JnpfUploadFile v-model=\"resurgenceForm.fileList\" :limit=\"3\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"resurgenceVisible = false\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"handleResurgence()\" :loading=\"resurgenceBtnLoading\">\r\n          {{$t('common.confirmButton')}}\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <print-browse :visible.sync=\"printBrowseVisible\" :id=\"printTemplateId\" :formId=\"setting.id\"\r\n      :fullName=\"setting.fullName\" />\r\n    <candidate-form :visible.sync=\"candidateVisible\" :candidateList=\"candidateList\"\r\n      :branchList=\"branchList\" :taskId=\"setting.taskId\" :formData=\"formData\"\r\n      @submitCandidate=\"submitCandidate\" :isCustomCopy=\"properties.isCustomCopy\" />\r\n    <error-form :visible.sync=\"errorVisible\" :nodeList=\"errorNodeList\" @submit=\"handleError\" />\r\n    <actionDialog v-if=\"actionVisible\" ref=\"actionDialog\" :assignNodeList=\"assignNodeList\"\r\n      @submit=\"actionReceiver\" />\r\n    <SuspendDialog v-if=\"suspendVisible\" ref=\"suspendDialog\" @submit=\"suspendReceiver\" />\r\n    <HasFreeApprover :visible.sync=\"hasFreeApproverVisible\" :taskId=\"setting.taskId\"\r\n      :formData=\"formData\" :properties=\"properties\" @close=\"approverDialog\" />\r\n    <SignImgDialog v-if=\"signVisible\" ref=\"SignImg\" :lineWidth='3' :userInfo='userInfo'\r\n      :isDefault='1' @close=\"signDialog\" />\r\n    <FlowBox v-if=\"flowBoxVisible\" ref=\"FlowBox\" @close=\"flowBoxVisible = false\" />\r\n    <PrintDialog v-if=\"printDialogVisible\" ref=\"printDialog\" @change=\"printBrowseHandle\">\r\n    </PrintDialog>\r\n    <EventLog v-if=\"logVisible\" ref=\"EventLog\" @close=\"logVisible = false\" />\r\n  </div>\r\n  <!-- </transition> -->\r\n</template>\r\n\r\n<script>\r\nimport PrintDialog from '@/components/PrintDialog'\r\nimport SignImgDialog from '@/components/SignImgDialog'\r\nimport EventLog from './EventLog'\r\nimport { FlowBeforeInfo, Audit, Reject, Transfer, Recall, Cancel, Assign, SaveAudit, Candidates, CandidateUser, Resurgence, ResurgenceList, RejectList, suspend, restore, subFlowInfo } from '@/api/workFlow/FlowBefore'\r\nimport { Revoke, Press } from '@/api/workFlow/FlowLaunch'\r\nimport { Create, Update } from '@/api/workFlow/workFlowForm'\r\nimport recordList from './RecordList'\r\nimport Comment from './Comment'\r\nimport RecordSummary from './RecordSummary'\r\nimport CandidateForm from './CandidateForm'\r\nimport ErrorForm from './ErrorForm'\r\nimport CandidateUserSelect from './CandidateUserSelect'\r\nimport Process from '@/components/Process/Preview'\r\nimport ProcessT from '@/components/Process/PreviewTransform'\r\n// import ProcessT from '@components/CompTransform/PreviewTransform'\r\nimport PrintBrowse from '@/components/PrintBrowse'\r\nimport ActionDialog from '@/views/workFlow/components/ActionDialog'\r\nimport HasFreeApprover from './HasFreeApprover'\r\nimport SuspendDialog from './SuspendDialog'\r\nimport CommonWordsDialog from './CommonWordsDialog'\r\nimport { mapGetters } from \"vuex\"\r\nexport default {\r\n  name: 'FlowBox',\r\n  components: { PrintDialog, SignImgDialog, HasFreeApprover, recordList, Process,\r\n    ProcessT,PrintBrowse, Comment, RecordSummary, CandidateForm, CandidateUserSelect, ErrorForm, ActionDialog, SuspendDialog, CommonWordsDialog, EventLog },\r\n  data() {\r\n    return {\r\n      printTemplateId: '',\r\n      printDialogVisible: false,\r\n      subFlowTab: '',\r\n      resurgenceVisible: false,\r\n      actionVisible: false,\r\n      resurgenceForm: {\r\n        taskNodeId: '',\r\n        handleOpinion: '',\r\n        fileList: []\r\n      },\r\n      resurgenceRules: {\r\n        taskNodeId: [\r\n          {\r\n            required: true,\r\n            message: '请选择节点',\r\n            trigger: 'change'\r\n          }\r\n        ],\r\n      },\r\n      logVisible: false,\r\n      previewVisible: false,\r\n      assignNodeList: [],\r\n      resurgenceNodeList: [],\r\n      currentView: '',\r\n      previewTitle: '',\r\n      formData: {},\r\n      setting: {},\r\n      monitorList: [{ fullName: '1', flowName: '1', startTime: '1', userName: '1', thisStep: '1' }, { fullName: '1', flowName: '1', startTime: '1', userName: '1', thisStep: '1' }],\r\n      flowFormInfo: {},\r\n      flowTemplateInfo: {},\r\n      flowTaskInfo: {},\r\n      flowTaskNodeList: [],\r\n      flowTemplateJson: {},\r\n      flowTaskOperatorRecordList: [],\r\n      properties: {},\r\n      endTime: 0,\r\n      suspendVisible: false,\r\n      visible: false,\r\n      handleId: '',\r\n      activeTab: '0',\r\n      isComment: false,\r\n      isSummary: false,\r\n      summaryType: 0,\r\n      loading: false,\r\n      btnLoading: false,\r\n      approvalBtnLoading: false,\r\n      resurgenceBtnLoading: false,\r\n      candidateLoading: false,\r\n      candidateVisible: false,\r\n      hasFreeApproverVisible: false,\r\n      signVisible: false,\r\n      candidateType: 1,\r\n      branchList: [],\r\n      candidateList: [],\r\n      candidateForm: {\r\n        branchList: [],\r\n        candidateList: [],\r\n        fileList: [],\r\n        handleOpinion: '',\r\n        rejectStep: '',\r\n        rejectType: 1\r\n      },\r\n      printBrowseVisible: false,\r\n      rejectList: [],\r\n      showReject: false,\r\n      eventType: '',\r\n      signImg: '',\r\n      copyIds: [],\r\n      fullName: '',\r\n      thisStep: '',\r\n      allBtnDisabled: false,\r\n      flowUrgent: 1,\r\n      flowUrgentList: [\r\n        { name: '普通', color: '#409EFF', state: 1, },\r\n        { name: '重要', color: '#E6A23C', state: 2, },\r\n        { name: '紧急', color: '#F56C6C', state: 3, },\r\n      ],\r\n      errorVisible: false,\r\n      errorNodeList: [],\r\n      isValidate: false,\r\n      moreBtnList: [],\r\n      subFlowVisible: false,\r\n      flowBoxVisible: false,\r\n      subFlowInfoList: [],\r\n      commonWordsVisible: false,\r\n      noOperateAuth: true, // 是否没有操作权限\r\n    }\r\n  },\r\n  computed: {\r\n    title() {\r\n      if ([2, 3, 4].includes(this.setting.opType)) return this.fullName\r\n      return this.thisStep ? this.fullName + '/' + this.thisStep : this.fullName\r\n    },\r\n    selectState() {\r\n      const index = this.flowUrgentList.findIndex(c => this.flowUrgent === c.state)\r\n      return index\r\n    },\r\n    ...mapGetters(['userInfo'])\r\n  },\r\n  watch: {\r\n    activeTab(val) {\r\n      if (val === 'comment') {\r\n        this.$refs.comment && this.$refs.comment.init()\r\n        this.moreBtnList.push({ label: \"评 论\", key: \"comment\" })\r\n      } else {\r\n        this.moreBtnList = this.moreBtnList.filter(o => o.key != \"comment\")\r\n      }\r\n      if (val === 'recordSummary') {\r\n        this.$refs.recordSummary && this.$refs.recordSummary.init()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    common(val) {\r\n      this.commonWordsVisible = false\r\n      if (val) {\r\n        if (this.resurgenceVisible) {\r\n          this.resurgenceForm.handleOpinion += val.commonWordsText\r\n        } else {\r\n          this.candidateForm.handleOpinion += val.commonWordsText\r\n        }\r\n\r\n      }\r\n    },\r\n    beforeClose() {\r\n      this.visible = false\r\n      this.$refs.commonWordsDialog.close()\r\n    },\r\n    // beforeClose() {\r\n    //   this.visible = false\r\n    //   this.$refs.commonWordsDialog.close()\r\n    // },\r\n    addSign() {\r\n      this.signVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.SignImg.init()\r\n      })\r\n    },\r\n    signDialog(val) {\r\n      this.signVisible = false\r\n      if (val) {\r\n        this.signImg = val\r\n      }\r\n    },\r\n    approverDialog(needClose) {\r\n      if (needClose) this.$emit('close', true)\r\n    },\r\n    handelNodeLog(item) {\r\n      this.logVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.EventLog.init(item.taskNodeId, item.nodeName)\r\n      })\r\n    },\r\n    activeClick() {\r\n      let data = this.subFlowInfoList.filter(o => o.flowTaskInfo.id == this.subFlowTab) || []\r\n      if (data.length) {\r\n        this.fullName = data[0].flowTaskInfo.fullName\r\n        this.flowTaskOperatorRecordList = data[0].flowTaskOperatorRecordList || []\r\n        let templateJson = data[0].flowTaskInfo.flowTemplateJson ? JSON.parse(data[0].flowTaskInfo.flowTemplateJson) : null\r\n        this.isComment = templateJson.properties.isComment\r\n        this.isSummary = templateJson.properties.isSummary\r\n        this.summaryType = templateJson.properties.summaryType\r\n        this.flowUrgent = data[0].flowTaskInfo.flowUrgent || 1\r\n        this.setting.id = data[0].flowTaskInfo.id\r\n      }\r\n    },\r\n    subFlow(enCode) {\r\n      let flowTaskNodeList = this.flowTaskNodeList.filter(res => res.nodeCode == enCode)\r\n      if (!flowTaskNodeList.length) return\r\n      if (!flowTaskNodeList[0].type || flowTaskNodeList[0].nodeType != 'subFlow') return\r\n      let item = {\r\n        subFlowVisible: true,\r\n        ...flowTaskNodeList,\r\n        ...this.setting,\r\n      }\r\n      if (document.getElementById('Process')) document.getElementById('Process').style.display = 'none'\r\n      this.flowBoxVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.FlowBox.init(item)\r\n      })\r\n    },\r\n    handleResurgence(errorRuleUserList) {\r\n      this.$refs['resurgenceForm'].validate((valid) => {\r\n        if (!valid) return\r\n        let query = {\r\n          ...this.resurgenceForm,\r\n          taskId: this.setting.taskId,\r\n          resurgence: this.flowTaskInfo.completion == 100\r\n        }\r\n        if (errorRuleUserList) query.errorRuleUserList = errorRuleUserList\r\n        this.resurgenceBtnLoading = true\r\n        Resurgence(query).then(res => {\r\n          const errorData = res.data\r\n          if (errorData && Array.isArray(errorData) && errorData.length) {\r\n            this.errorNodeList = errorData\r\n            this.eventType = 'resurgence'\r\n            this.errorVisible = true\r\n            this.resurgenceBtnLoading = false\r\n          } else {\r\n            this.$message({\r\n              type: 'success',\r\n              message: res.msg,\r\n              duration: 1000,\r\n              onClose: () => {\r\n                this.resurgenceBtnLoading = false\r\n                this.visible = false\r\n                this.errorVisible = false\r\n                this.$emit('close', true)\r\n              }\r\n            })\r\n          }\r\n        }).catch(() => { this.resurgenceBtnLoading = false })\r\n      })\r\n    },\r\n    flowResurgence() {\r\n      this.resurgenceVisible = true\r\n      ResurgenceList(this.setting.taskId).then(res => {\r\n        this.resurgenceNodeList = res.data\r\n      })\r\n    },\r\n    goBack(isRefresh) {\r\n      if (this.subFlowVisible) document.getElementById('Process').style.display = 'block'\r\n      this.$emit('close', isRefresh)\r\n    },\r\n    init(data) {\r\n      this.loading = true\r\n      this.activeTab = '0'\r\n      this.setting = data\r\n      if (data.subFlowVisible) {\r\n        this.subFlowInfo(data)\r\n      } else {\r\n        /**\r\n         * opType\r\n         * -1 - 我发起的新建/编辑\r\n         * 0 - 我发起的详情\r\n         * 1 - 待办事宜\r\n         * 2 - 已办事宜\r\n         * 3 - 抄送事宜\r\n         * 4 - 流程监控\r\n         */\r\n        this.getBeforeInfo(data)\r\n      }\r\n\r\n    },\r\n    getBeforeInfo(data) {\r\n      FlowBeforeInfo(data.id || 0, { taskNodeId: data.taskNodeId, taskOperatorId: data.taskId, flowId: data.flowId }).then(res => {\r\n        this.flowFormInfo = res.data.flowFormInfo\r\n        this.flowTaskInfo = res.data.flowTaskInfo || {}\r\n        this.flowTemplateInfo = res.data.flowTemplateInfo\r\n        this.noOperateAuth = res.data.noOperateAuth || false;\r\n        const fullName = data.opType == '-1' ? this.flowTemplateInfo.fullName : this.flowTaskInfo.fullName\r\n        data.fullName = fullName\r\n        this.fullName = fullName\r\n        this.thisStep = this.flowTaskInfo.thisStep\r\n        this.flowUrgent = this.flowTaskInfo.flowUrgent || 1\r\n        data.type = this.flowTemplateInfo.type\r\n        data.draftData = res.data.draftData || null\r\n        data.formData = res.data.formData || {}\r\n        data.formEnCode = this.flowFormInfo.enCode\r\n        const formUrl = this.flowFormInfo.formType == 2 ? 'workFlow/workFlowForm/dynamicForm' : this.flowFormInfo.urlAddress ? this.flowFormInfo.urlAddress.replace(/\\s*/g, \"\") : `workFlow/workFlowForm/${this.flowFormInfo.enCode}`\r\n        this.currentView = (resolve) => require([`@/views/${formUrl}`], resolve)\r\n        this.flowTaskNodeList = res.data.flowTaskNodeList || []\r\n        this.flowTemplateJson = this.flowTemplateInfo.flowTemplateJson ? JSON.parse(this.flowTemplateInfo.flowTemplateJson) : null\r\n        this.isComment = this.flowTemplateJson.properties.isComment\r\n        this.isSummary = this.flowTemplateJson.properties.isSummary\r\n        this.summaryType = this.flowTemplateJson.properties.summaryType\r\n        this.flowTaskOperatorRecordList = res.data.flowTaskOperatorRecordList || []\r\n        this.flowTaskOperatorRecordList = this.flowTaskOperatorRecordList.reverse()\r\n        this.properties = res.data.approversProperties || {}\r\n        this.candidateForm.rejectType = this.properties.rejectType == 3 ? 1 : this.properties.rejectType\r\n        this.endTime = this.flowTaskInfo.completion == 100 ? this.flowTaskInfo.endTime : 0\r\n        data.formConf = this.flowFormInfo.propertyJson\r\n        if (data.opType != 1 && data.opType != '-1') data.readonly = true\r\n        data.formOperates = res.data.formOperates || []\r\n        if (data.opType == 0) {\r\n          for (let i = 0; i < data.formOperates.length; i++) {\r\n            data.formOperates[i].write = false\r\n          }\r\n        }\r\n        data.flowTemplateJson = this.flowTemplateJson\r\n        if (this.flowTaskNodeList.length) {\r\n          let assignNodeList = []\r\n          for (let i = 0; i < this.flowTaskNodeList.length; i++) {\r\n            const nodeItem = this.flowTaskNodeList[i]\r\n            data.opType == 4 && nodeItem.type == 1 && nodeItem.nodeType === 'approver' && assignNodeList.push(nodeItem)\r\n            const loop = data => {\r\n              if (Array.isArray(data)) data.forEach(d => loop(d))\r\n              if (data.nodeId === nodeItem.nodeCode) {\r\n                if (nodeItem.type == 0) data.state = 'state-past'\r\n                if (nodeItem.type == 1) data.state = 'state-curr'\r\n                if (nodeItem.nodeType === 'approver' || nodeItem.nodeType === 'start' || nodeItem.nodeType === 'subFlow') data.content = nodeItem.userName\r\n                return\r\n              }\r\n              if (data.conditionNodes && Array.isArray(data.conditionNodes)) loop(data.conditionNodes)\r\n              if (data.childNode) loop(data.childNode)\r\n            }\r\n            loop(this.flowTemplateJson)\r\n          }\r\n          this.assignNodeList = assignNodeList\r\n        } else {\r\n          this.flowTemplateJson.state = 'state-curr'\r\n        }\r\n        this.setting = data\r\n        this.initBtnList()\r\n      }).catch(() => { this.loading = false })\r\n    },\r\n    initBtnList() {\r\n      const list = []\r\n      const setting = this.setting\r\n      const opType = this.setting.opType\r\n      const properties = this.properties\r\n      const flowTaskInfo = this.flowTaskInfo\r\n      if (opType == '-1' && !setting.hideCancelBtn) list.push({ label: properties.saveBtnText || '暂 存', key: 'save' })\r\n      if (opType == 0 && setting.status == 1 && (properties.hasRevokeBtn || properties.hasRevokeBtn === undefined)) list.push({ label: properties.revokeBtnText || '撤 回', key: 'revoke' })\r\n      if (opType != 4 && setting.id && properties.hasPrintBtn && properties.printId) list.push({ label: properties.printBtnText || '打 印', key: 'print' })\r\n      if (opType == 1) {\r\n        if (properties.hasTransferBtn) list.push({ label: properties.transferBtnText || '转 审', key: 'transfer' })\r\n        if (properties.hasSaveBtn) list.push({ label: properties.saveBtnText || '暂 存', key: 'saveAudit' })\r\n        if (properties.hasRejectBtn) list.push({ label: properties.rejectBtnText || '退 回', key: 'reject' })\r\n        if (properties.hasFreeApproverBtn) list.push({ label: properties.hasFreeApproverBtnText || '加 签', key: 'hasFreeApprover' })\r\n      }\r\n      if (opType == 4) {\r\n        if (this.noOperateAuth) return (state.moreBtnList = []);\r\n        if (flowTaskInfo.completion == 100) list.push({ label: '复 活', key: 'resurgence' })\r\n        if (flowTaskInfo.completion > 0 && flowTaskInfo.completion < 100 && !flowTaskInfo.rejectDataId && (setting.status == 1 || setting.status == 3)) list.push({ label: '变 更', key: 'resurgence' })\r\n        if (setting.status == 1 && this.assignNodeList.length) list.push({ label: '指 派', key: 'assign' })\r\n        if (flowTaskInfo.status == 1) list.push({ label: '挂 起', key: 'suspend' })\r\n        if (flowTaskInfo.status == 6 && !flowTaskInfo.suspend) list.push({ label: '恢 复', key: 'recovery' })\r\n      }\r\n      this.moreBtnList = list\r\n    },\r\n    subFlowInfo(data) {\r\n      this.loading = false\r\n      this.activeTab = '0'\r\n      this.subFlowVisible = true\r\n      subFlowInfo(data[0].id).then(res => {\r\n        this.subFlowInfoList = res.data || []\r\n        this.subFlowTab = this.subFlowInfoList[0].flowTaskInfo.id\r\n        this.flowUrgent = this.subFlowInfoList[0].flowTaskInfo.flowUrgent || 1\r\n        this.fullName = this.subFlowInfoList[0].flowTaskInfo.fullName\r\n        this.flowTaskOperatorRecordList = this.subFlowInfoList[0].flowTaskOperatorRecordList || []\r\n        this.flowTaskOperatorRecordList = this.flowTaskOperatorRecordList.reverse()\r\n        for (let index = 0; index < this.subFlowInfoList.length; index++) {\r\n          let element = this.subFlowInfoList[index];\r\n          element.flowTemplateInfo.flowTemplateJson = element.flowTemplateInfo ? JSON.parse(element.flowTemplateInfo.flowTemplateJson) : {}\r\n          if (element.flowTaskNodeList.length) {\r\n            let assignNodeList = []\r\n            for (let i = 0; i < element.flowTaskNodeList.length; i++) {\r\n              const nodeItem = element.flowTaskNodeList[i]\r\n              data.opType == 4 && nodeItem.type == 1 && nodeItem.nodeType === 'approver' && assignNodeList.push(nodeItem)\r\n              const loop = data => {\r\n                if (Array.isArray(data)) data.forEach(d => loop(d))\r\n                if (data.nodeId === nodeItem.nodeCode) {\r\n                  if (nodeItem.type == 0) data.state = 'state-past'\r\n                  if (nodeItem.type == 1) data.state = 'state-curr'\r\n                  if (nodeItem.nodeType === 'approver' || nodeItem.nodeType === 'start' || nodeItem.nodeType === 'subFlow') data.content = nodeItem.userName\r\n                  return\r\n                }\r\n                if (data.conditionNodes && Array.isArray(data.conditionNodes)) loop(data.conditionNodes)\r\n                if (data.childNode) loop(data.childNode)\r\n              }\r\n              loop(element.flowTemplateInfo.flowTemplateJson)\r\n            }\r\n            element.assignNodeList = assignNodeList\r\n          } else {\r\n            element.flowTemplateInfo.flowTemplateJson.state = 'state-curr'\r\n          }\r\n          let templateJson = this.subFlowInfoList[0].flowTaskInfo.flowTemplateJson ? JSON.parse(this.subFlowInfoList[0].flowTaskInfo.flowTemplateJson) : null\r\n          this.isComment = templateJson.properties.isComment\r\n          this.isSummary = templateJson.properties.isSummary\r\n          this.summaryType = templateJson.properties.summaryType\r\n          this.setting.id = this.subFlowInfoList[0].flowTaskInfo.id\r\n        }\r\n      }).catch(() => { this.loading = false })\r\n\r\n\r\n    },\r\n    printBrowseHandle(id) {\r\n      this.printTemplateId = id\r\n      this.printDialogVisible = false\r\n      this.printBrowseVisible = true\r\n    },\r\n    printDialog() {\r\n      this.printDialogVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.printDialog.init(this.properties.printId)\r\n      })\r\n    },\r\n    handleMore(e) {\r\n      if (e == 'revoke') return this.actionLauncher('revoke')\r\n      if (e == 'transfer') return this.actionLauncher('transfer')\r\n      if (e == 'saveAudit') return this.eventLauncher('saveAudit')\r\n      if (e == 'reject') return this.eventReceiver({}, 'reject')\r\n      if (e == 'resurgence') return this.flowResurgence()\r\n      if (e == 'assign') return this.actionLauncher('assign')\r\n      if (e == 'comment') return this.addComment()\r\n      if (e == 'print') return this.printDialog()\r\n      if (e == 'suspend') return this.suspend()\r\n      if (e == 'recovery') return this.recovery()\r\n      this.eventLauncher(e)\r\n    },\r\n    suspend() {\r\n      this.suspendVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.suspendDialog.init(this.setting.id)\r\n      })\r\n    },\r\n    recovery() {\r\n      let data = {\r\n        handleOpinion: '',\r\n        fileList: [],\r\n      }\r\n      restore(this.setting.id, data).then(res => {\r\n        this.$message({\r\n          message: res.msg,\r\n          type: 'success',\r\n          duration: 1500,\r\n          onClose: () => {\r\n            this.$emit('close', true)\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$refs.suspendDialog.btnLoading = false\r\n      })\r\n    },\r\n    suspendReceiver(dataForm) {\r\n      suspend(this.setting.id, dataForm).then(res => {\r\n        this.$message({\r\n          message: res.msg,\r\n          type: 'success',\r\n          duration: 1500,\r\n          onClose: () => {\r\n            this.$emit('close', true)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    eventLauncher(eventType) {\r\n      this.$refs.form && this.$refs.form.dataFormSubmit(eventType, this.flowUrgent)\r\n    },\r\n    eventReceiver(formData, eventType) {\r\n      this.formData = formData\r\n      this.formData.flowId = this.setting.flowId\r\n      this.formData.id = this.setting.id\r\n      this.eventType = eventType\r\n      if (eventType === 'save' || eventType === 'submit') {\r\n        return this.submitOrSave()\r\n      }\r\n      if (eventType === 'saveAudit') {\r\n        return this.saveAudit()\r\n      }\r\n      if (eventType === 'hasFreeApprover') {\r\n        return this.hasFreeApproverVisible = true\r\n      }\r\n      if (eventType === 'audit' || eventType === 'reject') {\r\n        this.handleId = ''\r\n        this.candidateForm.handleOpinion = ''\r\n        this.candidateForm.fileList = []\r\n        this.copyIds = []\r\n        this.isValidate = false\r\n        if (this.properties.hasSign) this.signImg = this.userInfo.signImg\r\n        if (eventType === 'reject') {\r\n          RejectList(this.setting.taskId).then(res => {\r\n            this.showReject = res.data.isLastAppro\r\n            this.rejectList = res.data.list || []\r\n            this.candidateForm.rejectStep = this.rejectList.length && this.rejectList[0].nodeCode || ''\r\n            if (!this.properties.hasSign && !this.properties.hasOpinion && !this.properties.isCustomCopy && !this.showReject) {\r\n              this.$confirm('此操作将退回该审批单，是否继续？', '提示', {\r\n                type: 'warning'\r\n              }).then(() => {\r\n                this.handleApproval()\r\n              }).catch(() => { });\r\n              return\r\n            }\r\n            this.isValidate = true\r\n            this.visible = true\r\n          }).catch({})\r\n          return\r\n        }\r\n        this.candidateLoading = true\r\n        Candidates(this.setting.taskId, this.formData).then(res => {\r\n          let data = res.data\r\n          this.candidateType = data.type\r\n          this.candidateLoading = false\r\n          this.candidateForm.branchList = []\r\n          this.branchList = []\r\n          if (data.type == 1) {\r\n            this.branchList = res.data.list.filter(o => o.isBranchFlow)\r\n            let list = res.data.list.filter(o => !o.isBranchFlow && o.isCandidates)\r\n            this.candidateForm.candidateList = list.map(o => ({\r\n              ...o,\r\n              isDefault: true,\r\n              label: '审批人',\r\n              value: [],\r\n              rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n            }))\r\n            this.$nextTick(() => {\r\n              this.$refs['candidateForm'].resetFields()\r\n            })\r\n            this.isValidate = true\r\n            this.visible = true\r\n          } else if (data.type == 2) {\r\n            let list = res.data.list.filter(o => o.isCandidates)\r\n            this.candidateForm.candidateList = list.map(o => ({\r\n              ...o,\r\n              label: '审批人',\r\n              value: [],\r\n              rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n            }))\r\n            this.$nextTick(() => {\r\n              this.$refs['candidateForm'].resetFields()\r\n            })\r\n            this.isValidate = true\r\n            this.visible = true\r\n          } else {\r\n            this.candidateForm.candidateList = []\r\n            if (!this.properties.hasSign && !this.properties.hasOpinion && !this.properties.hasFreeApprover && !this.properties.isCustomCopy) {\r\n              this.$confirm('此操作将通过该审批单，是否继续？', '提示', {\r\n                type: 'warning'\r\n              }).then(() => {\r\n                this.handleApproval()\r\n              }).catch(() => { });\r\n              return\r\n            }\r\n            this.isValidate = true\r\n            this.visible = true\r\n          }\r\n        }).catch(() => {\r\n          this.candidateLoading = false\r\n        })\r\n      }\r\n    },\r\n    onBranchChange(val) {\r\n      const defaultList = this.candidateForm.candidateList.filter(o => o.isDefault)\r\n      if (!val.length) return this.candidateForm.candidateList = defaultList\r\n      let list = []\r\n      for (let i = 0; i < val.length; i++) {\r\n        inner: for (let j = 0; j < this.branchList.length; j++) {\r\n          let o = this.branchList[j]\r\n          if (val[i] === o.nodeId && o.isCandidates) {\r\n            list.push({\r\n              ...o,\r\n              label: '审批人',\r\n              value: [],\r\n              rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n            })\r\n            break inner\r\n          }\r\n        }\r\n      }\r\n      this.candidateForm.candidateList = [...defaultList, ...list]\r\n    },\r\n    saveAudit() {\r\n      this.btnLoading = true\r\n      SaveAudit(this.setting.taskId, this.formData).then(res => {\r\n        this.$message({\r\n          message: res.msg,\r\n          type: 'success',\r\n          duration: 1500,\r\n          onClose: () => {\r\n            this.btnLoading = false\r\n            this.$emit('close', true)\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.btnLoading = false\r\n      })\r\n    },\r\n    submitOrSave() {\r\n      this.formData.status = this.eventType === 'submit' ? 0 : 1\r\n      this.formData.flowUrgent = this.flowUrgent\r\n      if (this.setting.delegateUserList) {//受委托人不为空的时候走委托创建流程\r\n        this.formData.delegateUserList = this.setting.delegateUserList\r\n      }\r\n\r\n      if (this.eventType === 'save') return this.handleRequest()\r\n      this.candidateLoading = true\r\n      Candidates(0, this.formData).then(res => {\r\n        let data = res.data\r\n        this.candidateLoading = false\r\n        this.candidateType = data.type\r\n        if (data.type == 1) {\r\n          this.branchList = res.data.list.filter(o => o.isBranchFlow)\r\n          this.candidateList = res.data.list.filter(o => !o.isBranchFlow && o.isCandidates)\r\n          this.candidateVisible = true\r\n        } else if (data.type == 2) {\r\n          this.branchList = []\r\n          this.candidateList = res.data.list.filter(o => o.isCandidates)\r\n          this.candidateVisible = true\r\n        } else {\r\n          if (this.properties.isCustomCopy) {\r\n            this.branchList = []\r\n            this.candidateList = []\r\n            this.candidateVisible = true\r\n            return\r\n          }\r\n          this.$confirm('您确定要提交当前流程吗, 是否继续?', '提示', {\r\n            type: 'warning'\r\n          }).then(() => {\r\n            this.handleRequest()\r\n          }).catch(() => { });\r\n        }\r\n      }).catch(() => {\r\n        this.candidateLoading = false\r\n      })\r\n    },\r\n    handleRequest(candidateData) {\r\n      if (candidateData) this.formData = { ...this.formData, ...candidateData }\r\n      this.formData.candidateType = this.candidateType\r\n      if (!this.formData.id) delete (this.formData.id)\r\n      if (this.eventType === 'save') this.btnLoading = true\r\n      this.allBtnDisabled = true\r\n      const formMethod = this.formData.id ? Update : Create\r\n      formMethod(this.formData).then(res => {\r\n        const errorData = res.data\r\n        if (errorData && Array.isArray(errorData) && errorData.length) {\r\n          this.errorNodeList = errorData\r\n          this.errorVisible = true\r\n          this.allBtnDisabled = false\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success',\r\n            duration: 1500,\r\n            onClose: () => {\r\n              if (this.eventType === 'save') this.btnLoading = false\r\n              this.candidateVisible = false\r\n              this.allBtnDisabled = false\r\n              this.errorVisible = false\r\n              this.$emit('close', true)\r\n            }\r\n          })\r\n        }\r\n      }).catch(() => {\r\n        if (this.eventType === 'save') this.btnLoading = false\r\n        this.allBtnDisabled = false\r\n        this.errorVisible = false\r\n      })\r\n    },\r\n    submitCandidate(data) {\r\n      this.handleRequest(data)\r\n    },\r\n    actionLauncher(eventType) {\r\n      this.eventType = eventType\r\n      if ((eventType === 'revoke' || eventType === 'recall') && !this.properties.hasOpinion && !this.properties.hasSign) {\r\n        const title = this.eventType == 'revoke' ? '此操作将撤回该流程，是否继续？' : '此操作将撤回该审批单，是否继续？'\r\n        this.$confirm(title, '提示', {\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.actionReceiver()\r\n        }).catch(() => { });\r\n        return\r\n      }\r\n      this.showActionDialog()\r\n    },\r\n    showActionDialog() {\r\n      this.actionVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.actionDialog.init(this.properties, this.eventType)\r\n      })\r\n    },\r\n    actionReceiver(query) {\r\n      if (!query) {\r\n        query = {\r\n          handleOpinion: '',\r\n          signImg: '',\r\n          fileList: []\r\n        }\r\n      }\r\n      const id = this.eventType == 'revoke' ? this.setting.id : this.setting.taskId\r\n      const actionMethod = this.getActionMethod()\r\n      this.approvalBtnLoading = true\r\n      actionMethod(id, query).then(res => {\r\n        this.approvalBtnLoading = false\r\n        this.$message({\r\n          type: 'success',\r\n          message: res.msg,\r\n          duration: 1000,\r\n          onClose: () => {\r\n            this.$emit('close', true)\r\n          }\r\n        })\r\n      }).catch(() => {\r\n        this.$refs.actionDialog.btnLoading = false\r\n        this.approvalBtnLoading = false\r\n      })\r\n    },\r\n    getActionMethod() {\r\n      if (this.eventType === 'transfer') return Transfer\r\n      if (this.eventType === 'assign') return Assign\r\n      if (this.eventType === 'revoke') return Revoke\r\n      if (this.eventType === 'recall') return Recall\r\n      if (this.eventType === 'cancel') return Cancel\r\n    },\r\n    press() {\r\n      this.$confirm('此操作将提示该节点尽快处理，是否继续?', '提示', {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        Press(this.setting.id).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: res.msg,\r\n            duration: 1000\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n    },\r\n    handleError(data) {\r\n      if (this.eventType === 'submit') {\r\n        this.formData.errorRuleUserList = data\r\n        this.handleRequest()\r\n        return\r\n      }\r\n      if (this.eventType === 'audit' || this.eventType === 'reject') {\r\n        this.handleApproval(data)\r\n        return\r\n      }\r\n      if (this.eventType === 'resurgence') {\r\n        this.handleResurgence(data)\r\n        return\r\n      }\r\n    },\r\n    handleApproval(errorRuleUserList) {\r\n      const handleRequest = () => {\r\n        if (this.properties.hasSign && !this.signImg) {\r\n          this.$message({\r\n            message: '请签名',\r\n            type: 'error'\r\n          })\r\n          return\r\n        }\r\n        let query = {\r\n          handleOpinion: this.candidateForm.handleOpinion,\r\n          fileList: this.candidateForm.fileList,\r\n          ...this.formData,\r\n          enCode: this.setting.enCode,\r\n          signImg: this.signImg,\r\n          copyIds: this.copyIds.join(','),\r\n          branchList: this.candidateForm.branchList,\r\n          candidateType: this.candidateType,\r\n          rejectType: this.candidateForm.rejectType\r\n        }\r\n        if (this.eventType === 'reject') query.rejectStep = this.candidateForm.rejectStep\r\n        if (errorRuleUserList) query.errorRuleUserList = errorRuleUserList\r\n        if (this.candidateForm.candidateList.length) {\r\n          let candidateList = {}\r\n          for (let i = 0; i < this.candidateForm.candidateList.length; i++) {\r\n            candidateList[this.candidateForm.candidateList[i].nodeId] = this.candidateForm.candidateList[i].value\r\n          }\r\n          query.candidateList = candidateList\r\n        }\r\n        if (this.eventType === 'audit' && this.properties.hasFreeApprover) {\r\n          query = { freeApproverUserId: this.handleId, ...query }\r\n        }\r\n        const approvalMethod = this.eventType === 'audit' ? Audit : Reject\r\n        this.approvalBtnLoading = true\r\n        approvalMethod(this.setting.taskId, query).then(res => {\r\n          const errorData = res.data\r\n          if (errorData && Array.isArray(errorData) && errorData.length) {\r\n            this.errorNodeList = errorData\r\n            this.errorVisible = true\r\n            this.approvalBtnLoading = false\r\n          } else {\r\n            this.$message({\r\n              type: 'success',\r\n              message: res.msg,\r\n              duration: 1000,\r\n              onClose: () => {\r\n                this.approvalBtnLoading = false\r\n                this.visible = false\r\n                this.errorVisible = false\r\n                this.$emit('close', true)\r\n              }\r\n            })\r\n          }\r\n        }).catch(() => { this.approvalBtnLoading = false })\r\n      }\r\n      if (!this.isValidate) return handleRequest()\r\n      this.$refs['candidateForm'].validate((valid) => {\r\n        if (valid) {\r\n          handleRequest()\r\n        }\r\n      })\r\n    },\r\n    addComment() {\r\n      this.$refs.comment && this.$refs.comment.showCommentDialog()\r\n    },\r\n    setPageLoad(val) {\r\n      this.loading = !!val\r\n    },\r\n    setCandidateLoad(val) {\r\n      this.candidateLoading = !!val\r\n      this.allBtnDisabled = !!val\r\n    },\r\n    setLoad(val) {\r\n      this.btnLoading = !!val\r\n    },\r\n    handleFlowUrgent(e) {\r\n      this.flowUrgent = e\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.flow-form-main {\r\n  .JNPF-el_tabs {\r\n    height: calc(100% - 62px);\r\n  }\r\n}\r\n\r\n.color-box {\r\n  width: 7px;\r\n  height: 7px;\r\n  display: inline-block;\r\n  border-radius: 50%;\r\n}\r\n.flow-urgent-value {\r\n  display: flex;\r\n  align-items: center;\r\n  span:first-child {\r\n    margin: 0 3px 0 10px;\r\n  }\r\n}\r\n\r\n.options {\r\n  .dropdown {\r\n    margin-right: 10px;\r\n  }\r\n  .el-button {\r\n    min-width: 70px;\r\n  }\r\n}\r\n.dropdown-item {\r\n  min-width: 70px;\r\n  text-align: center;\r\n}\r\n.subFlow_tabs {\r\n  // ::v-deep  .el-tabs__item {\r\n  //   text-align: center;\r\n  // }\r\n  // ::v-deep  .el-tabs__content {\r\n  //   padding: 0px 0 15px;\r\n  // }\r\n  height: 100%;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  /* padding: 0 10px 10px; */\r\n}\r\n.commonWords-button {\r\n  margin-top: 57px;\r\n}\r\n.JNPF-page-header-content {\r\n  max-width: 40vw;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.info-left{\r\n  width:30%;\r\n  height:2000px;\r\n}\r\n.info-right{\r\n  width:70%;\r\n}\r\n.info-content {\r\n  display: flex;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowBox.vue?vue&type=template&id=11fa54b9&scoped=true&\"\nimport script from \"./FlowBox.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlowBox.vue?vue&type=style&index=0&id=11fa54b9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11fa54b9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommonWordsDialog.vue?vue&type=style&index=0&id=27e093bf&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormBox.vue?vue&type=style&index=0&id=4ba418dd&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-popover',{ref:\"popover\",staticClass:\"popover-container\",attrs:{\"placement\":\"bottom-start\",\"width\":\"500\",\"trigger\":\"manual\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('JNPF-table',{staticClass:\"table\",attrs:{\"data\":_vm.list,\"border\":false,\"hasNO\":false,\"show-header\":false},on:{\"row-click\":_vm.rowClick}},[_c('el-table-column',{attrs:{\"label\":\"字段\",\"prop\":\"commonWordsText\",\"align\":\"left\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.commonWordsType)?_c('el-button',{staticClass:\"outline\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.addOrUpdateHandle(scope.row.id)}}}):_vm._e(),(scope.row.commonWordsType)?_c('el-button',{staticClass:\"JNPF-table-delBtn outline\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDel(scope.row.id)}}}):_vm._e()]}}])})],1),_c('div',{staticClass:\"actions\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addOrUpdateHandle()}}},[_vm._v(\" 新 增 \")])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.select()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.openDialog},slot:\"reference\"},[_vm._v(\"常用语\")])],1),_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":!this.dataForm.id?'新增审批常用语':'编辑审批常用语',\"close-on-click-modal\":false,\"width\":\"600px\",\"visible\":_vm.commonWordsVisible,\"lock-scroll\":\"\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.commonWordsVisible=$event},\"close\":function($event){return _vm.cancel()}}},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.formLoading),expression:\"formLoading\"}],ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"常用语\",\"prop\":\"commonWordsText\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入常用语\"},model:{value:(_vm.dataForm.commonWordsText),callback:function ($$v) {_vm.$set(_vm.dataForm, \"commonWordsText\", $$v)},expression:\"dataForm.commonWordsText\"}})],1),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"sortCode\"}},[_c('el-input-number',{attrs:{\"min\":0,\"max\":999999,\"controls-position\":\"right\"},model:{value:(_vm.dataForm.sortCode),callback:function ($$v) {_vm.$set(_vm.dataForm, \"sortCode\", $$v)},expression:\"dataForm.sortCode\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.dataFormBtnLoading,\"disabled\":_vm.commonBtnLoading},on:{\"click\":function($event){return _vm.dataFormSubmit(1)}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton')))]),(!this.dataForm.id)?_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.commonBtnLoading,\"disabled\":_vm.dataFormBtnLoading},on:{\"click\":function($event){return _vm.dataFormSubmit(2)}}},[_vm._v(\" 保存并新增 \")]):_vm._e()],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-popover placement=\"bottom-start\" width=\"500\" trigger=\"manual\" ref=\"popover\"\r\n      v-model=\"visible\" class=\"popover-container\">\r\n      <JNPF-table :data=\"list\" class=\"table\" :border=\"false\" @row-click=\"rowClick\" :hasNO=\"false\"\r\n        :show-header='false'>\r\n        <el-table-column label=\"字段\" prop=\"commonWordsText\" align=\"left\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" @click=\"addOrUpdateHandle(scope.row.id)\"\r\n              v-if=\"scope.row.commonWordsType\" icon=\"el-icon-edit-outline\"\r\n              class=\"outline\"></el-button>\r\n            <el-button type=\"text\" class=\"JNPF-table-delBtn outline\" icon=\"el-icon-delete\"\r\n              v-if=\"scope.row.commonWordsType\" @click=\"handleDel(scope.row.id)\"></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </JNPF-table>\r\n      <div class=\"actions\">\r\n        <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"addOrUpdateHandle()\">\r\n          新 增\r\n        </el-button>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" @click=\"select()\" :loading=\"btnLoading\">\r\n          {{$t('common.confirmButton')}}\r\n        </el-button>\r\n      </span>\r\n      <el-button slot=\"reference\" type=\"text\" @click=\"openDialog\"\r\n        icon=\"el-icon-plus\">常用语</el-button>\r\n    </el-popover>\r\n    <el-dialog :title=\"!this.dataForm.id?'新增审批常用语':'编辑审批常用语'\" :close-on-click-modal=\"false\"\r\n      width='600px' :visible.sync=\"commonWordsVisible\" class=\"JNPF-dialog JNPF-dialog_center\"\r\n      @close='cancel()' lock-scroll append-to-body>\r\n      <el-form ref=\"dataForm\" :model=\"dataForm\" :rules=\"dataRule\" v-loading=\"formLoading\"\r\n        label-width=\"100px\">\r\n        <el-form-item label=\"常用语\" prop=\"commonWordsText\">\r\n          <el-input v-model=\"dataForm.commonWordsText\" placeholder=\"输入常用语\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"排序\" prop=\"sortCode\">\r\n          <el-input-number :min=\"0\" :max=\"999999\" v-model=\"dataForm.sortCode\"\r\n            controls-position=\"right\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel()\">{{$t('common.cancelButton')}}</el-button>\r\n        <el-button type=\"primary\" :loading=\"dataFormBtnLoading\" @click=\"dataFormSubmit(1)\"\r\n          :disabled='commonBtnLoading'>\r\n          {{$t('common.confirmButton')}}</el-button>\r\n        <el-button @click=\"dataFormSubmit(2)\" type=\"primary\" v-if=\"!this.dataForm.id\"\r\n          :loading=\"commonBtnLoading\" :disabled='dataFormBtnLoading'>\r\n          保存并新增\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  getSelector,\r\n  Update,\r\n  Create,\r\n  getCommonWordsInfo,\r\n  deleteCommonWords\r\n} from '@/api/system/commonWords'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      eventType: '',\r\n      dataForm: {\r\n        systemNames: [],\r\n        systemIds: [],\r\n        commonWordsText: '',\r\n        commonWordsType: 1,\r\n        sortCode: '',\r\n        enabledMark: 1,\r\n      },\r\n      dataRule: {\r\n        commonWordsText: [\r\n          { required: true, message: '请输入常用语', trigger: 'blur' },\r\n        ],\r\n      },\r\n      list: [],\r\n      listQuery: {\r\n        keyword: '',\r\n        currentPage: 1,\r\n        pageSize: 20\r\n      },\r\n      checked: '',\r\n      checkedRow: {},\r\n      signVisible: false,\r\n      signImg: '',\r\n      btnLoading: false,\r\n      title: '',\r\n      label: '',\r\n      commonWordsVisible: false,\r\n      commonBtnLoading: false,\r\n      formLoading: false,\r\n      dataFormBtnLoading: false,\r\n      state: false\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.visible = false\r\n    },\r\n    openDialog() {\r\n      this.state = false\r\n      this.visible = true\r\n      this.initData()\r\n    },\r\n    addOrUpdateHandle(id) {\r\n      if (id) this.state = true\r\n      this.commonWordsVisible = true\r\n      this.formLoading = true\r\n      this.dataForm.id = id || 0\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].resetFields()\r\n        if (this.dataForm.id) {\r\n          getCommonWordsInfo(this.dataForm.id).then(res => {\r\n            this.dataForm = res.data || {}\r\n            this.formLoading = false\r\n          })\r\n        }\r\n        this.formLoading = false\r\n      })\r\n    },\r\n    select() {\r\n      if (this.state) return\r\n      this.$emit('input', this.checked)\r\n      this.$emit('change', this.checkedRow)\r\n      this.visible = false\r\n    },\r\n    initData() {\r\n      getSelector().then(res => {\r\n        this.list = res.data.list || []\r\n        this.listLoading = false\r\n      }).catch(() => {\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    cancel() {\r\n      this.commonWordsVisible = false\r\n      this.checked = ''\r\n      this.checkedRow = {}\r\n      this.openDialog()\r\n    },\r\n    clear() {\r\n      this.checked = ''\r\n      this.checkedRow = {}\r\n      this.$emit('input', this.checked)\r\n      this.$emit('change', this.checked, this.checkedRow)\r\n    },\r\n    closeDialog() {\r\n      this.btnLoading = false\r\n      this.visible = false\r\n    },\r\n    rowClick(row) {\r\n      console.log(222)\r\n      this.checked = row.id\r\n      this.checkedRow = row\r\n      this.select()\r\n    },\r\n    handleDel(id) {\r\n      this.state = true\r\n      this.$confirm(this.$t('common.delTip'), this.$t('common.tipTitle'), {\r\n        type: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        beforeClose: (action, instance, done) => {\r\n          if (action === 'confirm') {\r\n            instance.confirmButtonLoading = true;\r\n            setTimeout(() => {\r\n              instance.confirmButtonLoading = false;\r\n              done();\r\n            }, 1000);\r\n          } else {\r\n            this.state = false\r\n            done()\r\n          }\r\n        }\r\n      }).then(() => {\r\n        deleteCommonWords(id).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: res.msg,\r\n            duration: 1500,\r\n            onClose: () => {\r\n              this.checked = ''\r\n              this.checkedRow = {}\r\n              this.openDialog()\r\n            }\r\n          })\r\n        })\r\n      }).catch(() => { })\r\n    },\r\n    dataFormSubmit(type) {\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          if (type == 2) {\r\n            this.continueBtnLoading = true\r\n          } else {\r\n            this.dataFormBtnLoading = true\r\n          }\r\n          const formMethod = this.dataForm.id ? Update : Create\r\n          formMethod(this.dataForm).then(res => {\r\n            if (type == 2) {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success',\r\n                duration: 1500,\r\n              })\r\n              this.$nextTick(() => {\r\n                this.continueBtnLoading = false\r\n                this.$refs['dataForm'].resetFields()\r\n              })\r\n            } else {\r\n              this.$message({\r\n                message: res.msg,\r\n                type: 'success',\r\n                duration: 1500,\r\n                onClose: () => {\r\n                  this.commonWordsVisible = false\r\n                  this.commonBtnLoading = false\r\n                  this.dataFormBtnLoading = false\r\n                  this.state = false\r\n                  this.checked = ''\r\n                  this.checkedRow = {}\r\n                  this.openDialog()\r\n                }\r\n              })\r\n            }\r\n          }).catch(() => {\r\n            this.btnLoading = false\r\n            this.commonWordsVisible = false\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.outline {\r\n  font-size: 18px;\r\n}\r\n.table {\r\n  height: 219px;\r\n  overflow: auto;\r\n}\r\n.actions {\r\n  text-align: right;\r\n  margin-top: 10px;\r\n}\r\n::v-deep  .el-table tr:last-child td {\r\n  border-bottom: unset;\r\n}\r\n::v-deep  .el-table {\r\n  border-top: unset !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommonWordsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommonWordsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommonWordsDialog.vue?vue&type=template&id=27e093bf&scoped=true&\"\nimport script from \"./CommonWordsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./CommonWordsDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommonWordsDialog.vue?vue&type=style&index=0&id=27e093bf&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27e093bf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',_vm._g(_vm._b({staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":\"异常处理\",\"close-on-click-modal\":false,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":\"600px\",\"modal-append-to-body\":false},on:{\"open\":_vm.onOpen}},'el-dialog',_vm.$attrs,false),_vm.$listeners),[_c('el-form',{ref:\"dataForm\",attrs:{\"label-width\":\"100px\",\"model\":_vm.dataForm}},_vm._l((_vm.dataForm.nodeList),function(item,i){return _c('el-form-item',{key:i,attrs:{\"label\":item.nodeName,\"prop\":'nodeList.' + i + '.value',\"rules\":item.rules}},[_c('JnpfUserSelect',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择异常处理人员\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)}),1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"异常处理\" :close-on-click-modal=\"false\" class=\"JNPF-dialog JNPF-dialog_center\"\r\n    lock-scroll append-to-body v-bind=\"$attrs\" width=\"600px\" :modal-append-to-body=\"false\"\r\n    v-on=\"$listeners\" @open=\"onOpen\">\r\n    <el-form label-width=\"100px\" ref=\"dataForm\" :model=\"dataForm\">\r\n      <el-form-item :label=\"item.nodeName\" :prop=\"'nodeList.' + i + '.value'\"\r\n        v-for=\"(item,i) in dataForm.nodeList\" :key=\"i\" :rules=\"item.rules\">\r\n        <JnpfUserSelect v-model=\"item.value\" multiple placeholder=\"请选择异常处理人员\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeDialog\">{{$t('common.cancelButton')}}</el-button>\r\n      <el-button type=\"primary\" @click=\"submit()\">{{$t('common.confirmButton')}}\r\n      </el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['nodeList'],\r\n  data() {\r\n    return {\r\n      dataForm: {\r\n        nodeList: []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onOpen() {\r\n      this.dataForm.nodeList = this.nodeList.map(o => ({\r\n        ...o,\r\n        value: [],\r\n        rules: [{ required: true, message: `异常处理人员不能为空`, trigger: 'click' }]\r\n      }))\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].resetFields()\r\n      })\r\n    },\r\n    submit() {\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          let nodeList = {}\r\n          for (let i = 0; i < this.dataForm.nodeList.length; i++) {\r\n            nodeList[this.dataForm.nodeList[i].nodeId] = this.dataForm.nodeList[i].value\r\n          }\r\n          this.$emit('submit', nodeList)\r\n        }\r\n      })\r\n    },\r\n    closeDialog() {\r\n      this.$emit('update:visible', false)\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorForm.vue?vue&type=template&id=857a4d2e&\"\nimport script from \"./ErrorForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-container\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading && _vm.listQuery.currentPage==1),expression:\"listLoading && listQuery.currentPage==1\"}],ref:\"infiniteBody\",staticClass:\"comment-list\"},[(_vm.list.length)?_vm._l((_vm.list),function(item,i){return _c('div',{key:i,staticClass:\"item\"},[_c('div',{staticClass:\"head\"},[_c('el-avatar',{staticClass:\"avatar\",attrs:{\"size\":40,\"src\":_vm.define.comUrl + item.creatorUserHeadIcon}}),_c('p',{staticClass:\"username\"},[_vm._v(_vm._s(item.creatorUser))]),(item.isDel)?_c('el-link',{staticClass:\"del-btn\",attrs:{\"underline\":false,\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delComment(item.id,i)}}},[_vm._v(\"删除\")]):_vm._e(),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"toDate\")(item.creatorTime)))])],1),_c('div',{staticClass:\"content\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(item.text))]),(item.imageList.length)?_c('div',{staticClass:\"img-list\"},_vm._l((item.imageList),function(cItem,ci){return _c('el-image',{key:ci,staticClass:\"img-item\",attrs:{\"src\":_vm.define.comUrl+cItem.url,\"preview-src-list\":_vm.getImgList(item.imageList),\"z-index\":10000}})}),1):_vm._e(),(item.fileList.length)?_c('div',{staticClass:\"file-List\"},[_c('JnpfUploadFile',{attrs:{\"detailed\":\"\",\"disabled\":\"\"},model:{value:(item.fileList),callback:function ($$v) {_vm.$set(item, \"fileList\", $$v)},expression:\"item.fileList\"}})],1):_vm._e()])])}):_c('el-empty',{attrs:{\"description\":\"暂无数据\",\"image-size\":120}})],2),_c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":\"流程评论\",\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"0\"}},[_c('el-form-item',{attrs:{\"prop\":\"text\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入评论\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.dataForm.text),callback:function ($$v) {_vm.$set(_vm.dataForm, \"text\", $$v)},expression:\"dataForm.text\"}})],1),_c('el-form-item',[_c('el-upload',{ref:\"elUploadImg\",staticClass:\"upload-btn\",attrs:{\"action\":_vm.define.comUploadUrl+'/annexpic',\"headers\":_vm.uploadHeaders,\"on-success\":_vm.handleImgSuccess,\"multiple\":\"\",\"show-file-list\":false,\"accept\":\"image/*\",\"before-upload\":_vm.beforeImgUpload,\"on-exceed\":_vm.handleImgExceed,\"limit\":9}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-picture\"}},[_vm._v(\"图片\")])],1),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-upload\"},on:{\"click\":_vm.uploadFile}},[_vm._v(\"附件\")])],1),(_vm.dataForm.image.length)?_c('el-form-item',{attrs:{\"prop\":\"image\"}},[_c('div',{staticClass:\"img-list\"},_vm._l((_vm.dataForm.image),function(item,i){return _c('div',{key:i,staticClass:\"img-item\"},[_c('el-image',{attrs:{\"src\":_vm.define.comUrl+item.url,\"preview-src-list\":_vm.getImgList(_vm.dataForm.image),\"z-index\":100}}),_c('div',{staticClass:\"badge\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleImgRemove(i)}}},[_c('i',{staticClass:\"el-icon-close\"})])],1)}),0)]):_vm._e(),_c('el-form-item',{attrs:{\"prop\":\"file\"}},[_c('ul',{staticClass:\"el-upload-list el-upload-list el-upload-list--text\"},_vm._l((_vm.dataForm.file),function(file,index){return _c('li',{key:file.fileId,staticClass:\"el-upload-list__item is-success\"},[_c('a',{staticClass:\"el-upload-list__item-name\"},[_c('i',{staticClass:\"el-icon-paperclip\"}),_vm._v(\" \"+_vm._s(file.name)+_vm._s(file.fileSize?`（${_vm.jnpf.toFileSize(file.fileSize)}）`:'')+\" \")]),_c('i',{staticClass:\"el-icon-view\",attrs:{\"title\":\"查看\"},on:{\"click\":function($event){return _vm.handleFilePreview(file)}}}),_c('i',{staticClass:\"el-icon-download\",attrs:{\"title\":\"下载\"},on:{\"click\":function($event){return _vm.handleFileClick(file)}}}),_c('label',{staticClass:\"el-upload-list__item-status-label\"},[_c('i',{staticClass:\"el-icon-upload-success el-icon-circle-check\"})]),_c('i',{staticClass:\"el-icon-close\",attrs:{\"title\":\"删除\"},on:{\"click\":function($event){return _vm.handleFileRemove(index)}}})])}),0),_c('fileUploader',{ref:\"fileUploader\",attrs:{\"limit\":2,\"fileSize\":50,\"type\":\"annex\",\"accept\":_vm.fileAccept},on:{\"fileSuccess\":_vm.fileSuccess}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton'))+\" \")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.addComment()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton')))])],1)],1),_c('Preview',{attrs:{\"visible\":_vm.previewVisible,\"file\":_vm.activeFile},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-container\">\r\n    <div class=\"comment-list\" v-loading=\"listLoading && listQuery.currentPage==1\"\r\n      ref=\"infiniteBody\">\r\n      <template v-if=\"list.length\">\r\n        <div v-for=\"(item,i) in list\" :key=\"i\" class=\"item\">\r\n          <div class=\"head\">\r\n            <el-avatar :size=\"40\" :src=\"define.comUrl + item.creatorUserHeadIcon\" class=\"avatar\" />\r\n            <p class=\"username\">{{item.creatorUser}}</p>\r\n            <el-link :underline=\"false\" class=\"del-btn\" @click=\"delComment(item.id,i)\" type=\"danger\"\r\n              v-if=\"item.isDel\">删除</el-link>\r\n            <span class=\"time\">{{item.creatorTime|toDate()}}</span>\r\n          </div>\r\n          <div class=\"content\">\r\n            <p class=\"text\">{{item.text}}</p>\r\n            <div class=\"img-list\" v-if=\"item.imageList.length\">\r\n              <el-image :src=\"define.comUrl+cItem.url\" class=\"img-item\"\r\n                v-for=\"(cItem,ci) in item.imageList\" :key=\"ci\"\r\n                :preview-src-list=\"getImgList(item.imageList)\" :z-index=\"10000\">\r\n              </el-image>\r\n            </div>\r\n            <div class=\"file-List\" v-if=\"item.fileList.length\">\r\n              <JnpfUploadFile v-model=\"item.fileList\" detailed disabled></JnpfUploadFile>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <el-empty description=\"暂无数据\" :image-size=\"120\" v-else></el-empty>\r\n    </div>\r\n    <el-dialog title=\"流程评论\" :visible.sync=\"dialogVisible\" :close-on-click-modal=\"false\"\r\n      class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body width=\"600px\">\r\n      <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" label-width=\"0\">\r\n        <el-form-item prop=\"text\">\r\n          <el-input v-model=\"dataForm.text\" placeholder=\"请输入评论\" type=\"textarea\" :rows=\"4\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-upload :action=\"define.comUploadUrl+'/annexpic'\" :headers=\"uploadHeaders\"\r\n            ref=\"elUploadImg\" :on-success=\"handleImgSuccess\" multiple :show-file-list=\"false\"\r\n            accept=\"image/*\" :before-upload=\"beforeImgUpload\" :on-exceed=\"handleImgExceed\"\r\n            :limit=\"9\" class=\"upload-btn\">\r\n            <el-button size=\"small\" icon=\"el-icon-picture\">图片</el-button>\r\n          </el-upload>\r\n          <el-button size=\"small\" icon=\"el-icon-upload\" @click=\"uploadFile\">附件</el-button>\r\n        </el-form-item>\r\n        <el-form-item prop=\"image\" v-if=\"dataForm.image.length\">\r\n          <div class=\"img-list\">\r\n            <div class=\"img-item\" v-for=\"(item,i) in dataForm.image\" :key=\"i\">\r\n              <el-image :src=\"define.comUrl+item.url\" class=\"\"\r\n                :preview-src-list=\"getImgList(dataForm.image)\" :z-index=\"100\">\r\n              </el-image>\r\n              <div class=\"badge\" @click.stop=\"handleImgRemove(i)\">\r\n                <i class=\"el-icon-close\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item prop=\"file\">\r\n          <ul class=\"el-upload-list el-upload-list el-upload-list--text\">\r\n            <li class=\"el-upload-list__item is-success\" v-for=\"(file,index) in dataForm.file\"\r\n              :key=\"file.fileId\">\r\n              <a class=\"el-upload-list__item-name\">\r\n                <i class=\"el-icon-paperclip\"></i>\r\n                {{file.name}}{{file.fileSize?`（${jnpf.toFileSize(file.fileSize)}）`:''}}\r\n              </a>\r\n              <i class=\"el-icon-view\" title=\"查看\" @click=\"handleFilePreview(file)\"></i>\r\n              <i class=\"el-icon-download\" title=\"下载\" @click=\"handleFileClick(file)\"></i>\r\n              <label class=\"el-upload-list__item-status-label\">\r\n                <i class=\"el-icon-upload-success el-icon-circle-check\"></i>\r\n              </label>\r\n              <i class=\"el-icon-close\" title=\"删除\" @click=\"handleFileRemove(index)\"></i>\r\n            </li>\r\n          </ul>\r\n          <fileUploader ref=\"fileUploader\" :limit=\"2\" :fileSize=\"50\" type=\"annex\"\r\n            :accept=\"fileAccept\" @fileSuccess=\"fileSuccess\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible=false\">{{$t('common.cancelButton')}}\r\n        </el-button>\r\n        <el-button type=\"primary\" @click=\"addComment()\" :loading=\"btnLoading\">\r\n          {{$t('common.confirmButton')}}</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <Preview :visible.sync=\"previewVisible\" :file=\"activeFile\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCommentList, createComment, delComment } from '@/api/workFlow/FlowEngine'\r\nimport { getDownloadUrl } from '@/api/common'\r\nimport Preview from '@/components/Jnpf/Upload/Preview'\r\nimport FileUploader from './FileUploader'\r\n\r\nexport default {\r\n  name: 'comments',\r\n  components: { Preview, FileUploader },\r\n  props: {\r\n    id: { type: String, default: '' },\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      listQuery: {\r\n        currentPage: 1,\r\n        pageSize: 20,\r\n        sort: 'desc',\r\n        sidx: ''\r\n      },\r\n      total: 0,\r\n      listLoading: false,\r\n      btnLoading: false,\r\n      dataRule: {},\r\n      dataForm: {\r\n        text: '',\r\n        file: [],\r\n        image: [],\r\n      },\r\n      dialogVisible: false,\r\n      finish: false,\r\n      uploadHeaders: { Authorization: this.$store.getters.token },\r\n      imgUploading: false,\r\n      previewVisible: false,\r\n      fileAccept: '.xls,.xlsx,.doc,.docx,.pdf,.txt,.ppt,.pptx',\r\n      activeFile: {}\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.list = []\r\n      this.listQuery = {\r\n        currentPage: 1,\r\n        pageSize: 20,\r\n        sort: 'desc',\r\n        sidx: ''\r\n      }\r\n      this.finish = false\r\n      this.initData()\r\n      this.$nextTick(() => {\r\n        this.bindScroll()\r\n      })\r\n    },\r\n    bindScroll() {\r\n      let _this = this,\r\n        vBody = _this.$refs.infiniteBody;\r\n      vBody.addEventListener(\"scroll\", function () {\r\n        if (vBody.scrollHeight - vBody.clientHeight - vBody.scrollTop <= 600 && !_this.listLoading && !_this.finish) {\r\n          _this.listQuery.currentPage += 1\r\n          _this.initData()\r\n        }\r\n      });\r\n    },\r\n    initData() {\r\n      this.listLoading = true\r\n      let query = {\r\n        ...this.listQuery,\r\n        taskId: this.id\r\n      }\r\n      getCommentList(query).then(res => {\r\n        let list = res.data.list.map(o => ({\r\n          ...o,\r\n          fileList: o.file ? JSON.parse(o.file) : [],\r\n          imageList: o.image ? JSON.parse(o.image) : [],\r\n        }))\r\n        if (res.data.list.length < this.listQuery.pageSize) {\r\n          this.finish = true\r\n        }\r\n        this.list = [...this.list, ...list]\r\n        this.total = res.data.pagination.total\r\n        this.listLoading = false\r\n      }).catch(() => {\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    showCommentDialog() {\r\n      this.dialogVisible = true\r\n      this.dataForm.image = []\r\n      this.dataForm.file = []\r\n      this.$nextTick(() => {\r\n        this.$refs.elUploadImg.uploadFiles = []\r\n        this.$refs['dataForm'].resetFields()\r\n      })\r\n    },\r\n    getImgList(list) {\r\n      const newList = list.map(o => this.define.comUrl + o.url)\r\n      return newList\r\n    },\r\n    addComment() {\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.btnLoading = true\r\n          let query = {\r\n            text: this.dataForm.text,\r\n            file: JSON.stringify(this.dataForm.file),\r\n            image: JSON.stringify(this.dataForm.image),\r\n            taskId: this.id\r\n          }\r\n          createComment(query).then(res => {\r\n            this.$message({\r\n              message: res.msg,\r\n              type: 'success',\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.dialogVisible = false\r\n                this.btnLoading = false\r\n                this.init()\r\n              }\r\n            })\r\n          }).catch(() => { this.btnLoading = false })\r\n        }\r\n      })\r\n    },\r\n    delComment(id, index) {\r\n      this.$confirm(this.$t('common.delTip'), this.$t('common.tipTitle'), {\r\n        type: 'warning'\r\n      }).then(() => {\r\n        delComment(id).then(res => {\r\n          this.list.splice(index, 1)\r\n          this.$message({\r\n            type: 'success',\r\n            message: res.msg\r\n          })\r\n        })\r\n      }).catch(() => { });\r\n    },\r\n    beforeImgUpload(file) {\r\n      let isRightSize = file.size < 50 * 1024 * 1024\r\n      if (!isRightSize) {\r\n        this.$message.error(`图片大小超过50MB`)\r\n        return isRightSize;\r\n      }\r\n      let isAccept = new RegExp('image/*').test(file.type)\r\n      if (!isAccept) {\r\n        this.$message.error(`请上传图片`)\r\n        return isAccept;\r\n      }\r\n      if (isRightSize && isAccept) this.imgUploading = true\r\n      return isRightSize && isAccept;\r\n    },\r\n    handleImgSuccess(res, file, fileList) {\r\n      if (res.code == 200) {\r\n        this.dataForm.image.push({\r\n          name: file.name,\r\n          fileId: res.data.name,\r\n          url: res.data.url\r\n        })\r\n      } else {\r\n        this.$refs.elUploadImg.uploadFiles.splice(fileList.length - 1, 1)\r\n        fileList.filter(o => o.uid != file.uid)\r\n        this.$message({ message: res.msg, type: 'error', duration: 1500 })\r\n      }\r\n      this.imgUploading = false\r\n    },\r\n    handleImgExceed(files, fileList) {\r\n      this.$message.warning(`当前限制最多可以上传9张图片`)\r\n    },\r\n    handleImgRemove(index) {\r\n      this.dataForm.image.splice(index, 1)\r\n      this.$refs.elUploadImg.uploadFiles.splice(index, 1)\r\n    },\r\n    uploadFile() {\r\n      const isTopLimit = this.dataForm.file.length >= 2\r\n      if (isTopLimit) {\r\n        this.$message.error(`当前限制最多可以上传2个文件`)\r\n        return false\r\n      }\r\n      this.$refs.fileUploader && this.$refs.fileUploader.openUploader()\r\n    },\r\n    fileSuccess(data) {\r\n      const isTopLimit = this.dataForm.file.length >= 2\r\n      if (isTopLimit) {\r\n        this.$message.error(`当前限制最多可以上传2个文件`)\r\n        return false\r\n      }\r\n      this.dataForm.file.push(data)\r\n    },\r\n    handleFileRemove(index) {\r\n      this.dataForm.file.splice(index, 1)\r\n    },\r\n    handleFileClick(file) {\r\n      if (!file.fileId) return\r\n      getDownloadUrl('annex', file.fileId).then(res => {\r\n        this.jnpf.downloadFile(res.data.url, file.name)\r\n      })\r\n    },\r\n    handleFilePreview(file) {\r\n      this.activeFile = file\r\n      this.previewVisible = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.comment-container {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  .comment-list {\r\n    height: 100%;\r\n    overflow: auto;\r\n    .item {\r\n      padding: 0 30px;\r\n      margin-bottom: 20px;\r\n      .head {\r\n        display: flex;\r\n        align-items: center;\r\n        .avatar {\r\n          flex-shrink: 0;\r\n          margin-right: 20px;\r\n        }\r\n        .username {\r\n          line-height: 40px;\r\n          color: #333;\r\n          flex: 1;\r\n        }\r\n        .head-right {\r\n          flex-shrink: 0;\r\n        }\r\n        .time {\r\n          flex-shrink: 0;\r\n          font-size: 14px;\r\n          color: #666;\r\n          margin-left: 20px;\r\n        }\r\n      }\r\n\r\n      .content {\r\n        font-size: 14px;\r\n        padding-left: 60px;\r\n        .text {\r\n          line-height: 30px;\r\n          color: #666;\r\n        }\r\n        .img-list {\r\n          margin-top: 6px;\r\n          .img-item {\r\n            width: 80px;\r\n            height: 80px;\r\n            overflow: hidden;\r\n            margin: 0 6px 6px 0;\r\n            // border: 1px solid #c0ccda;\r\n            border-radius: 6px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.JNPF-dialog {\r\n  .upload-btn {\r\n    display: inline-block;\r\n    margin-right: 20px;\r\n  }\r\n  .img-list {\r\n    display: flex;\r\n\r\n    .img-item {\r\n      width: 40px;\r\n      height: 40px;\r\n      position: relative;\r\n      margin-right: 10px;\r\n      .el-image {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .badge {\r\n        background-color: #f56c6c;\r\n        border-radius: 10px;\r\n        color: #fff;\r\n        display: block;\r\n        font-size: 12px;\r\n        height: 18px;\r\n        width: 18px;\r\n        line-height: 18px;\r\n        text-align: center;\r\n        border: 1px solid #fff;\r\n        position: absolute;\r\n        right: -9px;\r\n        top: -9px;\r\n        cursor: pointer;\r\n        z-index: 10001;\r\n      }\r\n    }\r\n  }\r\n  .el-upload-list__item {\r\n    .el-upload-list__item-name {\r\n      margin-right: 70px;\r\n      .el-icon-paperclip {\r\n        line-height: 25px;\r\n      }\r\n    }\r\n    .el-icon-download {\r\n      display: inline-block;\r\n      position: absolute;\r\n      top: 5px;\r\n      right: 25px;\r\n      cursor: pointer;\r\n      opacity: 0.75;\r\n      color: #606266;\r\n    }\r\n    .el-icon-view {\r\n      display: inline-block;\r\n      position: absolute;\r\n      top: 5px;\r\n      right: 45px;\r\n      cursor: pointer;\r\n      opacity: 0.75;\r\n      color: #606266;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=c5a4ca64&scoped=true&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&id=c5a4ca64&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5a4ca64\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\n// 获取流程发起列表\r\nexport function FlowLaunchList(data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowLaunch`,\r\n    method: 'get',\r\n    data\r\n  })\r\n}\r\n// 删除流程发起\r\nexport function Delete(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowLaunch/${id}`,\r\n    method: 'DELETE'\r\n  })\r\n}\r\n// 撤回流程发起\r\nexport function Revoke(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowLaunch/${id}/Actions/Withdraw`,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\n// 发起催办\r\nexport function Press(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowLaunch/Press/${id}`,\r\n    method: 'post'\r\n  })\r\n}","import request from '@/utils/request'\r\n\r\n// 新建表单\r\nexport function Create(data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowTask`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 修改表单\r\nexport function Update(data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowTask/${data.id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:{'hasDefault': !!_vm.value.length},attrs:{\"id\":\"common-file-uploader\"}},[_c('uploader',{ref:\"uploader\",staticClass:\"uploader-app\",attrs:{\"options\":_vm.options,\"autoStart\":false,\"file-status-text\":_vm.statusText},on:{\"file-added\":_vm.onFileAdded,\"file-success\":_vm.onFileSuccess,\"file-progress\":_vm.onFileProgress,\"file-error\":_vm.onFileError,\"complete\":_vm.onComplete}},[_c('uploader-unsupport'),_c('uploader-btn',{ref:\"uploadBtn\",attrs:{\"id\":\"file-uploader-btn\",\"attrs\":_vm.attrs}},[_vm._v(\"选择文件\")]),_c('uploader-list',{scopedSlots:_vm._u([{key:\"default\",fn:function({ fileList }){return [_c('ul',{staticClass:\"el-upload-list el-upload-list el-upload-list--text\"},_vm._l((fileList),function(file){return _c('li',{key:file.id,staticClass:\"el-upload-list__item\"},[_c('uploader-file',{ref:\"files\",refInFor:true,class:'file_' + file.id,attrs:{\"file\":file,\"list\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('FileItem',{attrs:{\"file\":props.file,\"list\":props.list}})]}}],null,true)})],1)}),0)]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"common-file-uploader\" :class=\"{'hasDefault': !!value.length}\">\r\n    <uploader ref=\"uploader\" :options=\"options\" :autoStart=\"false\" @file-added=\"onFileAdded\"\r\n      @file-success=\"onFileSuccess\" @file-progress=\"onFileProgress\" @file-error=\"onFileError\"\r\n      class=\"uploader-app\" @complete=\"onComplete\" :file-status-text=\"statusText\">\r\n      <uploader-unsupport></uploader-unsupport>\r\n      <uploader-btn id=\"file-uploader-btn\" ref=\"uploadBtn\" :attrs=\"attrs\">选择文件</uploader-btn>\r\n      <uploader-list>\r\n        <template slot-scope=\"{ fileList }\">\r\n          <ul class=\"el-upload-list el-upload-list el-upload-list--text\">\r\n            <li class=\"el-upload-list__item\" v-for=\"file in fileList\" :key=\"file.id\">\r\n              <uploader-file :class=\"'file_' + file.id\" ref=\"files\" :file=\"file\" :list=\"true\">\r\n                <template slot-scope=\"props\">\r\n                  <FileItem :file=\"props.file\" :list=\"props.list\" />\r\n                </template>\r\n              </uploader-file>\r\n            </li>\r\n          </ul>\r\n        </template>\r\n      </uploader-list>\r\n    </uploader>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { chunkMerge } from '@/api/common'\r\nimport uploadMixin from '@/components/Jnpf/Upload/vue-simple-uploader/mixin'\r\n\r\nconst units = {\r\n  KB: 1024,\r\n  MB: 1024 * 1024,\r\n  GB: 1024 * 1024 * 1024\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'annex'\r\n    },\r\n    limit: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: '*'\r\n    },\r\n    sizeUnit: {\r\n      type: String,\r\n      default: 'MB'\r\n    },\r\n    fileSize: {\r\n      default: 5\r\n    }\r\n  },\r\n  mixins: [uploadMixin],\r\n  data() {\r\n    return {\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    acceptText() {\r\n      let txt = ''\r\n      switch (this.accept) {\r\n        case 'image/*':\r\n          txt = '图片'\r\n          break;\r\n        case 'video/*':\r\n          txt = '视频'\r\n          break;\r\n        case 'audio/*':\r\n          txt = '音频'\r\n          break;\r\n        case '.xls,.xlsx':\r\n          txt = 'excel'\r\n          break;\r\n        case '.doc,.docx':\r\n          txt = 'word'\r\n          break;\r\n        case '.pdf':\r\n          txt = 'pdf'\r\n          break;\r\n        case '.txt':\r\n          txt = 'txt'\r\n          break;\r\n        default:\r\n          txt = ''\r\n          break;\r\n      }\r\n      return txt\r\n    },\r\n  },\r\n  methods: {\r\n    beforeUpload(file) {\r\n      const isTopLimit = this.limit ? this.value.length >= this.limit : false\r\n      if (isTopLimit) {\r\n        this.$message.error(`当前限制最多可以上传${this.limit}个文件`)\r\n        return false\r\n      }\r\n      const unitNum = units[this.sizeUnit]\r\n      let isRightSize = this.fileSize ? file.size / unitNum < this.fileSize : true\r\n      if (!isRightSize) {\r\n        this.$message.error(`文件大小超过${this.fileSize}${this.sizeUnit}`)\r\n        return isRightSize\r\n      }\r\n      let extension = file.getExtension()\r\n      let isAccept = this.accept.indexOf(extension) > -1\r\n      if (!isAccept) {\r\n        this.$message.error(`请选择${this.accept}类型的文件`)\r\n        return isAccept\r\n      }\r\n      return true\r\n    },\r\n    handelSuccess(file) {\r\n      const form = new FormData()\r\n      form.append('identifier', file.uniqueIdentifier)\r\n      form.append('fileName', file.name)\r\n      form.append('fileSize', file.size)\r\n      form.append('fileType', file.getType())\r\n      form.append('extension', file.getExtension())\r\n      form.append('type', this.type)\r\n      chunkMerge(form).then(res => {\r\n        // 自定义完成状态\r\n        this.$set(file, 'customCompleted', true)\r\n        let data = {\r\n          name: file.name,\r\n          fileId: res.data.name,\r\n          fileSize: res.data.fileSize,\r\n          fileExtension: res.data.fileExtension,\r\n          fileVersionId: res.data.fileVersionId,\r\n          url: res.data.url\r\n        }\r\n        this.$emit('fileSuccess', data)\r\n        file.cancel()\r\n      }).catch(() => {\r\n        file.cancel()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#common-file-uploader {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-size: 0;\r\n  &.hasDefault {\r\n    .el-upload-list__item:first-child {\r\n      margin-top: 5px;\r\n    }\r\n  }\r\n  .el-upload-list {\r\n    ::v-deep  .uploader-file {\r\n      border-bottom: none;\r\n      height: 25px !important;\r\n      line-height: 25px;\r\n      &:hover {\r\n        background-color: #f5f7fa;\r\n      }\r\n    }\r\n  }\r\n  ::v-deep  .uploader-file-icon {\r\n    &:before {\r\n      content: '' !important;\r\n    }\r\n  }\r\n  ::v-deep  .uploader-file-actions > span {\r\n    margin-right: 6px;\r\n  }\r\n}\r\n/* 隐藏上传按钮 */\r\n#file-uploader-btn {\r\n  position: absolute;\r\n  clip: rect(0, 0, 0, 0);\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUploader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUploader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileUploader.vue?vue&type=template&id=206885ba&scoped=true&\"\nimport script from \"./FileUploader.vue?vue&type=script&lang=js&\"\nexport * from \"./FileUploader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileUploader.vue?vue&type=style&index=0&id=206885ba&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"206885ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tabs',{staticClass:\"recordSummary\",staticStyle:{\"height\":\"100%\"},attrs:{\"tab-position\":\"left\"},model:{value:(_vm.activeTab),callback:function ($$v) {_vm.activeTab=$$v},expression:\"activeTab\"}},[_c('el-tab-pane',{attrs:{\"label\":\"按部门汇总\",\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":\"按岗位汇总\",\"name\":\"3\"}}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"recordSummary-list\"},[(_vm.list.length)?_vm._l((_vm.list),function(item,i){return _c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.list&&item.list.length),expression:\"item.list&&item.list.length\"}],key:i,staticClass:\"recordSummary-item\"},[_c('div',{staticClass:\"recordSummary-item-main\"},[_c('div',{staticClass:\"cap\"},[_vm._v(_vm._s(item.fullName)+\"意见\")]),_c('div',{staticClass:\"content\"},_vm._l((item.list),function(child,j){return _c('div',{key:j,staticClass:\"child-item\"},[_c('div',{staticClass:\"child-item-block\"},[_c('div',{staticClass:\"avatar\"},[_c('el-avatar',{attrs:{\"src\":_vm.define.comUrl+child.headIcon}})],1),_c('div',{staticClass:\"child-item-title\"},[_c('div',{staticClass:\"child-item-line\"},[_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(child.userName)),_c('span',[_vm._v(\" 于 \"+_vm._s(_vm._f(\"toDate\")(child.handleTime)))])]),_c('el-tag',{staticClass:\"tag\",attrs:{\"type\":child.tagType}},[_vm._v(_vm._s(child.txt))])],1),(child.handleOpinion && child.handleStatus!=2)?_c('div',{staticClass:\"child-item-option\"},[_vm._v(\" \"+_vm._s(child.handleOpinion)+\" \")]):_vm._e(),((child.fileList.length && child.handleStatus!=2))?_c('div',{staticClass:\"file-List\"},[_c('JnpfUploadFile',{attrs:{\"detailed\":\"\",\"disabled\":\"\",\"showIcon\":false},model:{value:(child.fileList),callback:function ($$v) {_vm.$set(child, \"fileList\", $$v)},expression:\"child.fileList\"}})],1):_vm._e()])])])}),0)])])}):_c('el-empty',{attrs:{\"description\":\"暂无数据\",\"image-size\":120}})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-tabs tab-position=\"left\" style=\"height: 100%;\" v-model=\"activeTab\" class=\"recordSummary\">\r\n    <el-tab-pane label=\"按部门汇总\" name=\"1\"></el-tab-pane>\r\n    <el-tab-pane label=\"按岗位汇总\" name=\"3\"></el-tab-pane>\r\n    <div class=\"recordSummary-list\" v-loading=\"loading\">\r\n      <template v-if=\"list.length\">\r\n        <el-card class=\"recordSummary-item\" v-for=\"(item,i) in list\" :key=\"i\"\r\n          v-show=\"item.list&&item.list.length\">\r\n          <div class=\"recordSummary-item-main\">\r\n            <div class=\"cap\">{{item.fullName}}意见</div>\r\n            <div class=\"content\">\r\n              <div class=\"child-item\" v-for=\"(child,j) in item.list\" :key=\"j\">\r\n                <div class=\"child-item-block\">\r\n                  <div class=\"avatar\">\r\n                    <el-avatar :src=\"define.comUrl+child.headIcon\"></el-avatar>\r\n                  </div>\r\n                  <div class=\"child-item-title\">\r\n                    <div class=\"child-item-line\">\r\n                      <div class=\"name\">\r\n                        {{child.userName}}<span> 于 {{child.handleTime | toDate()}}</span>\r\n                      </div>\r\n                      <el-tag :type=\"child.tagType\" class=\"tag\">{{child.txt}}</el-tag>\r\n                    </div>\r\n                    <div class=\"child-item-option\"\r\n                      v-if=\"child.handleOpinion && child.handleStatus!=2\">\r\n                      {{child.handleOpinion}}\r\n                    </div>\r\n                    <div class=\"file-List\" v-if=\"(child.fileList.length && child.handleStatus!=2)\">\r\n                      <JnpfUploadFile v-model=\"child.fileList\" detailed disabled :showIcon='false'>\r\n                      </JnpfUploadFile>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </template>\r\n      <el-empty description=\"暂无数据\" :image-size=\"120\" v-else></el-empty>\r\n    </div>\r\n  </el-tabs>\r\n</template>\r\n\r\n<script>\r\nimport { getRecordList } from '@/api/workFlow/FlowBefore'\r\nexport default {\r\n  name: 'comments',\r\n  props: {\r\n    id: { type: String, default: '' },\r\n    summaryType: { default: '0' },\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      activeTab: '1',\r\n      loading: false\r\n    }\r\n  },\r\n  watch: {\r\n    activeTab(val) {\r\n      this.init()\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.loading = true\r\n      const query = {\r\n        category: this.activeTab,\r\n        type: this.summaryType\r\n      }\r\n      getRecordList(this.id, query).then(res => {\r\n        this.list = res.data\r\n        if (this.list.length) {\r\n          this.list.forEach((o, i) => {\r\n            o.list.forEach(j => {\r\n              j.fileList = j.fileList ? JSON.parse(j.fileList) : []\r\n            })\r\n            o.list = o.list.map(i => ({\r\n              txt: i.handleStatus == 0 ? '退回' : i.handleStatus == 1 ? '同意' : i.handleStatus == 2 ? '发起' : i.handleStatus == 3 ? '撤回' : i.handleStatus == 4 ? '终止' : i.handleStatus == 5 ? '指派' : i.handleStatus == 6 ? '后加签' : i.handleStatus == 10 ? '前加签' : i.handleStatus == 8 ? '变更' : i.handleStatus == 11 ? '挂起' : i.handleStatus == 12 ? '恢复' : '转审',\r\n              tagType: i.handleStatus == 0 || i.handleStatus == 11 ? 'danger' : i.handleStatus == 1 || i.handleStatus == 12 ? 'success' : i.handleStatus == 3 || i.handleStatus == 4 || i.handleStatus == 8 ? 'warning' : \"\",\r\n              ...i\r\n            }))\r\n          })\r\n        }\r\n        this.loading = false\r\n      }).catch(() => {\r\n        this.loading = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.recordSummary {\r\n  .el-tab-pane {\r\n    height: 0;\r\n  }\r\n  ::v-deep  .el-tabs__content {\r\n    height: 100%;\r\n    .recordSummary-list {\r\n      height: 100%;\r\n      overflow: hidden auto;\r\n      padding: 50px 100px 0;\r\n      .recordSummary-item {\r\n        margin-bottom: 20px;\r\n        .el-card__body {\r\n          padding: 0;\r\n          .recordSummary-item-main {\r\n            display: flex;\r\n            align-items: center;\r\n            .cap {\r\n              width: 150px;\r\n              flex-shrink: 0;\r\n              text-align: center;\r\n              font-size: 14px;\r\n            }\r\n            .content {\r\n              flex: 1;\r\n              padding: 0px 36px;\r\n              border-left: 1px solid #e4e7ed;\r\n            }\r\n            .child-item {\r\n              padding: 20px 0;\r\n              font-size: 14px;\r\n              line-height: 22px;\r\n              &:last-child {\r\n                margin-bottom: 0;\r\n              }\r\n              &:nth-child(2n) {\r\n                border-top: 1px solid #e1e5eb;\r\n              }\r\n              .child-item-block {\r\n                display: flex;\r\n                align-items: flex-start;\r\n                flex-direction: row;\r\n                .avatar {\r\n                  width: 40px;\r\n                  height: 40px;\r\n                }\r\n                // padding: 10px;\r\n\r\n                .child-item-title {\r\n                  flex: 1;\r\n                  margin-bottom: 2px;\r\n                  display: flex;\r\n                  justify-content: space-between;\r\n                  flex-direction: column;\r\n                  margin-left: 5px;\r\n                  .child-item-line {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    flex-direction: row;\r\n                    justify-content: space-between;\r\n                    padding-left: 4px;\r\n                    .name {\r\n                      font-weight: 600;\r\n                      span {\r\n                        font-weight: 400;\r\n                        font-size: 12px;\r\n                      }\r\n                    }\r\n                    .tag {\r\n                      float: right;\r\n                    }\r\n                  }\r\n                  .child-item-option {\r\n                    color: #747579;\r\n                    padding-left: 4px;\r\n                  }\r\n                  .status {\r\n                    flex-shrink: 0;\r\n                    .el-link {\r\n                      cursor: auto !important;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordSummary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordSummary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecordSummary.vue?vue&type=template&id=b9ece92e&scoped=true&\"\nimport script from \"./RecordSummary.vue?vue&type=script&lang=js&\"\nexport * from \"./RecordSummary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecordSummary.vue?vue&type=style&index=0&id=b9ece92e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9ece92e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":_vm.title,\"close-on-click-modal\":false,\"width\":\"600px\",\"visible\":_vm.visible,\"lock-scroll\":\"\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"label-width\":\"80px\",\"rules\":_vm.fromRules}},[(_vm.eventType==='transfer'||_vm.eventType==='assign'||_vm.eventType==='cancel')?[(_vm.eventType==='assign')?_c('el-form-item',{attrs:{\"label\":\"指派节点\",\"prop\":\"nodeCode\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择指派节点\"},model:{value:(_vm.dataForm.nodeCode),callback:function ($$v) {_vm.$set(_vm.dataForm, \"nodeCode\", $$v)},expression:\"dataForm.nodeCode\"}},_vm._l((_vm.assignNodeList),function(item){return _c('el-option',{key:item.nodeCode,attrs:{\"label\":item.nodeName,\"value\":item.nodeCode}})}),1)],1):_vm._e(),(_vm.eventType==='transfer'||_vm.eventType==='assign')?_c('el-form-item',{attrs:{\"label\":_vm.label+'给谁',\"prop\":\"freeApproverUserId\",\"rules\":[{ required: true, message: `请选择${_vm.label}给谁`, trigger: 'click' }]}},[_c('JnpfUserSelect',{attrs:{\"placeholder\":`请选择${_vm.label}给谁`},model:{value:(_vm.dataForm.freeApproverUserId),callback:function ($$v) {_vm.$set(_vm.dataForm, \"freeApproverUserId\", $$v)},expression:\"dataForm.freeApproverUserId\"}})],1):_vm._e(),(_vm.eventType==='assign'||_vm.eventType==='cancel'||(_vm.eventType==='transfer'&&_vm.properties&&_vm.properties.hasOpinion))?_c('el-form-item',{attrs:{\"label\":`${_vm.label}原因`,\"prop\":\"handleOpinion\"}},[_c('el-input',{attrs:{\"placeholder\":`请输入${_vm.label}原因`,\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.dataForm.handleOpinion),callback:function ($$v) {_vm.$set(_vm.dataForm, \"handleOpinion\", $$v)},expression:\"dataForm.handleOpinion\"}})],1):_vm._e(),(_vm.eventType==='assign'||_vm.eventType==='cancel'||(_vm.eventType==='transfer'&&_vm.properties&&_vm.properties.hasOpinion))?_c('el-form-item',{attrs:{\"label\":`${_vm.label}附件`,\"prop\":\"fileList\"}},[_c('JnpfUploadFile',{attrs:{\"limit\":3},model:{value:(_vm.dataForm.fileList),callback:function ($$v) {_vm.$set(_vm.dataForm, \"fileList\", $$v)},expression:\"dataForm.fileList\"}})],1):_vm._e(),(_vm.properties.hasSign&&_vm.eventType==='transfer')?_c('el-form-item',{attrs:{\"label\":\"手写签名\",\"required\":\"\"}},[_c('div',{staticClass:\"sign-main\"},[(_vm.signImg)?_c('img',{staticClass:\"sign-img\",attrs:{\"src\":_vm.signImg,\"alt\":\"\"}}):_vm._e(),_c('div',{staticClass:\"sign-style\",on:{\"click\":_vm.addSign}},[_c('i',{staticClass:\"icon-ym icon-ym-signature add-sign\"}),(!_vm.signImg)?_c('span',{staticClass:\"sign-title\"},[_vm._v(\"手写签名\")]):_vm._e()])])]):_vm._e()]:[(_vm.properties.hasOpinion)?[_c('el-form-item',{attrs:{\"label\":`${_vm.label}原因`,\"prop\":\"handleOpinion\"}},[_c('el-input',{attrs:{\"placeholder\":`请输入${_vm.label}原因`,\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.dataForm.handleOpinion),callback:function ($$v) {_vm.$set(_vm.dataForm, \"handleOpinion\", $$v)},expression:\"dataForm.handleOpinion\"}})],1),_c('el-form-item',{attrs:{\"label\":`${_vm.label}附件`,\"prop\":\"fileList\"}},[_c('JnpfUploadFile',{attrs:{\"limit\":3},model:{value:(_vm.dataForm.fileList),callback:function ($$v) {_vm.$set(_vm.dataForm, \"fileList\", $$v)},expression:\"dataForm.fileList\"}})],1)]:_vm._e(),(_vm.properties.hasSign)?_c('el-form-item',{attrs:{\"label\":\"手写签名\",\"required\":\"\"}},[_c('div',{staticClass:\"sign-main\"},[(_vm.signImg)?_c('img',{staticClass:\"sign-img\",attrs:{\"src\":_vm.signImg,\"alt\":\"\"}}):_vm._e(),_c('div',{staticClass:\"sign-style\",on:{\"click\":_vm.addSign}},[_c('i',{staticClass:\"icon-ym icon-ym-signature add-sign\"}),(!_vm.signImg)?_c('span',{staticClass:\"sign-title\"},[_vm._v(\"手写签名\")]):_vm._e()])])]):_vm._e()]],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.handleSure()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1),(_vm.signVisible)?_c('SignImgDialog',{ref:\"SignImg\",attrs:{\"lineWidth\":3,\"userInfo\":_vm.userInfo,\"isDefault\":1},on:{\"close\":_vm.signDialog}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog :title=\"title\" :close-on-click-modal=\"false\" width='600px' :visible.sync=\"visible\"\r\n    class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body>\r\n    <el-form ref=\"dataForm\" :model=\"dataForm\" label-width=\"80px\" :rules=\"fromRules\">\r\n      <template v-if=\"eventType==='transfer'||eventType==='assign'||eventType==='cancel'\">\r\n        <el-form-item label=\"指派节点\" prop=\"nodeCode\" v-if=\"eventType==='assign'\">\r\n          <el-select v-model=\"dataForm.nodeCode\" placeholder=\"请选择指派节点\">\r\n            <el-option v-for=\"item in assignNodeList\" :key=\"item.nodeCode\" :label=\"item.nodeName\"\r\n              :value=\"item.nodeCode\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label=\"label+'给谁'\" prop=\"freeApproverUserId\"\r\n          v-if=\"eventType==='transfer'||eventType==='assign'\"\r\n          :rules=\"[{ required: true, message: `请选择${label}给谁`, trigger: 'click' }]\">\r\n          <JnpfUserSelect v-model=\"dataForm.freeApproverUserId\" :placeholder=\"`请选择${label}给谁`\" />\r\n        </el-form-item>\r\n        <el-form-item :label=\"`${label}原因`\" prop=\"handleOpinion\"\r\n          v-if=\"eventType==='assign'||eventType==='cancel'||(eventType==='transfer'&&properties&&properties.hasOpinion)\">\r\n          <el-input v-model=\"dataForm.handleOpinion\" :placeholder=\"`请输入${label}原因`\" type=\"textarea\"\r\n            :rows=\"4\" />\r\n        </el-form-item>\r\n        <el-form-item :label=\"`${label}附件`\" prop=\"fileList\"\r\n          v-if=\"eventType==='assign'||eventType==='cancel'||(eventType==='transfer'&&properties&&properties.hasOpinion)\">\r\n          <JnpfUploadFile v-model=\"dataForm.fileList\" :limit=\"3\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"手写签名\" required v-if=\"properties.hasSign&&eventType==='transfer'\">\r\n          <div class=\"sign-main\">\r\n            <img :src=\"signImg\" alt=\"\" v-if=\"signImg\" class=\"sign-img\">\r\n            <div @click=\"addSign\" class=\"sign-style\">\r\n              <i class=\"icon-ym icon-ym-signature add-sign\"></i>\r\n              <span class=\"sign-title\" v-if=\"!signImg\">手写签名</span>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n      </template>\r\n      <template v-else>\r\n        <template v-if=\"properties.hasOpinion\">\r\n          <el-form-item :label=\"`${label}原因`\" prop=\"handleOpinion\">\r\n            <el-input v-model=\"dataForm.handleOpinion\" :placeholder=\"`请输入${label}原因`\"\r\n              type=\"textarea\" :rows=\"4\" />\r\n          </el-form-item>\r\n          <el-form-item :label=\"`${label}附件`\" prop=\"fileList\">\r\n            <JnpfUploadFile v-model=\"dataForm.fileList\" :limit=\"3\" />\r\n          </el-form-item>\r\n        </template>\r\n        <el-form-item label=\"手写签名\" required v-if=\"properties.hasSign\">\r\n          <div class=\"sign-main\">\r\n            <img :src=\"signImg\" alt=\"\" v-if=\"signImg\" class=\"sign-img\">\r\n            <div @click=\"addSign\" class=\"sign-style\">\r\n              <i class=\"icon-ym icon-ym-signature add-sign\"></i>\r\n              <span class=\"sign-title\" v-if=\"!signImg\">手写签名</span>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n      </template>\r\n\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n      <el-button type=\"primary\" @click=\"handleSure()\" :loading=\"btnLoading\">\r\n        {{$t('common.confirmButton')}}\r\n      </el-button>\r\n    </span>\r\n    <SignImgDialog v-if=\"signVisible\" ref=\"SignImg\" :lineWidth='3' :userInfo='userInfo'\r\n      :isDefault='1' @close=\"signDialog\" />\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport SignImgDialog from '@/components/SignImgDialog'\r\nimport { mapGetters } from \"vuex\"\r\nexport default {\r\n  components: { SignImgDialog },\r\n  props: {\r\n    assignNodeList: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      properties: {},\r\n      eventType: '',\r\n      dataForm: {\r\n        handleOpinion: '',\r\n        freeApproverUserId: '',\r\n        nodeCode: '',\r\n        fileList: [],\r\n      },\r\n      signVisible: false,\r\n      fromRules: {\r\n        nodeCode: [\r\n          { required: true, message: '请选择指派节点', trigger: 'change' }\r\n        ]\r\n      },\r\n      signImg: '',\r\n      btnLoading: false,\r\n      title: '',\r\n      label: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userInfo'])\r\n  },\r\n  methods: {\r\n    init(properties, eventType) {\r\n      this.visible = true\r\n      this.properties = properties\r\n      this.eventType = eventType || ''\r\n      this.dataForm.handleOpinion = ''\r\n      this.dataForm.freeApproverUserId = ''\r\n      this.dataForm.nodeCode = ''\r\n      this.dataForm.fileList = []\r\n      this.signImg = \"\"\r\n      if (this.properties.hasSign) this.signImg = this.userInfo.signImg\r\n      switch (eventType) {\r\n        case 'transfer':\r\n          this.title = '转审'\r\n          this.label = '转审'\r\n          break;\r\n        case 'revoke':\r\n          this.title = '撤回流程'\r\n          this.label = '撤回'\r\n          break;\r\n        case 'recall':\r\n          this.title = '撤回审核'\r\n          this.label = '撤回'\r\n          break;\r\n        case 'assign':\r\n          this.title = '指派'\r\n          this.label = '指派'\r\n          break;\r\n        case 'cancel':\r\n          this.title = '终止审核不可恢复'\r\n          this.label = '终止'\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].resetFields()\r\n      })\r\n    },\r\n    addSign() {\r\n      this.signVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.SignImg.init()\r\n      })\r\n    },\r\n    signDialog(val) {\r\n      this.signVisible = false\r\n      if (val) {\r\n        this.signImg = val\r\n      }\r\n    },\r\n    handleSure() {\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          if (this.properties.hasSign && !this.signImg && this.eventType != 'assign' && this.eventType != 'cancel') {\r\n            this.$message({\r\n              message: '请签名',\r\n              type: 'error'\r\n            })\r\n            return\r\n          }\r\n          let query = {\r\n            signImg: this.signImg,\r\n            ...this.dataForm\r\n          }\r\n          this.btnLoading = true\r\n          this.$emit('submit', query)\r\n        }\r\n      })\r\n    },\r\n    closeDialog() {\r\n      this.btnLoading = false\r\n      this.visible = false\r\n    },\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActionDialog.vue?vue&type=template&id=2f0d8570&\"\nimport script from \"./ActionDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ActionDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',_vm._g(_vm._b({staticClass:\"JNPF-dialog JNPF-dialog_center form-script-dialog\",attrs:{\"title\":\"提交审核\",\"close-on-click-modal\":false,\"lock-scroll\":\"\",\"append-to-body\":\"\",\"width\":\"600px\",\"modal-append-to-body\":false},on:{\"open\":_vm.onOpen}},'el-dialog',_vm.$attrs,false),_vm.$listeners),[_c('el-form',{ref:\"candidateForm\",attrs:{\"model\":_vm.candidateForm,\"label-width\":_vm.candidateForm.candidateList.length||_vm.branchList.length?'130px':'80px'}},[(_vm.branchList && _vm.branchList.length)?_c('el-form-item',{attrs:{\"label\":\"分支选择\",\"prop\":\"branchList\",\"rules\":[{ required: true, message: `分支不能为空`, trigger: 'change' }]}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择审批分支\",\"clearable\":\"\"},on:{\"change\":_vm.onBranchChange},model:{value:(_vm.candidateForm.branchList),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"branchList\", $$v)},expression:\"candidateForm.branchList\"}},_vm._l((_vm.branchList),function(item){return _c('el-option',{key:item.nodeId,attrs:{\"label\":item.nodeName,\"value\":item.nodeId}})}),1)],1):_vm._e(),_vm._l((_vm.candidateForm.candidateList),function(item,i){return _c('el-form-item',{key:i,attrs:{\"label\":item.nodeName+item.label,\"prop\":'candidateList.' + i + '.value',\"rules\":item.rules}},[(item.hasCandidates)?_c('candidate-user-select',{attrs:{\"multiple\":\"\",\"placeholder\":'请选择'+item.label,\"taskId\":_vm.taskId,\"formData\":_vm.formData,\"nodeId\":item.nodeId},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_c('JnpfUserSelect',{attrs:{\"multiple\":\"\",\"placeholder\":'请选择'+item.label,\"title\":\"候选人员\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)}),(_vm.isCustomCopy)?_c('el-form-item',{attrs:{\"label\":\"抄送人员\"}},[_c('JnpfUserSelect',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\"},model:{value:(_vm.candidateForm.copyIds),callback:function ($$v) {_vm.$set(_vm.candidateForm, \"copyIds\", $$v)},expression:\"candidateForm.copyIds\"}})],1):_vm._e()],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.submitCandidate()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"提交审核\" :close-on-click-modal=\"false\"\r\n    class=\"JNPF-dialog JNPF-dialog_center form-script-dialog\" lock-scroll append-to-body\r\n    v-bind=\"$attrs\" width=\"600px\" :modal-append-to-body=\"false\" v-on=\"$listeners\" @open=\"onOpen\">\r\n    <el-form ref=\"candidateForm\" :model=\"candidateForm\"\r\n      :label-width=\"candidateForm.candidateList.length||branchList.length?'130px':'80px'\">\r\n      <el-form-item label=\"分支选择\" prop=\"branchList\" v-if=\"branchList && branchList.length\"\r\n        :rules=\"[{ required: true, message: `分支不能为空`, trigger: 'change' }]\">\r\n        <el-select v-model=\"candidateForm.branchList\" multiple placeholder=\"请选择审批分支\" clearable\r\n          @change=\"onBranchChange\">\r\n          <el-option v-for=\"item in branchList\" :key=\"item.nodeId\" :label=\"item.nodeName\"\r\n            :value=\"item.nodeId\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item :label=\"item.nodeName+item.label\" :prop=\"'candidateList.' + i + '.value'\"\r\n        v-for=\"(item,i) in candidateForm.candidateList\" :key=\"i\" :rules=\"item.rules\">\r\n        <candidate-user-select v-model=\"item.value\" multiple :placeholder=\"'请选择'+item.label\"\r\n          :taskId=\"taskId\" :formData=\"formData\" :nodeId=\"item.nodeId\" v-if=\"item.hasCandidates\" />\r\n        <JnpfUserSelect v-model=\"item.value\" multiple :placeholder=\"'请选择'+item.label\" title=\"候选人员\"\r\n          v-else />\r\n      </el-form-item>\r\n      <el-form-item label=\"抄送人员\" v-if=\"isCustomCopy\">\r\n        <JnpfUserSelect v-model=\"candidateForm.copyIds\" placeholder=\"请选择\" multiple />\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"closeDialog\">{{$t('common.cancelButton')}}</el-button>\r\n      <el-button type=\"primary\" @click=\"submitCandidate()\" :loading=\"btnLoading\">\r\n        {{$t('common.confirmButton')}}\r\n      </el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport CandidateUserSelect from './CandidateUserSelect'\r\nexport default {\r\n  components: { CandidateUserSelect },\r\n  props: ['candidateList', 'branchList', 'taskId', 'formData', 'isCustomCopy'],\r\n  data() {\r\n    return {\r\n      candidateForm: {\r\n        copyIds: [],\r\n        branchList: [],\r\n        candidateList: []\r\n      },\r\n      btnLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    onOpen() {\r\n      this.candidateForm.candidateList = this.candidateList.map(o => ({\r\n        ...o,\r\n        isDefault: true,\r\n        label: '审批人',\r\n        value: [],\r\n        rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n      }))\r\n      this.candidateForm.branchList = []\r\n      this.$nextTick(() => {\r\n        this.$refs['candidateForm'].resetFields()\r\n      })\r\n    },\r\n    onBranchChange(val) {\r\n      const defaultList = this.candidateForm.candidateList.filter(o => o.isDefault)\r\n      if (!val.length) return this.candidateForm.candidateList = defaultList\r\n      let list = []\r\n      for (let i = 0; i < val.length; i++) {\r\n        inner: for (let j = 0; j < this.branchList.length; j++) {\r\n          let o = this.branchList[j]\r\n          if (val[i] === o.nodeId && o.isCandidates) {\r\n            list.push({\r\n              ...o,\r\n              label: '审批人',\r\n              value: [],\r\n              rules: [{ required: true, message: `审批人不能为空`, trigger: 'click' }]\r\n            })\r\n            break inner\r\n          }\r\n        }\r\n      }\r\n      this.candidateForm.candidateList = [...defaultList, ...list]\r\n    },\r\n    submitCandidate() {\r\n      this.$refs['candidateForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.btnLoading = true\r\n          let candidateList = {}\r\n          for (let i = 0; i < this.candidateForm.candidateList.length; i++) {\r\n            candidateList[this.candidateForm.candidateList[i].nodeId] = this.candidateForm.candidateList[i].value\r\n          }\r\n          this.$emit('submitCandidate', {\r\n            candidateList,\r\n            branchList: this.candidateForm.branchList,\r\n            copyIds: this.candidateForm.copyIds.join(','),\r\n          })\r\n        }\r\n      })\r\n    },\r\n    closeDialog() {\r\n      this.$emit('update:visible', false)\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CandidateForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CandidateForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CandidateForm.vue?vue&type=template&id=adffd59e&\"\nimport script from \"./CandidateForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CandidateForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{staticClass:\"JNPF-dialog JNPF-dialog_center\",attrs:{\"title\":\"挂起流程暂停\",\"close-on-click-modal\":false,\"width\":\"600px\",\"visible\":_vm.visible,\"lock-scroll\":\"\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"label-width\":\"80px\",\"rules\":_vm.fromRules}},[_c('el-form-item',{attrs:{\"label\":\"挂起类型\",\"prop\":\"suspend\"}},[_c('el-select',{attrs:{\"placeholder\":\"挂起类型\",\"filterable\":\"\"},model:{value:(_vm.dataForm.suspend),callback:function ($$v) {_vm.$set(_vm.dataForm, \"suspend\", $$v)},expression:\"dataForm.suspend\"}},_vm._l((_vm.suspendOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"挂起原因\",\"prop\":\"handleOpinion\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入挂起原因\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.dataForm.handleOpinion),callback:function ($$v) {_vm.$set(_vm.dataForm, \"handleOpinion\", $$v)},expression:\"dataForm.handleOpinion\"}})],1),_c('el-form-item',{attrs:{\"label\":\"挂起附件\",\"prop\":\"fileList\"}},[_c('JnpfUploadFile',{attrs:{\"limit\":3},model:{value:(_vm.dataForm.fileList),callback:function ($$v) {_vm.$set(_vm.dataForm, \"fileList\", $$v)},expression:\"dataForm.fileList\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(_vm._s(_vm.$t('common.cancelButton')))]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.handleSure()}}},[_vm._v(\" \"+_vm._s(_vm.$t('common.confirmButton'))+\" \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"挂起流程暂停\" :close-on-click-modal=\"false\" width='600px' :visible.sync=\"visible\"\r\n    class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body>\r\n    <el-form ref=\"dataForm\" :model=\"dataForm\" label-width=\"80px\" :rules=\"fromRules\">\r\n      <el-form-item label=\"挂起类型\" prop=\"suspend\">\r\n        <el-select v-model=\"dataForm.suspend\" placeholder=\"挂起类型\" filterable>\r\n          <el-option v-for=\"item in suspendOptions\" :key=\"item.value\" :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"挂起原因\" prop=\"handleOpinion\">\r\n        <el-input v-model=\"dataForm.handleOpinion\" placeholder=\"请输入挂起原因\" type=\"textarea\"\r\n          :rows=\"4\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"挂起附件\" prop=\"fileList\">\r\n        <JnpfUploadFile v-model=\"dataForm.fileList\" :limit=\"3\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\r\n      <el-button type=\"primary\" @click=\"handleSure()\" :loading=\"btnLoading\">\r\n        {{$t('common.confirmButton')}}\r\n      </el-button>\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { suspendType } from '@/api/workFlow/FlowBefore'\r\nexport default {\r\n  components: {},\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      eventType: '',\r\n      dataForm: {\r\n        suspend: false,\r\n        handleOpinion: '',\r\n        fileList: [],\r\n      },\r\n      signVisible: false,\r\n      fromRules: {\r\n        nodeCode: [\r\n          { required: true, message: '请选择指派节点', trigger: 'change' }\r\n        ]\r\n      },\r\n      signImg: '',\r\n      btnLoading: false,\r\n      title: '',\r\n      label: '',\r\n      suspendOptions: []\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    init(id) {\r\n      this.visible = true\r\n      this.dataForm.suspend = false\r\n      this.dataForm.handleOpinion = ''\r\n      this.dataForm.fileList = []\r\n      this.suspendOptions = []\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].resetFields()\r\n        suspendType(id).then(res => {\r\n          let listOptions = []\r\n          if (res.data) {\r\n            listOptions = [{ value: false, label: '全部流程挂起' }, { value: true, label: '主流程挂起' }]\r\n\r\n          } else {\r\n            listOptions = [{ value: false, label: '全部流程挂起' }]\r\n          }\r\n          this.suspendOptions = listOptions\r\n        })\r\n      })\r\n    },\r\n    handleSure() {\r\n      this.$refs['dataForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.btnLoading = true\r\n          this.$emit('submit', this.dataForm)\r\n        }\r\n      })\r\n    },\r\n    closeDialog() {\r\n      this.btnLoading = false\r\n      this.visible = false\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuspendDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SuspendDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SuspendDialog.vue?vue&type=template&id=b95b48b0&\"\nimport script from \"./SuspendDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SuspendDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordSummary.vue?vue&type=style&index=0&id=b9ece92e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowBox.vue?vue&type=style&index=0&id=11fa54b9&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUploader.vue?vue&type=style&index=0&id=206885ba&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HasFreeApprover.vue?vue&type=style&index=0&id=12eac2b4&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"JNPF-common-layout\"},[_c('JNPF-table',{staticClass:\"recordListTable\",attrs:{\"data\":_vm.list,\"hasNO\":false,\"height\":\"100%\"}},[(_vm.opType == 4)?_c('el-table-column',{attrs:{\"prop\":\"nodeName\",\"label\":\"节点名称\",\"show-overflow-tooltip\":\"\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":function($event){return _vm.handelNodeDetail(scope.row)}}},[_vm._v(\" \"+_vm._s(scope.row.nodeName))])]}}],null,false,3141567969)}):_c('el-table-column',{attrs:{\"prop\":\"nodeName\",\"label\":\"节点名称\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"操作人员\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"creatorTime\",\"label\":\"接收时间\",\"width\":\"150\",\"formatter\":_vm.jnpf.tableDateFormat}}),_c('el-table-column',{attrs:{\"prop\":\"handleTime\",\"label\":\"操作时间\",\"width\":\"150\",\"formatter\":_vm.jnpf.tableDateFormat}}),_c('el-table-column',{attrs:{\"prop\":\"handleStatus\",\"label\":\"执行动作\",\"width\":\"200\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"item\"},[_c('span',{style:({background:_vm.colorList[scope.row.handleStatus||0]})}),_vm._v(\" \"+_vm._s(_vm.statusList[scope.row.handleStatus||0])+\" \"),(scope.row.handleStatus==5||scope.row.handleStatus==6||scope.row.handleStatus==7||scope.row.handleStatus==10)?_c('div',[_vm._v(\" ：\"+_vm._s(scope.row.operatorId)+\" \")]):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"signImg\",\"label\":\"签名\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.signImg)?_c('el-image',{staticStyle:{\"width\":\"80px\"},attrs:{\"src\":scope.row.signImg,\"preview-src-list\":[scope.row.signImg]}}):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"fileList\",\"label\":\"附件\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((JSON.parse(scope.row.fileList)),function(file,index){return _c('div',{key:index,on:{\"click\":function($event){return _vm.handlePreview(file)}}},[_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false}},[_vm._v(_vm._s(file.name))])],1)})}}])}),_c('el-table-column',{attrs:{\"prop\":\"handleOpinion\",\"label\":\"备注\",\"min-width\":\"200\",\"show-overflow-tooltip\":\"\"}}),(_vm.opType==4)?_c('el-table-column',{attrs:{\"prop\":\"handleOpinion\",\"label\":\"事件日志\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.isLog)?[_c('el-link',{attrs:{\"type\":\"primary\",\"underline\":false},on:{\"click\":function($event){return _vm.handelNodeLog(scope.row)}}},[_vm._v(\" 查看日志\")])]:_vm._e()]}}],null,false,3077129486)}):_vm._e()],1),_c('Preview',{attrs:{\"visible\":_vm.previewVisible,\"file\":_vm.activeFile,\"showDownload\":true},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}}),(_vm.formVisible)?_c('FormBox',{ref:\"FormBox\",on:{\"close\":function($event){_vm.formVisible = false}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"JNPF-common-layout\">\r\n    <JNPF-table :data=\"list\" :hasNO=\"false\" class=\"recordListTable\" height=\"100%\">\r\n      <el-table-column prop=\"nodeName\" label=\"节点名称\" show-overflow-tooltip width=\"200\"\r\n        v-if=\"opType == 4\">\r\n        <template slot-scope=\"scope\">\r\n          <el-link type=\"primary\" :underline=\"false\" @click=\"handelNodeDetail(scope.row)\">\r\n            {{scope.row.nodeName}}</el-link>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"nodeName\" label=\"节点名称\" width=\"200\" v-else />\r\n      <el-table-column prop=\"userName\" label=\"操作人员\" width=\"150\" />\r\n      <el-table-column prop=\"creatorTime\" label=\"接收时间\" width=\"150\"\r\n        :formatter=\"jnpf.tableDateFormat\" />\r\n      <el-table-column prop=\"handleTime\" label=\"操作时间\" width=\"150\"\r\n        :formatter=\"jnpf.tableDateFormat\" />\r\n      <el-table-column prop=\"handleStatus\" label=\"执行动作\" width=\"200\" show-overflow-tooltip>\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"item\">\r\n            <span :style=\"{background:colorList[scope.row.handleStatus||0]}\"></span>\r\n            {{statusList[scope.row.handleStatus||0]}}\r\n            <div\r\n              v-if=\"scope.row.handleStatus==5||scope.row.handleStatus==6||scope.row.handleStatus==7||scope.row.handleStatus==10\">\r\n              ：{{scope.row.operatorId}}\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"signImg\" label=\"签名\" width=\"120\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image v-if=\"scope.row.signImg\" style=\"width: 80px\" :src=\"scope.row.signImg\"\r\n            :preview-src-list=\"[scope.row.signImg]\">\r\n          </el-image>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"fileList\" label=\"附件\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <div v-for=\"(file,index) in JSON.parse(scope.row.fileList)\" :key=\"index\"\r\n            @click=\"handlePreview(file)\">\r\n            <el-link type=\"primary\" :underline=\"false\">{{file.name}}</el-link>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"handleOpinion\" label=\"备注\" min-width=\"200\" show-overflow-tooltip />\r\n      <el-table-column prop=\"handleOpinion\" label=\"事件日志\" width=\"100\" v-if=\"opType==4\">\r\n        <template slot-scope=\"scope\">\r\n          <template v-if=\"scope.row.isLog\">\r\n            <el-link type=\"primary\" :underline=\"false\" @click=\"handelNodeLog(scope.row)\">\r\n              查看日志</el-link>\r\n          </template>\r\n        </template>\r\n      </el-table-column>\r\n    </JNPF-table>\r\n    <Preview :visible.sync=\"previewVisible\" :file=\"activeFile\" :showDownload=\"true\" />\r\n    <FormBox v-if=\"formVisible\" ref=\"FormBox\" @close=\"formVisible = false\" />\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport Preview from '@/components/Jnpf/Upload/Preview'\r\nimport FormBox from '../components/FormBox'\r\n\r\nexport default {\r\n  components: { Preview, FormBox },\r\n  props: {\r\n    list: { type: Array, default: [] },\r\n    endTime: { type: Number, default: 0 },\r\n    flowId: { type: String, default: '' },\r\n    opType: { type: Number, default: 0 }\r\n  },\r\n  name: 'recordList',\r\n  data() {\r\n    return {\r\n      colorList: ['rgba(242,68,68,0.39)', 'rgba(35,162,5,0.39)', 'rgba(0,0,255,0.39)', 'rgba(21,21,157,0.39)', 'rgba(186,33,33,0.39)',\r\n        'rgba(25,185,185,0.39)', 'rgba(50,191,61,0.39)', 'rgba(49,151,214,0.39)', 'rgba(185,123,6,0.39)', 'rgba(45,94,186,0.39)', 'rgba(50,191,61,0.39)',\r\n        'rgba(255,0,0,0.39)', 'rgba(0,128,0,0.39)'],\r\n      statusList: ['退回', '同意', '发起', '撤回', '终止', '指派', '后加签', '转办', '变更', '复活', '前加签', '挂起', '恢复'],\r\n      previewVisible: false,\r\n      formVisible: false,\r\n      activeFile: {},\r\n      logVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    handlePreview(file) {\r\n      this.activeFile = file\r\n      this.previewVisible = true\r\n    },\r\n    handelNodeDetail(item) {\r\n      let data = {\r\n        id: item.taskId,\r\n        taskNodeId: item.taskNodeId,\r\n        enCode: item.flowCode,\r\n        flowId: this.flowId,\r\n        formType: item.formType,\r\n        opType: 0,\r\n        status: item.status,\r\n        title: item.nodeName\r\n      }\r\n      this.formVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.FormBox.init(data)\r\n      })\r\n    },\r\n    handelNodeLog(item) {\r\n      this.$emit('handelNodeLog', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.recordListTable {\r\n  .el-link {\r\n    font-size: 12px;\r\n  }\r\n  .item {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    span {\r\n      width: 7px;\r\n      height: 7px;\r\n      margin-right: 6px;\r\n      margin-bottom: 1px;\r\n      border-radius: 50%;\r\n      flex-shrink: 0;\r\n    }\r\n  }\r\n  .signImg {\r\n    width: 80px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecordList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecordList.vue?vue&type=template&id=bf07802c&scoped=true&\"\nimport script from \"./RecordList.vue?vue&type=script&lang=js&\"\nexport * from \"./RecordList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecordList.vue?vue&type=style&index=0&id=bf07802c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf07802c\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\n// 获取审批常用语列表\r\nexport function getCommonWordList(data) {\r\n  return request({\r\n    url: `/api/system/CommonWords`,\r\n    method: 'get',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取审批常用语详情\r\nexport function getCommonWordsInfo(id) {\r\n  return request({\r\n    url: `/api/system/CommonWords/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n//获取所属应用\r\nexport function getSelector() {\r\n  return request({\r\n    url: `/api/system/CommonWords/Selector`,\r\n    method: 'get'\r\n  })\r\n}\r\n// 审批常用语删除\r\nexport function deleteCommonWords(id) {\r\n  return request({\r\n    url: `/api/system/CommonWords/${id}`,\r\n    method: 'DELETE'\r\n  })\r\n}\r\n// 审批常用语新建\r\nexport function Create(data) {\r\n  return request({\r\n    url: '/api/system/CommonWords',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 审批常用语编辑\r\nexport function Update(data) {\r\n  return request({\r\n    url: `/api/system/CommonWords/${data.id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\n\r\n// 获取待我审核\r\nexport function FlowBeforeList(category, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/List/${category}`,\r\n    method: 'get',\r\n    data\r\n  })\r\n}\r\n// 获取待我审批信息\r\nexport function FlowBeforeInfo(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/${id}`,\r\n    method: 'get',\r\n    data\r\n  })\r\n}\r\n// 待我审核审核\r\nexport function Audit(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Audit/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 待我审核保存草稿\r\nexport function SaveAudit(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/SaveAudit/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 待我审核退回\r\nexport function Reject(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Reject/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 撤回审核\r\nexport function Recall(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Recall/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 终止审核\r\nexport function Cancel(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Cancel/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 待我审核转审\r\nexport function Transfer(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Transfer/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 流程监控指派\r\nexport function Assign(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Assign/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 流程复活和变更节点下拉数据\r\nexport function ResurgenceList(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Selector/${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n// 流程复活和变更提交\r\nexport function Resurgence(data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Change`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 审批汇总\r\nexport function getRecordList(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/RecordList/${id}`,\r\n    method: 'get',\r\n    data\r\n  })\r\n}\r\n// 判断是否有候选人\r\nexport function Candidates(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Candidates/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 获取候选人列表（分页）\r\nexport function CandidateUser(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/CandidateUser/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 批量通过、退回、转审  batchType 0-通过 1-退回 2-转审\r\nexport function BatchOperation(data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/BatchOperation`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n// 获取批量审批流程\r\nexport function getBatchFlowSelector() {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/BatchFlowSelector`,\r\n    method: 'get'\r\n  })\r\n}\r\n// 获取批量审批流程（小id）\r\nexport function getBatchFlowJsonList(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/BatchFlowJsonList/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n// 获取流程节点列表\r\nexport function getNodeSelector(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/NodeSelector/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n// 获取批量审批候选人\r\nexport function BatchCandidate(data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/BatchCandidate`,\r\n    method: 'get',\r\n    data\r\n  })\r\n}\r\n// 判断是否有查看权限(消息通知用)\r\nexport function checkInfo(taskOperatorId) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/${taskOperatorId}/Info`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n//获取退回下拉接口\r\nexport function RejectList(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/RejectList/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 加签\r\nexport function FreeApprover(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/freeApprover/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n//挂起类型\r\nexport function suspendType(id) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Suspend/${id}`,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n//挂起流程\r\nexport function suspend(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Suspend/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n//恢复流程\r\nexport function restore(id, data) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/Restore/${id}`,\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n\r\n//查看子流程\r\nexport function subFlowInfo(taskNodeId) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowBefore/SubFlowInfo/${taskNodeId}`,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n//事件日志\r\nexport function eventLog(taskNodeId) {\r\n  return request({\r\n    url: `/api/workflow/Engine/FlowMonitor/${taskNodeId}/EventLog`,\r\n    method: 'get',\r\n  })\r\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&id=c5a4ca64&prod&lang=scss&scoped=true&\""],"sourceRoot":""}